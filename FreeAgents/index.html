<!doctype html>

<html>
  <head>
    <title>2018-2019 MLB Free Agents</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.7/d3.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700&display=swap" rel="stylesheet">

    <meta charset="UTF-8">

    <script src="dist/all.js"></script>

    <link rel="stylesheet" href="style/style.css" />
  </head>

  <body>
    <div id="positionFilter" style="position:absolute; background-color:white;"></div>
    <div class="pageHeader">
      <div class="pageHeaderContents">
        <span id="showPageTitle"><span id="mainHeaderTextSpan">2018-2019 MLB Free Agents</span></span>
        <span style="margin-left:2em; padding:3px; display:none; background-color:#173f5f; color:white; cursor:pointer" id="goBackButton">&larr;Go Back</span>
      </div>
    </div>

    <div class="pageBody">
      <div id="menuDiv">
        <h1>Agent List</h1>
        <p>This tool lists all 2018-2019 MLB Free Agents. Click on table headers to sort and filter the list, and <strong>click on a player name</strong> to project future performance, evaluate potential contracts, and see more detailed data.</p>

        <div id="playerMenu"></div>
      </div>


      <div id="modelerAndStats" style="display:none">
        <div class="hero">
          <h1>Career and Future Performance</h1>
          <p>The tool below uses simplified models to provide a (very) rough pojection of <span class='playerName'>[player name]</span>'s overall performance. <strong>Scroll down</strong> to see additional stats, or click on the 'Contract Simulator' to estimate the value of a potential contract.</p>
          <div>
            <div id="modeler" style="margin:0 auto; text-align:center"></div>
          </div>
        </div>



        <div>
          <h1>2018 Performance</h1>
          <p>The tables below show <span class='playerName'>[player name]</span>'s recent performance across a range of metrics.</p>
          <div id="showStats"></div>
        </div>
      </div>

    </div>
    <div id="tooltip"></div>



    <script>
      var tooltip = new Tooltip({
        "where":"#tooltip"
      });

      let playerMenu = new PlayerMenu(loadPlayerData)
        .registerTooltip(tooltip);

      function loadPlayerData(player) {
        let thePlayer = new Player(player,tooltip);
        playerMenu.hidePositionRow();
        let statsDiv = d3.select("#showStats");
        d3.select("#menuDiv").style("display","none");
        d3.select("#modelerAndStats").style("display","block");
        d3.select("#goBackButton").style("display","inline")
          .on('click',() => {
            d3.select("#modelerAndStats").style("display","none");
            d3.select("#menuDiv").style("display","block");
            d3.select("#modeler").html("");
            d3.select("#showStats").html("");
            d3.select("#mainHeaderTextSpan").html("2018-2019 MLB Free Agents");
            d3.select("#goBackButton").style("display","none");
          });
      }



    </script>
  </body>
</html>
