function explorableGroup(t){let e;return e=t.where.append("g")}function explorableLine(t){let e,n,o,i,r,a;return n={attr:function(t,o){return e.attr(t,o),n},hide:function(t){return e.transition().duration(t).attr("opacity",0),n},move:function(t){return e.attr("x1",t.x1).attr("x2",t.x2).attr("y1",t.y1).attr("y2",t.y2),n},show:function(t){return e.transition().duration(t).attr("opacity",1),n}},function(t){a=t.where,o=t.stroke?t.stroke:"black",r=t.strokeWidth?t.strokeWidth:1,i=t.strokeDashArray?t.strokeDashArray:"1,0",e=function(){let t;return t=a.append("line").attr("stroke",o).attr("stroke-width",r).attr("stroke-dasharray",i).attr("opacity",1)}()}(t),n}function explorableSvg(t){let e,n,o;return o=d3.select(t.where).append("svg").attr("viewbox","0 0 800 400").attr("preserveAspectRatio","xMinYMin").attr("height",t.height?t.height:400).attr("width",t.width?t.width:800),t.responsive&&(e=d3.select(t.where).node().getBoundingClientRect().width,n=o.attr("height")/o.attr("width"),o.attr("width",e).attr("height",e*n)),t.showOverflow&&o.style("overflow","visible"),o}function ExplorableNumberline(t){let e,n;return e=this,function(t){(function(t){n=t.where})(t),function(t){e.orientationYPosition=t.orientationYPosition?t.oreintationYPosition:300,e.domain=t.domain?t.domain:[0,1],e.range=t.range?t.range:[0,100]}(t),e.group=function(){let t;return t=n.append("g")}(),e.scale=function(){let t;return t=d3.scaleLinear().domain(e.domain).range(e.range)}(),e.indicators=[],e.hasTransitioned=!1}(t),e}function explorableScroll(t){let e,n,o,i,r,a;return o=this,i=[],n=!1,window.onload=s,window.onresize=s,this;function l(){let t,o,i;t=document.documentElement,o=(window.pageYOffset||t.scrollTop)-(document.clientTop||0)+a,i=r.find(t=>t.triggers.transitionOut>o),e||(e=r[0]),e!==i&&(e.event.transitionOut(),i&&((e=i).event.transitionIn(),e.event.activate())),n||((e=i).event.transitionIn(),e.event.activate(),n=!0)}function s(){a=200,r=[],d3.selectAll(".step").each(function(){let e=d3.select(this).attr("data-scroll-step");i.push(t[e]()),i.forEach(t=>{let e=t.getTriggerPosition();r.push({event:t,triggers:e})})}),d3.select(window).on("scroll",l),l(window.scrollY)}}function ExplorableTooltip(t){let e,n,o;return n=this,function(t){i(),function(t){(e=t.bodyStyles?t.bodyStyles:{}).backgroundColor=e.backgroundColor?e.backgroundColor:"white",e.border=e.border?e.border:"1px solid black",e.padding=e.padding?e.padding:"0.25em",n.width=t.width?t.width:300,n.bounds=t.bound?t.bounds:{minX:0,minY:140,maxX:800,maxY:800}}(t),n.foreignObject=function(){let t;return t=o.append("foreignObject").attr("display","none").attr("height",n.height).attr("width",n.width)}(),n.body=function(){let t;return t=n.foreignObject.append("xhtml:body").style("padding",e.padding).style("background-color","rgba(0,0,0,0)")}(),n.divContainer=function(){let t;return t=n.body.append("div").style("background-color",e.backgroundColor).style("border-radius","5px").style("box-shadow","2px 2px 5px rgba(0,0,0,0.25)").style("border",e.border)}()}(t),n;function i(){o=t.where}}function distanceFormula(t,e){let n,o;return!!t&&(!!e&&(n=Math.pow(t.x-e.x,2),o=Math.pow(t.y-e.y,2),Math.pow(n+o,.5)))}function lineAsEquation(t){let e;return(e={}).slope=(t.y2-t.y1)/(t.x2-t.x1),e.intercept=t.y1-e.slope*t.x1,e.function=(t=>e.slope*t+e.intercept),e.intercept!=1/0&&e.intercept!=-1/0||(e.vertical=!0,e.xValue=t.x1),0==e.slope&&(e.horizontal=!0,e.yValue=t.y1),e}function lineLineIntersectionCoordinates(t,e){let n;return(n={}).x=(e.intercept-t.intercept)/(t.slope-e.slope),n.y=-(t.slope*((e.intercept-t.intercept)/(t.slope-e.slope))+t.intercept),t.slope,e.slope,t.vertical&&(n.x=t.xValue,n.y=e.slope*n.x+e.intercept),t.horizontal&&(n.y*=-1),n}function lineRectangleIntersection(t,e){let n,o,i,r,a,l,s;return n={x:+e.attr("x"),y:+e.attr("y")},o={height:+e.attr("height"),width:+e.attr("width")},r=[{x1:(s=[{x:n.x,y:n.y},{x:n.x+o.width,y:n.y},{x:n.x+o.width,y:n.y+o.height},{x:n.x,y:n.y+o.height}])[0].x,y1:s[0].y,x2:s[1].x,y2:s[1].y},{x1:s[1].x,y1:s[1].y,x2:s[2].x,y2:s[2].y},{x1:s[2].x,y1:s[2].y,x2:s[3].x,y2:s[3].y},{x1:s[3].x,y1:s[3].y,x2:s[0].x,y2:s[0].y}],i=[],r.forEach(t=>{i.push(lineAsEquation(t))}),a=[],i.forEach(e=>{a.push(lineLineIntersectionCoordinates(e,t))}),l=[],a.forEach(t=>{t.x!=n.x&&t.x!=n.x+o.width||t.y>=n.y&&t.y<=n.y+o.height&&l.push(t),t.y!=n.y&&t.y!=n.y+o.height||t.x>=n.x&&t.x<=n.x+o.width&&l.push(t)}),l}function midpoint(t,e){return!!t&&(!!e&&{x:(t.x+e.x)/2,y:(t.y+e.y)/2})}function ExplorableImage(t){let e,n,o,i,r,a,l;return o=this,function(t){(function(t){n=t.href,r=t.where,e=t.height?t.height:100,i=t.width?t.width:100,a=t.x?t.x:0,l=t.y?t.y:0})(t),o.image=function(){let t;return t=r.append("image").attr("xlink:href",n).attr("height",e).attr("width",i).attr("x",a).attr("y",l)}(t.where,t.href)}(t),o}function ExplorableHintedText(t){let e,n,o,i,r,a,l,s,u,c,h,p;return n=this,p=t.where,i=t.alignmentBaseline?t.alignmentBaseline:"middle",r=t.backgroundColor?t.backgroundColor:"white",a=t.backgroundStroke?t.backgroundStroke:5,c=t.foregroundColor?t.foregroundColor:"black",u=t.fontSize?t.fontSize:"18pt",s=t.fontWeight?t.fontWeight:"normal",h=t.textAnchor?t.textAnchor:"middle",l=t.fontFamily?t.fontFamily:"sans-serif",o=t.string?t.string:"",e=t.coordinates?t.coordinates:{x:0,y:0},n.group=function(){let t;return t=explorableGroup({where:p})}(),n.innerGroup=function(){let t;return t=explorableGroup({where:n.group})}(),n.background=function(){let t;return(t=d(n.innerGroup,o)).attr("stroke",r).attr("stroke-width",a).attr("alignment-baseline",i).attr("text-anchor",h).attr("font-weight",s).attr("font-size",u).attr("font-family",l).attr("opacity",1),t}(),n.foreground=function(){let t;return(t=d(n.innerGroup,o)).attr("fill",c).attr("alignment-baseline",i).attr("text-anchor",h).attr("font-weight",s).attr("font-size",u).attr("font-family",l).attr("opacity",1),t}(),n.move(e),n;function d(t,e){let n;return n=t.append("text").attr("x",0).attr("y",0).text(e)}}function CalculationStepContainer(t){let e;return e=this,function(t){(function(t){e.lines=[],e.parent=t.parent,e.width=300})(t),n=t.parent.tooltip,n.update("<div id='fittsCalculationDisplay'>"),e.svg=function(){let t;return t=explorableSvg({where:"#fittsCalculationDisplay",width:e.width,height:120})}();var n}(t),e}function CalculationStepDivisionLine(t){let e,n,o,i,r;return i=this,function(t){a(),function(t){e=t.colors?t.colors:{numerator:"black",denominator:"black",bar:"black"},o=t.fontSize?t.fontSize:"12pt"}(t),i.group=function(){let t;return t=explorableGroup({where:r})}(),i.columns=function(){let t;return(t={}).left=explorableGroup({where:i.group}).attr("transform","translate(0,25)"),t.middle=explorableGroup({where:i.group}).attr("transform","translate(100,25)"),t}(),i.scale=function(){let t;return t=d3.scaleLinear().domain(n).range([0,100])}(),i.label=function(){let t;return t=new EquationDisplay({where:i.columns.left,coordinates:{x:90,y:0}})}(),i.bar=function(){let t;return t=new CalculationStepLinearDivisionIndicator({scale:i.scale,where:i.columns.middle,colors:e})}()}(t),i;function a(){n=t.domain,r=t.where}}function CalculationStepLine(t){const e=100,n=100;let o,i,r,a,l,s,u,c,h;return u=this,function(t){(function(t){h=t.where})(t),function(t){o=t.barHeight?t.barHeight:10,i=t.color?t.color:"black",l=t.fontSize?t.fontSize:"15pt",a=t.fontFamily?t.fontFamily:"",s=t.label?t.label+" =":"=",r=t.domain?t.domain:[0,1],u.lineHeight=t.lineHeight?t.lineHeight:25}(t),c=function(){let t;return t=d3.scaleLinear().domain(r).range([0,100])}(),u.group=function(){let t;return t=explorableGroup({where:h}).attr("transform","translate(0,50)")}(),u.columns=function(){let t;return(t={}).left=explorableGroup({where:u.group}).attr("transform","translate("+e+",0)"),t.middle=explorableGroup({where:u.group}).attr("transform","translate("+n+",0)"),t}(),u.label=function(){let t;return t=new ExplorableHintedText({where:u.columns.left,textAnchor:"end",foregroundColor:i,fontFamily:a,fontWeight:"normal",fontSize:l}).move({x:-5,y:0})}().update(s),u.bar=function(){let t;return t=new CalculationStepLinearIndicator({where:u.columns.middle,color:i,scale:c,fontSize:l,fontFamily:a,height:o})}()}(t),u}function CalculationStepLinearDivisionIndicator(t){let e,n,o,i,r;return i=this,function(t){(function(t){r=t.where,i.scale=t.scale,e=t.colors})(t),function(t){o=t.height?t.height:10,n=t.fontSize?t.fontSize:"12pt"}(t),i.barGroup=function(){let t;return t=explorableGroup({where:r})}(),i.barHint=function(){let t;return t=r.append("rect").attr("x",0).attr("y",-o/2).attr("width",i.scale.range()[1]).attr("height",o).attr("fill","none").attr("stroke","#aaa").attr("stroke-width",1)}(),i.numerator=function(){let t;return t=r.append("path").attr("d",l(i.scale.range()[1])).attr("fill",e.numerator)}(),i.denominator=function(){let t;return t=r.append("path").attr("d",a(i.scale.range()[1])).attr("fill",e.denominator)}(),i.text=function(){let t;return t=new ExplorableHintedText({where:r,fontSize:n,fontWeight:"bold",foregroundColor:e.bar,coordinates:{x:i.scale.range()[1],y:0}}).update("0")}(),i.denominatorPathGenerator=a,i.numeratorPathGenerator=l}(t),i;function a(t){let e,n;return e="M "+(n=s(t)).bottomLeft+" "+n.topRight+" "+n.bottomRight+" Z"}function l(t){let e,n;return e="M "+(n=s(t)).topLeft+" "+n.topRight+" "+n.bottomLeft+" Z"}function s(t){let e;return(e={}).topLeft="0,"+-o/2,e.bottomLeft="0,"+o/2,e.topRight=t+","+-o/2,e.bottomRight=t+","+o/2,e}}function CalculationStepLinearIndicator(t){let e,n,o,i,r,a,l;return a=this,function(t){(function(t){a.scale=t.scale,l=t.where})(t),function(t){e=t.barHeight?t.barHeight:8,n=t.color?t.color:"black",r=t.height?t.height:5,i=t.fontSize?t.fontSize:"12pt",o=t.fontFamily?t.fontFamily:"",a.barHeight=e}(t),a.bar=function(){let t;return t=l.append("rect").attr("x",0).attr("y",-r/2).attr("height",r).attr("fill",n)}(),a.barHint=function(){let t;return t=l.append("rect").attr("x",0).attr("y",-r/2).attr("width",a.scale.range()[1]).attr("height",r).attr("fill","none").attr("stroke","#aaa").attr("stroke-width",1)}(),a.text=function(){let t;return t=new ExplorableHintedText({where:l,foregroundColor:n,textAnchor:"start",alignmentBaseline:"middle",fontFamily:o,fontSize:i,fontWeight:"bold"}).move({x:0,y:0})}()}(t),a}function CalculationStepNumberLinePlot(t){let e,n,o,i,r,a,l;return a=this,function(t){(function(t){l=t.where,i=t.function})(t),function(t){e=t.color?t.color:"black",n=t.fontFamily?t.fontFamily:"",o=t.fontSize?t.fontSize:"15pt",r=t.labelText?t.labelText:"",a.lineHeight=t.lineHeight?t.lineHeight:35}(t),a.group=function(){let t;return t=explorableGroup({where:l})}(),a.columns=function(){let t;return(t={}).left=explorableGroup({where:a.group}).attr("transform","translate(90,10)"),t.middle=explorableGroup({where:a.group}).attr("transform","translate(90,0)"),t}(),a.label=function(){let t;return t=new ExplorableHintedText({where:a.columns.left,textAnchor:"end",alignmentBaseline:"center",foregroundColor:e,fontFamily:n,fontWeight:"bold",fontSize:o}).move({x:-5,y:0})}().update(r),a.plot=function(){let t;return t=new FunctionNumberLinePlotter({where:a.columns.middle,coordinates:{x:0,y:-25},width:100,height:50,axisTickCounts:1,color:e,margins:{top:15,bottom:0,left:0,right:0}}).addFunction(i).addGrid({})}(),a.highlight=function(){let t;return t=new FunctionNumberLineHighlight({parent:a.plot,value:1,color:fittsColors().logarithm,outputTextAnchor:"end",inputFontSize:"0",outputFontSize:"0pt",significantDigits:2})}()}(t),a}function CalculationStepPlot(t){const e=100,n=100;let o,i,r,a,l,s,u,c,h,p;return r={},function(t){(function(t){c=t.where})(t),d(),r.group=function(){let t;return t=explorableGroup({where:c})}(),r.columns=function(){let t;return(t={}).left=explorableGroup({where:r.group}).attr("transform","translate("+e+",0)"),t.middle=explorableGroup({where:r.group}).attr("transform","translate("+n+",0)"),t}(),r.plot=function(){let t;return t=functionPlotter({where:o.middle,width:u,height:s,domain:a,range:l,hideGrid:!0,margins:{left:0,top:0,right:0,bottom:10},circleRadius:2,axisTicks:{x:0,y:0}}).addLine({function:h,stroke:i,textColor:p,strokeWidth:3})}(),r.label=function(){let t;return t=new ExplorableHintedText({where:o.left,textAnchor:"end",foregroundColor:p,fontWeight:"bold",fontSize:"10pt"}).move({x:-5,y:s/2}).update("ID =")}()}(t),r;function d(){u=t.width?t.width:100,s=t.height?t.height:70,a=t.domain?t.domain:[0,10],l=t.range?t.range:[0,10],i=t.color?t.color:"black",p=t.lineTextColor?t.lineTextColor:"black",h=t.function?t.function:t=>t}}function FunctionNumberLineAxis(t){let e,n,o,i,r,a,l;return e=this,function(t){(function(t){a=t.parent,o=t.axisLocation,i=function(){switch(o){case"top":return d3.axisTop;case"bottom":return d3.axisBottom}}(),r=function(){switch(o){case"top":return{x:a.scale.range()[0],y:a.inputY};case"bottom":return{x:a.scale.range()[0],y:a.outputY}}}()})(t),function(t){l=t.tickCount?t.tickCount:1}(t),e.group=function(){let t;return t=explorableGroup({where:a.layers.axes})}(),n=function(){let t;return t=i(a.scale).ticks(l)}(),e.group.call(n).attr("transform","translate("+r.x+","+r.y+")").attr("font-size","14pt")}(t),e}function FunctionNumberLineAxisLabel(t){let e,n,o,i,r,a,l,s,u,c,h,p,d;return s=this,function(t){(function(t){d=t.where,c=t.parent,u=t.location,e=function(){switch(u){case"top":return"text-after-edge";case"bottom":return"text-before-edge"}}(),i=function(){switch(u){case"top":return{x:c.width/2,y:0};case"bottom":return{x:c.width/2,y:c.height}}}()})(t),function(t){o=t.color?t.color:"black",n=t.backgroundColor?t.backgroundColor:"white",a=t.fontSize?t.fontSize:"12pt",l=t.fontWeight?t.fontWeight:"bold",r=t.fontFamily?t.fontFamily:"",h=t.string?t.string:""}(t),p=function(){let t;t=new ExplorableHintedText({where:c.group,coordinates:i,alignmentBaseline:e,foregroundColor:o,fontSize:a,fontWeight:l,fontFamily:r,backgroundColor:n}).update(h)}()}(t),this}function FunctionNumberLineGrid(t){let e,n,o,i,r,a;return e=this,function(t){(function(t){e.hasTransitioned=!1,e.parent=t.parent,e.functionToPlot=e.parent.functionToPlot,e.inputY=e.parent.inputY,e.outputY=e.parent.outputY,e.scale=e.parent.scale,a=e.parent.layers.data})(t),function(t){n=t.lineInterval?t.lineInterval:1,i=t.stroke?t.stroke:"rgba(0,0,0,0.25)",o=t.strokeWidth?t.strokeWidth:1}(t),r=function(){let t;return t=explorableGroup({where:a})}(),e.gridLines=function(){let t,a,s;return t=d3.range(e.scale.domain()[0],e.scale.domain()[1]+n,n),a=t.filter(l),s=r.selectAll("line").data(a).enter().append("line").attr("x1",t=>e.scale(t)).attr("x2",t=>e.scale(e.functionToPlot(t))).attr("y1",e.inputY).attr("y2",e.outputY).attr("stroke",i).attr("stroke-width",o)}(),e.hasTransitioned=!1}(t),e;function l(t){let n,o;return o=e.functionToPlot(t),n=!0,isFinite(o)||(n=!1),o<e.scale.domain()[0]&&(n=!1),o>e.scale.domain()[1]&&(n=!1),n}}function FunctionNumberLineHighlight(t){let e,n,o,i,r,a,l,s,u,c;return i=this,function(t){(function(t){i.parent=t.parent,i.value=t.value,i.hasTransitioned=!1})(t),function(t){n=t.color?t.color:"black",e=t.backgroundColor?t.backgroundColor:"white",o=t.fontFamily?t.fontFamily:"",r=t.inputFontSize?t.inputFontSize:"14pt",l=t.outputTextAnchor?t.outputTextAnchor:"middle",a=t.outputFontSize?t.outputFontSize:"14pt",c=t.strokeWidth?t.strokeWidth:3,u=t.significantDigits?t.significantDigits:0,s=i.parent.functionToPlot(i.value).toFixed(u)}(t),i.line=function(){let t;return i.coordinates=i.parent.lineCoordinatesForValue(i.value),t=i.parent.layers.highlights.append("line").attr("x1",i.coordinates.x1).attr("x2",i.coordinates.x2).attr("y1",i.coordinates.y1).attr("y2",i.coordinates.y2).attr("stroke",n).attr("stroke-width",c)}(),i.inputText=function(){let t;return t=new ExplorableHintedText({where:i.parent.layers.highlights,coordinates:{x:i.coordinates.x1,y:i.parent.inputY},fontWeight:"bold",backgroundColor:e,foregroundColor:n,fontSize:r,fontFamily:o}).update(i.value)}(),i.outputText=function(){let t;return t=new ExplorableHintedText({where:i.parent.layers.highlights,coordinates:{x:i.parent.scale(s),y:i.parent.outputY},fontWeight:"bold",backgroundColor:e,foregroundColor:n,textAnchor:l,fontSize:a,fontFamily:o}).update(s)}()}(t),i}function FunctionNumberLineRegion(t){let e,n,o,i;return o=this,function(t){(function(t){n=t.parent,i=t.values})(t),function(t){e=t.color?t.color:"white"}(t),o.coordinates=function(){let t,e,o;return e=n.lineCoordinatesForValue(i[0]),o=n.lineCoordinatesForValue(i[1]),(t=[])[0]={x:e.x1,y:e.y1},t[1]={x:e.x2,y:e.y2},t[2]={x:o.x2,y:o.y2},t[3]={x:o.x1,y:o.y1},t}(),o.lineGenerator=function(){let t;return t=d3.line().x(t=>t.x).y(t=>t.y)}(),o.group=function(){let t;return t=explorableGroup({where:n.layers.highlights})}(),o.path=function(){let t;return t=o.group.append("path").attr("d",o.lineGenerator(o.coordinates)).attr("fill",e)}()}(t),o}function FunctionNumberLinePlotter(t){let e,n,o,i;return o=this,function(t){(function(t){i=t.where})(t),r(),o.scale=function(){let t;return t=d3.scaleLinear().domain(e).range([0,o.width])}(),o.group=function(){let t;return t=explorableGroup({where:i}).attr("transform","translate("+o.coordinates.x+","+o.coordinates.y+")")}(),o.layers=function(){let t;return(t={}).axes=explorableGroup({where:o.group}),t.data=explorableGroup({where:o.group}),t.highlights=explorableGroup({where:o.group}),t}(),o.highlightElements=[]}(t),o;function r(){o.coordinates=t.coordinates?t.coordinates:{x:150,y:125},e=t.domain?t.domain:[-2,12],n=t.color?t.color:"black",o.margins=t.margins?t.margins:{top:30,bottom:30},o.width=t.width?t.width:500,o.height=t.height?t.height:200,o.inputY=o.margins.top,o.outputY=o.height-o.margins.bottom}}function EquationDisplay(t){let e,n,o,i,r;return i=this,function(t){a(),function(t){e=t.anchorHorizontal?t.anchorHorizontal:"middle",n=t.anchorVertical?t.anchorVertical:"middle",o=t.coordinates?t.coordinates:{x:0,y:0},i.termPadding=t.termPadding?t.termPadding:3,i.terms=[]}(t),i.group=function(){let t;return t=explorableGroup({where:r}).attr("transform","translate("+o.x+","+o.y+")")}(),i.innerGroup=function(){let t;return t=explorableGroup({where:i.group})}()}(t),i;function a(){r=t.where}}function EquationDisplayTerm(t){let e,n,o,i,r,a,l;return r=this,function(t){(function(t){l=t.where})(t),function(t){r.anchorHorizontal=t.anchorHorizontal?t.anchorHorizontal:"end",r.anchorVertical=t.anchorVertical?t.anchorVertical:"middle",e=t.color?t.color:"black",r.coordinates=t.coordinates?t.coordinates:{x:0,y:0},o=t.fontSize?t.fontSize:"12pt",n=t.fontFamily?t.fontFamily:"",i=t.fontWeight?t.fontWeight:"normal",a=t.string?t.string:" "}(t),r.outerGroup=function(){let t;return t=explorableGroup({where:l})}(),r.innerGroup=function(){let t;return t=explorableGroup({where:r.outerGroup})}(),r.text=function(){let t;return t=new ExplorableHintedText({where:r.innerGroup,fontFamily:n,fontSize:o,fontWeight:i,foregroundColor:e}).update(a)}(),r.animateHighlightColor=r.text.animateHighlightColor}(t),r}function EquationDivisionTerm(t){let e,n;return e=this,function(t){(function(t){n=t.where})(t),function(t){e.coordinates=t.coordinates?t.coordinates:{x:0,y:0},e.anchorHorizontal=t.anchorHorizontal?t.anchorHorizontal:"middle",e.anchorVertical=t.anchorVertical?t.anchorVertical:"middle"}(t),e.group=function(){let t;return t=explorableGroup({where:n}).attr("transform","translate("+e.coordinates.x+","+e.coordinates.y+")")}(),e.innerGroup=function(){let t;return t=explorableGroup({where:e.group})}(),e.viniculum=function(){let t;return t=e.innerGroup.append("line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0).attr("stroke","black").attr("stroke-width",2)}()}(t),e}function FunctionPlotterAxis(t){let e,n,o,i,r,a,l;return e=this,function(t){(function(t){e.scales=t.scales,n=t.axisType,l=t.where})(t),function(t){o=t.fontSize?t.fontSize:"14pt",i=t.fontWeight?t.fontWeight:"normal",a=t.tickCount?t.tickCount:1}(t),r=function(){let t;switch(n){case"left":t={x:e.scales.x(0),y:0};break;case"bottom":t={x:0,y:e.scales.y(0)}}return t}(),e.group=function(){let t;return t=explorableGroup({where:l})}(),e.axisDefinition=function(){let t;switch(n){case"left":t=d3.axisLeft(e.scales.y);break;case"bottom":t=d3.axisBottom(e.scales.x)}return t}(),e.group.call(e.axisDefinition.ticks(a)).attr("transform","translate("+r.x+","+r.y+")").attr("font-size",o).attr("font-weight",i)}(t),e}function FunctionPlotterGrid(t){let e,n,o,i,r,a;return n=this,function(t){(function(t){a=t.tickEvery,n.scales=t.scales,r=t.where,n.domain=t.domain,n.range=t.range})(t),n.xTicks=function(){let t,n,l;return n=r.append("g"),t=d3.range(e[0],e[1]+1,a),l=n.selectAll("line").data(t).enter().append("line").attr("x1",t=>i.x(t)).attr("x2",t=>i.x(t)).attr("y1",i.y(o[0])).attr("y2",i.y(o[1])).attr("stroke","#ddd").attr("stroke-width",1).attr("stroke-dasharray","1,0")}(),n.yTicks=function(){let t,n,o;return n=r.append("g"),t=d3.range(e[0],e[1],a),o=n.selectAll("line").data(t).enter().append("line").attr("x1",i.x(e[0])).attr("x2",i.x(e[1])).attr("y1",t=>i.y(t)).attr("y2",t=>i.y(t)).attr("stroke","#ddd").attr("stroke-width",1).attr("stroke-dasharray","1,0")}()}(t),n}function FunctionPlotterLine(t){let e,n,o,i,r,a,l,s,u;return o=this,function(t){(function(t){s=t.where,o.functionToPlot=t.function,o.domain=t.domain,o.scales=t.scales})(t),function(t){e=t.circleRadius?t.circleRadius:0,n=t.samples?t.samples:100,r=t.stroke?t.stroke:"black",a=t.strokeWidth?t.strokeWidth:1,l=t.strokeDashArray?t.strokeDasharray:"1,0",u=t.textColor?t.textColor:r}(t),i=function(){let t,e;return t=(o.domain[1]-o.domain[0])/n,e=[],d3.range(o.domain[0],o.domain[1]+t,t).forEach(t=>{isFinite(o.functionToPlot(t))&&e.push({x:t,y:o.functionToPlot(t)})}),e}(),o.lineGenerator=function(){let t;return t=d3.line().x(t=>o.scales.x(t.x)).y(t=>o.scales.y(t.y))}(),o.path=function(){let t,e;return e=o.lineGenerator(i),t=s.append("path").attr("stroke",r).attr("fill","none").attr("stroke-width",a).attr("stroke-dasharray",l).attr("d",e)}(),o.valueCircle=function(){let t;return t=s.append("circle").attr("r",e).attr("fill",r)}(),o.valueText=function(){let t;return t=new ExplorableHintedText({where:s,fontSize:"22pt",foregroundColor:u,fontWeight:"bold"})}(),o.updatePlot()}(t),o}function FunctionPlotter(t){let e,n,o,i,r,a,l,s,u,c,h,p;return l=this,function(t){let g;(function(t){r=!1,c=t.where})(t),function(t){e=t.axisTicks?t.axisTicks:{x:1,y:1},n=t.functions?t.functions:[],l.height=t.height?t.height:400,l.width=t.width?t.width:800,l.domain=t.domain?t.domain:[0,10],l.range=t.range?t.range:[0,10],l.margins=t.margins?t.margins:{left:100,right:10,top:30,bottom:50},o=!t.hideGrid,h=t.x?t.x:0,p=t.y?t.y:0,l.coordinates=t.coordinates?t.coordinates:{x:h,y:p},l.fontFamily=t.fontFamily?t.fontFamily:""}(t),g=function(){let t,e;return t=c.select("defs").append("clipPath").attr("id","plotterClipPath"),e=t.append("rect").attr("x",-1).attr("y",-1).attr("width",u-l.margins.left-l.margins.right+1).attr("height",l.height-l.margins.top-l.margins.bottom+1),t}(),l.scales=function(){let t;return(t={}).x=f(l.domain,[0,l.width-l.margins.right-l.margins.left]),t.y=f(l.range,[l.height-l.margins.bottom-l.margins.top,0]),t}(),l.axisTitles={},i=d(),a=function(){let t;return t=explorableGroup({where:i}).attr("transform","translate("+l.margins.left+","+l.margins.top+")")}(),l.layers=function(){let t;return(t={}).plot=explorableGroup({where:i}).attr("transform","translate("+l.margins.left+","+l.margins.top+")"),t.grid=explorableGroup({where:t.plot}).attr("clip-path","url(#plotterClipPath)"),t.axes=explorableGroup({where:t.plot}),t.lines=explorableGroup({where:t.plot}),t.indicators=explorableGroup({where:i}),t.tooltip=explorableGroup({where:i}),t}(),l.grid=function(){let t;o&&(t=new FunctionPlotterGrid({axisTickCounts:e,domain:l.domain,range:s,scales:l.scales,where:l.layers.grid,tickEvery:1}));return t}(),l.axes=function(){let t;return(t={}).x=function(){let t;return t=new FunctionPlotterAxis({axisType:"bottom",scales:l.scales,tickCount:e.x,where:l.layers.axes})}(),t.y=function(){let t;return t=new FunctionPlotterAxis({axisType:"left",scales:l.scales,tickCount:e.y,where:l.layers.axes})}(),t}(),l.lines=function(t){let e;if(0==t.length)return e=[];return t.forEach(t=>{let n=new FunctionPlotterLine({function:t,where:l.layers.lines,domain:l.domain,scales:l.scales});e.push(n)}),e}(n),l.hotspot=function(){let t;return t=i.append("rect").attr("x",l.margins.left).attr("y",l.margins.top).attr("width",l.width-l.margins.left-l.margins.right).attr("height",l.height-l.margins.top-l.margins.bottom).attr("fill","rgba(0,0,0,0)")}(),l.hasTransitioned=!1}(t),l;function d(){let e;return e=explorableGroup({where:t.where}).attr("transform","translate("+l.coordinates.x+","+l.coordinates.y+")")}function f(t,e){let n;return n=d3.scaleLinear().domain(t).range(e)}}function ExplorableNumberlineAxis(t){let e,n,o,i,r,a,l,s,u,c,h,p;return e=this,function(t){(function(t){u=t.scale,p=t.where})(t),function(t){o=t.axisType?t.axisType:d3.axisBottom,i=t.color?t.color:"black",r=t.coordinates?t.coordinates:{x:0,y:0},l=t.fontSize?t.fontSize:"14pt",s=t.fontWeight?t.fontWeight:"normal",a=t.fontFamily?t.fontFamily:"",c=t.tickOffset?t.tickOffset:0,h=t.tickSize?t.tickSize:5}(t),n=function(){let t;return t=o().scale(u).tickSize(h)}(),e.group=function(){let t;return(t=p.append("g").call(n).attr("transform","translate("+r.x+","+r.y+")")).selectAll("text").attr("font-family",a).attr("font-weight",s).attr("font-size",l).attr("dy",c),t}()}(t),e}function ExplorableNumberlineIndicator(t){let e,n,o,i,r,a,l,s,u,c,h,p;return l=this,function(t){(function(t){a=t.coordinates,p=t.where})(t),function(t){e=t.activeRadius?t.activeRadius:5,n=t.activeColor?t.activeColor:"black",o=t.activeStroke?t.activeStroke:"black",i=t.activeStrokeWidth?t.activeStrokeWidth:0,r=t.color?t.color:"black",s=t.radius?t.radius:5,u=t.stroke?t.stroke:"black",c=t.strokeWidth?t.strokeWidth:0,h=t.transitionDuration?t.transitionDuration:500}(t),l.circle=function(){let t;return t=p.append("circle").attr("cx",a.x).attr("cy",a.y).attr("fill",r).attr("r",s).attr("stroke",u).attr("strokeWidth",c).attr("cursor","pointer").on("mouseover",d)}()}(t),l;function d(){l.circle.transition().duration(h).attr("r",e).attr("fill",n).attr("stroke",o).attr("stroke-width",i)}}function ExplorableNumberlineOrientationMarker(t){let e,n,o,i,r,a,l,s,u,c;return l=this,function(t){(function(t){c=t.where})(t),function(t){e=t.backgroundColor?t.backgroundColor:"white",n=t.coordinates?t.coordinates:{x:0,y:0},o=t.fontFamily?t.fontFamily:"",i=t.fontSize?t.fontSize:"14pt",r=t.fontWeight?t.fontWeight:"normal",a=t.foregroundColor?t.foregroundColor:"black",s=t.string?t.string:"",u=t.textAnchor?t.textAnchor:"start"}(t),l.text=function(){let t;t=new ExplorableHintedText({where:c,backgroundColor:e,coordinates:n,fontSize:i,fontFamily:o,fontWeight:r,foregroundColor:a,textAnchor:u}).update(s)}()}(t),l}function ExplorableNumberlineTitle(t){let e,n,o,i,r,a,l,s,u,c;return u=this,function(t){(function(t){c=t.where})(t),function(t){e=t.backgroundColor?t.backgroundColor:"white",n=t.coordinates?t.coordinates:{x:0,y:0},o=t.fontSize?t.fontSize:"36pt",r=t.fontWeight?t.fontWeight:"bold",i=t.fontFamily?t.fontFamily:"",a=t.foregroundColor?t.foregroundColor:"black",l=t.string?t.string:"",s=t.textAnchor?t.textAnchor:"middle"}(t),u.text=function(){let t;return t=new ExplorableHintedText({where:c,backgroundColor:e,coordinates:n,fontSize:o,fontWeight:r,fontFamily:i,foregroundColor:a,textAnchor:s}).update(l).hide()}()}(t),u}function ExplorableScrollStep(t){const e=this;return function(t){(function(t){e.name=t.name,e.triggerId=t.trigger})(t),e.transitionIn=(()=>{}),e.transitionOut=(()=>{})}(t),e}function functionNumberLineHighlightValue(t){return e=>{let n;return n=group.append("line").attr("x1",t.scale(e)).attr("x2",t.scale(t.functionToPlot(e))).attr("y1",margins.top).attr("y2",height-margins.bottom).attr("stroke","blue").attr("stroke-width",3),t}}ExplorableNumberline.prototype.addAxis=function(t){return t.where=this.group,t.scale=this.scale,this.axis=new ExplorableNumberlineAxis(t),this},ExplorableNumberline.prototype.addIndicator=function(t){let e;return t.where=this.group,t.scale=this.scale,t.coordinates={x:this.scale(t.value),y:200},e=new ExplorableNumberlineIndicator(t),this.indicators.push(e),this},ExplorableNumberline.prototype.addMaximumOrientationMarker=function(t){return t.where=this.group,t.textAnchor="end",t.coordinates={x:this.range[1],y:this.orientationYPosition},this.minimumOrientationMarker=new ExplorableNumberlineOrientationMarker(t),this},ExplorableNumberline.prototype.addMinmumOrientationMarker=function(t){return t.where=this.group,t.textAnchor="start",t.coordinates={x:this.range[0],y:this.orientationYPosition},this.minimumOrientationMarker=new ExplorableNumberlineOrientationMarker(t),this},ExplorableNumberline.prototype.addTitle=function(t){return t.where=this.group,this.title=new ExplorableNumberlineTitle(t),this},ExplorableNumberline.prototype.hide=function(){return this},ExplorableNumberline.prototype.show=function(t={}){const e=this;return e.hasTransitioned||(t.titleDuration=t.titleDuration?t.titleDuration:500,t.titleDelay=t.titleDelay?t.titleDelay:0,t.axisDuration=t.axisDuration?t.axisDuration:1500,t.axisDelay=t.axisDelay?t.axisDelay:0,e.title&&e.title.transitionIn(t.titleDuration,t.titleDelay),e.axis&&e.axis.transitionIn(t.axisDuration,t.axisDelay),e.indicators.forEach(t=>{t.transitionIn()}),e.hasTransitioned=!0),e},ExplorableTooltip.prototype.changeHeight=function(t){return this.foreignObject.attr("height",t),this},ExplorableTooltip.prototype.changeWidth=function(t){return this.foreignObject.attr("width",t),this},ExplorableTooltip.prototype.hide=function(){return this.foreignObject.attr("display","none"),this},ExplorableTooltip.prototype.move=function(t){let e,n,o;try{n=this.foreignObject.node().getBBox()}catch(t){n={height:0,width:0,x:0,y:0}}return e={},(o={}).x=t.x-n.width/2,o.y=t.y,e.right=o.x+n.width,e.left=o.x,e.top=o.y,e.bottom=o.y+n.height,e.left<this.bounds.minX&&(o.x=this.bounds.minX),e.right>this.bounds.maxX&&(o.x=this.bounds.maxX-n.width),e.top<this.bounds.minY&&(o.y=this.bounds.minY),e.bottom>this.bounds.maxY&&(o.y=this.bounds.maxY-n.height),this.foreignObject.attr("x",o.x).attr("y",o.y),this},ExplorableTooltip.prototype.show=function(){return this.foreignObject.attr("display","block"),this},ExplorableTooltip.prototype.update=function(t){return this.divContainer.html(t),this},ExplorableImage.prototype.attr=function(t,e){return this.image.attr(t,e),this},ExplorableImage.prototype.fade=function(t=0,e=0){return this.image.transition().duration(t).attr("opacity",e),this},ExplorableImage.prototype.hide=function(t=0){return this.image.transition().duration(t).attr("opacity",0),this},ExplorableImage.prototype.move=function(t){return this.image.transition().delay(1500).duration(t.duration).attr("x",t.x).attr("y",t.y),this},ExplorableImage.prototype.show=function(t=0,e=1){return this.image.transition().duration(t).attr("opacity",e),this},ExplorableHintedText.prototype.changeBackgroundColor=function(t,e=0,n=0){return this.background.transition().duration(e).delay(n).attr("stroke",t),this},ExplorableHintedText.prototype.changeForegroundColor=function(t,e=0,n=0){return this.foreground.transition().duration(e).delay(n).attr("fill",t),this},ExplorableHintedText.prototype.embiggen=function(t){return this.foreground.attr("transform","scale("+t+")"),this.background.attr("transform","scale("+t+")"),this},ExplorableHintedText.prototype.hide=function(t){return this.foreground.transition().duration(t).attr("opacity",0),this.background.transition().duration(t).attr("opacity",0),this},ExplorableHintedText.prototype.killPulse=function(){return this.innerGroup.transition().duration(0).attr("transform","scale(1)"),this},ExplorableHintedText.prototype.makeBold=function(){return this.foreground.attr("font-weight","bold"),this.background.attr("font-weight","bold"),this},ExplorableHintedText.prototype.move=function(t){return this.coordinates=t,this.group.attr("transform","translate("+this.coordinates.x+","+this.coordinates.y+")"),this},ExplorableHintedText.prototype.moveX=function(t){return this.coordinates.x=t,this.group.attr("transform","translate("+this.coordinates.x+","+this.coordinates.y+")"),this},ExplorableHintedText.prototype.moveY=function(t){return this.coordinates.y=t,this.group.attr("transform","translate("+this.coordinates.x+","+this.coordinates.y+")"),this},ExplorableHintedText.prototype.pulse=function(t,e){let n=this;return function o(){n.innerGroup.transition().duration(t).attr("transform","scale(1.25)").transition().duration(e).attr("transform","scale(1)").on("end",o)}(),n},ExplorableHintedText.prototype.scaleIn=function(t,e){return this.innerGroup.transition().duration(0).attr("transform","scale(0)").transition().duration(t).delay(e).attr("transform","scale(1)"),this},ExplorableHintedText.prototype.show=function(t){return this.foreground.transition().duration(t).attr("opacity",1),this.background.transition().duration(t).attr("opacity",1),this},ExplorableHintedText.prototype.update=function(t){return this.foreground.html(t),this.background.html(t),this},CalculationStepContainer.prototype.addDivisionLine=function(t){let e;return e=new CalculationStepDivisionLine(t),this.lines.push(e),this.layout(),e},CalculationStepContainer.prototype.addFunctionNumberLinePlot=function(t){let e;return e=new CalculationStepNumberLinePlot(t),this.lines.push(e),this.layout(),e},CalculationStepContainer.prototype.addFunctionPlot=function(t){let e;return e=new CalculationStepPlot(t),this.lines.push(e),this.layout(),e},CalculationStepContainer.prototype.addLine=function(t){let e;return e=new CalculationStepLine(t),this.lines.push(e),this.layout(),e},CalculationStepContainer.prototype.layout=function(){let t,e;t=25,e=50,this.lines.forEach(e=>{e.group.attr("transform","translate(0,"+t+")"),t+=e.getHeight()}),e=t,this.svg.attr("height",e),this.parent.tooltip.changeWidth(this.width),this.parent.tooltip.changeHeight(e+30)},CalculationStepDivisionLine.prototype.addDivisionTermToLabel=function(t){let e;return e=new EquationDivisionTerm({where:this.label.innerGroup,coordinates:{x:0,y:0},anchorHorizontal:"end"}).denominator({string:t.labels.denominator,fontSize:this.fontSize,fontWeight:"bold",color:t.colors.denominator}).numerator({string:t.labels.numerator,fontSize:this.fontSize,fontWeight:"bold",color:t.colors.numerator}).layout(),this.label.addTerm(e),this},CalculationStepDivisionLine.prototype.addTextTermToLabel=function(t){let e,n;return e=this,n=new EquationDisplayTerm({where:this.label.innerGroup,coordinates:{x:0,y:0},string:t.string}),this},CalculationStepDivisionLine.prototype.getHeight=function(){return 50},CalculationStepDivisionLine.prototype.layout=function(){return this.label.layout(),this},CalculationStepDivisionLine.prototype.update=function(t){return this.label.layout(),this.bar.update(t),this},CalculationStepLine.prototype.addConstantValue=function(t){const e=this.bar;let n;return n=this.columns.middle.append("rect").attr("x",0).attr("y",-e.barHeight/2).attr("width",e.scale(t.value)).attr("height",e.barHeight).attr("fill",t.color),this},CalculationStepLine.prototype.getHeight=function(){return this.lineHeight},CalculationStepLine.prototype.update=function(t){return this.bar.update(t),this},CalculationStepLinearDivisionIndicator.prototype.update=function(t){return this.numerator.attr("d",this.numeratorPathGenerator(this.scale(t))),this.denominator.attr("d",this.denominatorPathGenerator(this.scale(t))),this.text.move({x:this.scale(t)+20,y:0}).update(t),this},CalculationStepLinearIndicator.prototype.update=function(t){return this.bar.attr("width",this.scale(t)),this.text.update(t).move({x:this.scale(t)+10,y:0}),this},CalculationStepNumberLinePlot.prototype.getHeight=function(){return this.lineHeight},CalculationStepNumberLinePlot.prototype.update=function(t){return this.plot.update(t),this.highlight.update(t),this},CalculationStepPlot.prototype.getHeight=function(){return this.height},CalculationStepPlot.prototype.update=function(t){return this.plot.highlightValue(t),this},FunctionNumberLineAxis.prototype.killTransition=function(){let t=this;return function(){let e,n;n=t.group.select(".domain"),e=n.node().getTotalLength(),n.transition().duration(0).attr("stroke-dasharray",e+","+e)}(),function(e){let n,o;n=t.group.selectAll(".tick"),o=e/n.size(),n.transition().duration(0).attr("opacity",1)}(),t},FunctionNumberLineAxis.prototype.transitionIn=function(t,e){let n=this;return function(t,e){let o,i;i=n.group.select(".domain"),o=i.node().getTotalLength(),i.attr("stroke-dasharray","0,"+o).transition().duration(t).delay(e).attrTween("stroke-dasharray",function(){let t,e;return e=i.node().getTotalLength(),t=d3.interpolateString("0,"+e,e+","+e),e=>t(e)})}(t,e),function(t,e){let o,i;o=n.group.selectAll(".tick"),i=t/o.size(),o.attr("opacity",0).transition().delay((t,n)=>e+n*i).duration(i).attr("opacity",1)}(t,e),n},FunctionNumberLineGrid.prototype.killTransition=function(){let t=this;return t.gridLines.transition().duration(0).attr("x2",e=>t.scale(t.functionToPlot(e))).attr("y2",t.outputY),t},FunctionNumberLineGrid.prototype.transitionIn=function(t,e){let n=this;return n.gridLines.attr("x1",t=>n.scale(t)).attr("x2",t=>n.scale(t)).attr("y1",n.inputY).attr("y2",n.inputY).transition().delay((t,n)=>e+10*n).duration(t).attr("x2",t=>n.scale(n.functionToPlot(t))).attr("y2",n.outputY),n},FunctionNumberLineHighlight.prototype.hide=function(){return this.inputText.hide(),this.line.attr("opacity",0),this.outputText.hide(),this},FunctionNumberLineHighlight.prototype.show=function(){return this.inputText.show(),this.line.attr("opacity",1),this.outputText.show(),this},FunctionNumberLineHighlight.prototype.transitionIn=function(t,e){const n=this;return n.hasTransitioned||(n.line.transition().duration(0).attr("x2",n.coordinates.x1).attr("y2",n.coordinates.y1).transition().duration(500).delay(e+t).attr("x2",n.coordinates.x2).attr("y2",n.coordinates.y2),n.inputText.scaleIn(t,e),n.outputText.scaleIn(t,e+t),n.hasTransitioned=!0),n},FunctionNumberLineHighlight.prototype.update=function(t){const e=this,n=e.parent.functionToPlot(t).toFixed(2);return isNaN(n)?e:t>e.parent.scale.domain()[1]?e:n<e.parent.scale.domain()[0]?e:(t=(t=+t).toFixed(2),e.coordinates=e.parent.lineCoordinatesForValue(t),e.line.attr("x1",e.coordinates.x1).attr("x2",e.coordinates.x2).attr("y1",e.coordinates.y1).attr("y2",e.coordinates.y2),e.inputText.update(t).move({x:e.coordinates.x1,y:e.coordinates.y1}),e.outputText.update(n).move({x:e.parent.scale(n),y:e.coordinates.y2}),e)},FunctionNumberLineRegion.prototype.hide=function(t=0){return this.group.transition().duration(t).attr("opacity",0),this},FunctionNumberLineRegion.prototype.show=function(t=0){return this.group.transition().duration(t).attr("opacity",1),this},FunctionNumberLineRegion.prototype.transitionIn=function(t,e,n){let o,i,r,a;return(a=this).hasTransitioned||(r=a.path.attr("d"),n?((o=[])[0]=a.coordinates[3],o[1]=a.coordinates[2],o[2]=a.coordinates[2],o[3]=a.coordinates[3]):((o=[])[0]=a.coordinates[0],o[1]=a.coordinates[1],o[2]=a.coordinates[1],o[3]=a.coordinates[0]),i=a.lineGenerator(o),a.path.transition().duration(0).attr("d",i).transition().delay(e).duration(t).attr("d",r),a.hasTransitioned=!0),a},FunctionNumberLinePlotter.prototype.addFunction=function(t){return this.functionToPlot=t,this},FunctionNumberLinePlotter.prototype.addGrid=function(t){return t.parent=this,this.grid=new FunctionNumberLineGrid(t),this},FunctionNumberLinePlotter.prototype.addHighlightElement=function(t){return this.highlightElements.push(t),this},FunctionNumberLinePlotter.prototype.addInputAxis=function(t){return t.parent=this,t.axisLocation="top",this.inputAxis=new FunctionNumberLineAxis(t),this},FunctionNumberLinePlotter.prototype.addInputLabel=function(t){return t.parent=this,t.location="top",this.inputLabel=new FunctionNumberLineAxisLabel(t),this},FunctionNumberLinePlotter.prototype.addOutputAxis=function(t){return t.parent=this,t.axisLocation="bottom",this.outputAxis=new FunctionNumberLineAxis(t),this},FunctionNumberLinePlotter.prototype.addOutputLabel=function(t){return t.parent=this,t.location="bottom",this.inputLabel=new FunctionNumberLineAxisLabel(t),this},FunctionNumberLinePlotter.prototype.clearHighlights=function(){return this.highlightElements.forEach(t=>{t.hide()}),this},FunctionNumberLinePlotter.prototype.lineCoordinatesForValue=function(t){return{x1:this.scale(t),x2:this.scale(this.functionToPlot(t)),y1:this.margins.top,y2:this.height-this.margins.bottom}},FunctionNumberLinePlotter.prototype.transitionIn=function(t){const e=this;return e.hasTransitioned||(e.inputAxis.transitionIn(t,0),e.outputAxis.transitionIn(t,250),e.grid.transitionIn(2*t,375),e.hasTransitioned=!0),e},FunctionNumberLinePlotter.prototype.update=function(t){return this},FunctionNumberLinePlotter.prototype.valuesAtMouseCoordinates=function(t){let e;return(e={}).x=this.scale.invert(t.x-this.coordinates.x),e},EquationDisplay.prototype.addTerm=function(t){return this.terms.push(t),this},EquationDisplay.prototype.layout=function(){let t;return t=0,this.terms.slice().reverse().forEach(e=>{e.layout(),e.move({x:t,y:0}),t-=e.getWidth(),t-=this.termPadding}),this},EquationDisplay.prototype.scaleToBoundingBos=function(){return this},EquationDisplayTerm.prototype.changeBackgroundColor=function(t,e=0,n=0){return this.text.changeBackgroundColor(t,e,n),this},EquationDisplayTerm.prototype.changeColor=function(t,e=0,n=0){return this.text.changeForegroundColor(t,e,n),this},EquationDisplayTerm.prototype.getWidth=function(){let t,e;return e=(t=this.innerGroup.node().getBBox()).width},EquationDisplayTerm.prototype.layout=function(){let t=this;return function(){let e,n;e=function(){let e;switch(e=t.getWidth(),t.anchorHorizontal){case"start":return e/2;case"middle":return 0;case"end":return-e/2}}(),n=function(){let e;switch(e=t.innerGroup.node().getBBox().height,t.anchorVertical){case"top":return-e/2;case"middle":return 0;case"bottom":return e/2}}(),t.innerGroup.attr("transform","translate("+e+","+n+")")}(),this},EquationDisplayTerm.prototype.makeBold=function(){return this.text.makeBold(),this},EquationDisplayTerm.prototype.move=function(t){return this.coordinates=t,this.outerGroup.attr("transform","translate("+this.coordinates.x+","+this.coordinates.y+")"),this},EquationDivisionTerm.prototype.denominator=function(t){return this.denominatorText=new ExplorableHintedText({where:this.innerGroup,coordinates:{x:0,y:10},fontSize:"10pt",foregroundColor:t.color,fontWeight:"bold",fontFamily:t.fontFamily,textAnchor:"middle",alignmentBaseline:"hanging"}).update(t.string),this.layout(),this},EquationDivisionTerm.prototype.getWidth=function(){let t;return t=this.group.node().getBBox().width},EquationDivisionTerm.prototype.highlightDenominator=function(t){return this.denominatorText.changeForegroundColor(t).makeBold(),this},EquationDivisionTerm.prototype.highlightNumerator=function(t){return this.numeratorText.changeForegroundColor(t).makeBold(),this},EquationDivisionTerm.prototype.layout=function(){let t,e=this;return t=e.innerGroup.node().getBBox(),function(){let t,n;t=function(){let t;switch(t=e.group.node().getBBox().width,e.anchorHorizontal){case"start":case"middle":return 0;case"end":return-t/2}}(),n=function(){let t;switch(t=e.innerGroup.node().getBBox().height,e.anchorVertical){case"top":return-t/2;case"middle":return 0;case"bottom":return t/2}}(),e.innerGroup.attr("transform","translate("+t+","+n+")")}(),e.viniculum.attr("x1",t.x).attr("x2",t.x+t.width).attr("y1",0).attr("y2",0),e},EquationDivisionTerm.prototype.maxXExtent=function(){let t;return t=this.group.node().getBBox(),this.coordinates.x+t.x+t.width},EquationDivisionTerm.prototype.move=function(t){let e=this;return t&&(e.coordinates=t),e.group.attr("transform","translate("+e.coordinates.x+","+e.coordinates.y+")"),e},EquationDivisionTerm.prototype.moveAdjacentTo=function(t,e){let n;return n=t.maxXExtent()+e,this.moveX(n),this},EquationDivisionTerm.prototype.moveX=function(t){return this.coordinates.x=xPosition,this.move(),this},EquationDivisionTerm.prototype.numerator=function(t){return this.numeratorText=new ExplorableHintedText({where:this.innerGroup,coordinates:{x:0,y:-25},fontSize:"10pt",fontFamily:t.fontFamily,foregroundColor:t.color,fontWeight:"bold",textAnchor:"middle",alignmentBaseline:"hanging"}).update(t.string),this.layout(),this},FunctionPlotterAxis.prototype.transitionIn=function(t){const e=this;return function(t){let n,o;o=e.group.select(".domain"),n=o.node().getTotalLength(),o.transition().duration(t).attrTween("stroke-dasharray",function(){let t,e;return e=o.node().getTotalLength(),t=d3.interpolateString("0,"+e,e+","+e),e=>t(e)})}(t),function(t){let n,o;n=e.group.selectAll(".tick"),o=t/n.size(),n.attr("opacity",0).transition().delay((t,e)=>(e-1)*o).duration(o).attr("opacity",1)}(t),e},FunctionPlotterGrid.prototype.transitionIn=function(){this.xTicks.attr("y2",this.scales.y(this.range[0])).transition().delay((t,e)=>100*e).duration(1e3).attr("y2",this.scales.y(this.range[1])),this.yTicks.attr("x2",this.scales.x(this.domain[0])).transition().delay((t,e)=>100*e).duration(1e3).attr("x2",this.scales.x(this.domain[1]))},FunctionPlotterLine.prototype.highlightValue=function(t){const e=this.functionToPlot(t);return isFinite(e)?isNaN(e)?this:t>this.scales.x.domain()[1]?this:(this.valueCircle.attr("cx",this.scales.x(t)).attr("r",10).attr("cy",this.scales.y(this.functionToPlot(t))),this.valueText.move({x:this.scales.x(t),y:this.scales.y(this.functionToPlot(t))-25}).update(this.functionToPlot(t).toFixed(2)),this):this},FunctionPlotterLine.prototype.transitionIn=function(t){const e=this;this.path.transition().duration(t).attrTween("stroke-dasharray",function(){let t,n;return t=e.path.node().getTotalLength(),n=d3.interpolateString("0,"+t,t+","+t),t=>n(t)})},FunctionPlotterLine.prototype.updatePlot=function(){return this},FunctionPlotter.prototype.addLine=function(t){let e;return e=new FunctionPlotterLine({function:t.function,where:this.layers.lines,domain:this.domain,scales:this.scales,stroke:t.stroke,strokeWidth:t.strokeWidth,strokeDasharray:t.strokeDasharray,circleRadius:t.circleRadius,textColor:t.textColor}),this.lines.push(e),this},FunctionPlotter.prototype.addMouseMoveListener=function(t){return this.hotspot.on("mousemove",t),this},FunctionPlotter.prototype.addMouseOutListener=function(t){return this.hotspot.on("mouseout",t),this},FunctionPlotter.prototype.addMouseOverListener=function(t){return this.hotspot.on("mouseover",t),this},FunctionPlotter.prototype.highlightValue=function(t){return this.lines.forEach(e=>{e.highlightValue(t)}),this},FunctionPlotter.prototype.listener=function(t,e){const n=this;return n.hotspot.on(t,()=>{let t;(t={}).x=d3.event.offsetX-n.margins.left,t.y=d3.event.offsetY-n.margins.top,e({coordinates:t,values:{x:n.scales.x.invert(t.x),y:n.scales.y.invert(t.y)}}),n.lines.forEach(e=>{e.highlightValue(n.scales.x.invert(t.x))})}),n},FunctionPlotter.prototype.plotTitle=function(t){return this.axisTitles.plot=new ExplorableHintedText({where:this.layers.axes,string:t.string,textAnchor:"middle",fontSize:"22pt",fontWeight:"bold",fontFamily:this.fontFamily,alignmentBaseline:"text-after-edge",backgroundColor:t.backgroundColor,coordinates:{x:this.scales.x((this.domain[1]-this.domain[0])/2),y:0}}),this},FunctionPlotter.prototype.transitionIn=function(t){this.hasTransitioned||(this.grid&&this.grid.transitionIn(t),this.axes.x.transitionIn(t),this.axes.y.transitionIn(t),this.lines.forEach(e=>{e.transitionIn(t)}),this.hasTransitioned=!0)},FunctionPlotter.prototype.valuesAtMouseCoordinates=function(t){let e;return(e={}).x=this.scales.x.invert(t.x-this.margins.left-this.coordinates.x),e.y=this.scales.y.invert(t.y-this.margins.bottom-this.coordinates.y),e},FunctionPlotter.prototype.xAxisTitle=function(t){return this.axisTitles.x=new ExplorableHintedText({where:this.layers.axes,string:t.string,textAnchor:"middle",fontSize:t.fontSize,fontWeight:"normal",fontFamily:this.fontFamily,alignmentBaseline:"text-before-edge",backgroundColor:t.backgroundColor,coordinates:{x:this.scales.x((this.domain[1]-this.domain[0])/2),y:this.height-this.margins.bottom}}),this},FunctionPlotter.prototype.yAxisTitle=function(t){return this.axisTitles.y=new ExplorableHintedText({where:this.layers.axes,string:t.string,textAnchor:"end",fontSize:t.fontSize,fontWeight:"normal","alignment-baseline":"middle",fontFamily:this.fontFamily,backgroundColor:t.backgroundColor,coordinates:{x:-20,y:this.scales.y((this.range[1]-this.range[0])/2)}}),this},ExplorableNumberlineAxis.prototype.transitionIn=function(t=2e3){const e=this;return function(t){let n,o;o=e.group.select(".domain"),n=o.node().getTotalLength(),o.transition().duration(t).attrTween("stroke-dasharray",function(){let t,e;return e=o.node().getTotalLength(),t=d3.interpolateString("0,"+e,e+","+e),e=>t(e)})}(t),function(t){let n,o;n=e.group.selectAll(".tick"),o=t/n.size(),n.attr("opacity",0).transition().delay((t,e)=>(e-1)*o).duration(o).attr("opacity",1)}(t),e},ExplorableNumberlineIndicator.prototype.transitionIn=function(){return this},ExplorableNumberlineTitle.prototype.show=function(t=375,e=0){return this.text.hide(t,e),this},ExplorableNumberlineTitle.prototype.transitionIn=function(t=500,e=0){return this.text.show(t,e),this},ExplorableScrollStep.prototype.activate=function(){return d3.selectAll(".step").classed("active",!1),d3.select("#"+this.triggerId).classed("active",!0),this},ExplorableScrollStep.prototype.getTriggerPosition=function(){let t,e,n,o;return n={transitionIn:(t=(e=(o=d3.select("#"+this.triggerId)).node()).getBoundingClientRect()).top+window.scrollY,transitionOut:t.top+t.height+window.scrollY}},ExplorableScrollStep.prototype.setTransitionIn=function(t){return this.transitionIn=t,this},ExplorableScrollStep.prototype.setTransitionOut=function(t){return this.transitionOut=t,this};