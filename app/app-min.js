function DetailsBox(t){const e=this;return function(t){e.parent=t,e.containerDiv=e.addContainerDiv(),e.contentDiv=e.addContentDiv(),e.subtitleDiv=e.addSubtitleDiv(),e.dateDiv=e.addDateDiv()}(t),e}function HeroPlayer(t,e,n){const r=this;return function(t,e,n){r.vimeoId=e,r.videoDiv=r.addVideoDiv(t),r.iframeHolder=r.addIframeHolder(),r.videoLoad=r.addVideoLoad(n),r.playerOverlay=r.addPlayerOverlay(),r.messageDiv=r.addMessageDiv()}(t,e,n),r}function Portfolio(){const t=this;return t.isMobile="ontouchstart"in window,t.titleTag=d3.select("title"),t.metaDescription=d3.select("head").append("meta").attr("name","description"),t.isActive=!1,t.itemsDiv=t.addItemsDiv(),t.items=t.addItems(),t.detailsBox=t.addDetailsBox(),t.contentPane=t.addContentPane(),t.registerRouter().registerHashChange().registerNavigation().resetMetadata(),t}function ContentPane(t){const e=this;return function(t){e.parent=t,e.containerDiv=e.addContainerDiv()}(t),e}function PortfolioItemContent(t){const e=this;return function(t){e.where=t,e.containerDiv=e.addContainerDiv(),e.videoDiv=e.addVideoDiv(),e.descriptionDiv=e.addDescriptionDiv()}(t),e}function PortfolioItem(t,e){const n=this;return function(t,e){n.state="inactive",n.parent=t,n.manifest=e,n.containerDiv=n.addContainerDiv(),n.substrate=n.addSubstrate(),n.textLayer=n.addTextLayer(),n.textDiv=n.addTextDiv(),n.title=n.addTitle(),n.heroOffset=n.addHeroOffset(),n.hero=n.addHero(),n.heroSource=n.addHeroSource()}(t,e),n}function activateAboutMe(t){new PortfolioItemContent(t).div("<div class='about-me-div'><h1>ABOUT ME</h1><p>I'm a jack of all trades (and I hope, master of at least some). Between my work life and my hobbies, I've been lucky to have a chance to create things across a wide range of media, using a lot of digital, physical and other tools.</p><p>If there's a common thread among the different projects I've done and the roles I've filled, it's that my driving passion is to <strong style='color:"+d3.schemeCategory10[3]+"'>help humans make sense of the complexity of our world</strong>.</p><p>We live in an infinitely complicated universe, and I believe that well-designed experiences and artifacts can help us try to make at least some sense of it all.</p><p>I put this site together to document and showcase my personal projects and hobbies. If you're interested in any of this, the best way to reach me is <a href='mailto:tim@timmarco.com'>via email</a>.<p>For work-related stuff, you can find me on <a href='https://www.linkedin.com/in/timothymarco' target='_blank'>LinkedIn</a>.</p></div>")}function loadedAboutMe(){console.log("~ Loaded About Me ~")}function activateFittsLaw(t){return new PortfolioItemContent(t).vimeo("523023575","app/assets/previews/fittsPreview.jpeg").div("<div style='text-align:right; margin-top:2em'><a href='https://timmarco.com/fitts' target='_blank'><div class='callDown'>VIEW THE EXPLORABLE (OPENS A NEW TAB)</div><img src='app/assets/media/fittsScreenshot.png'/ class='link-screenshot-image''></a></div>").div("<div class='explanation-div'><h1>AN EXPLORABLE EXPLANATION</h1><p>I've long been inspired by Bret Victor's concept of <a href=\"http://worrydream.com/ExplorableExplanations/\" target=\"_blank\">Explorable Explanations</a>, which are interactive documents to encourage active reading. I wanted to try my hand at creating one of these documents in part as an exercise in anticipating and responding to how readers think about complex topics.</p></div>").div("<img src='app/assets/media/fittsNotes.jpeg' style='width:100%'  />").div("<p style='width:90%; margin:auto'>Creating an Explorable Explanation has as much in common with typical user interface design as it does with essay or textbook writing. While planning this project, I spent as much time designing and coding interactions as I did researching and writing about Fitts' Law.</p> ").div("<p style='width:90%; margin:auto; padding-top:1em; margin-bottom:3em'>Yet by the end of the project, I was struck by how similar those seemingly disparate activities actually are.</p> ")}function loadedFittsLaw(t){t.contentPane.activeItem.hero.pop().load()}function activateFreeAgents(t){return new PortfolioItemContent(t).div("<div style='text-align:right; margin-top:2em'><a href='https://timmarco.com/FreeAgents' target='_blank'><div class='callDown'>VIEW THE DEMO (OPENS A NEW TAB)</div><img src='app/assets/media/freeAgents.png' class='link-screenshot-image' ></a></div>")}function loadedFreeAgents(){}function activateSketchbook(t){const e=new PortfolioItemContent(t).vimeo("524922093","app/assets/previews/sketchbookPreview.jpeg"),n=e.descriptionDiv.append("svg").attr("id","sketchbookLoading").style("width","100%").style("min-height","400px"),r=n.node().getBoundingClientRect(),i=r.width/2,o=r.height/2,a=n.append("g").attr("transform","translate("+i+","+o+")");let u=[];d3.range(0,9).forEach(t=>{const e=t/9,n=2*Math.PI*e-Math.PI/2;u.push({index:t,theta:n})});a.selectAll(".outline").data(u).enter().append("circle").attr("r",10).attr("cx",t=>100*Math.cos(t.theta)).attr("cy",t=>100*Math.sin(t.theta)).attr("fill","none").attr("stroke","#ccc").attr("stroke-width",2);const c=a.selectAll(".circle").data(u).enter().append("circle").attr("r",0).attr("cx",t=>100*Math.cos(t.theta)).attr("cy",t=>100*Math.sin(t.theta)).attr("fill","rgba(60,144,60)").attr("stroke","none");return function t(){c.transition().duration(500).delay((t,e)=>50*e).attr("r",15).transition().duration(325).attr("r",0).on("end",(e,n)=>{8===n&&t()})}(),e}function loadedSketchbook(t){t.contentPane.activeItem.hero.load(()=>{n(),i.style("display","block")});let e=[{title:"Arc Countdown",type:"interactive",notes:"An interactive countdown timer.<br/><br/><strong>Mouseover the scope to play the animation.</strong>",callback:ArcCountdown},{title:"Blur Attention",type:"interactive",notes:"A test of using SVG filters to simulate camera depth and bokeh effects.<br/><br/><strong>Mouseover the letters to see the effect.</strong>",callback:BlurAttentionSketch},{title:"iOS Audio Slider",type:"interactive",notes:"A study of the fluidlike animations that iOS uses for volume control<br/><br/><strong>Mouseover the scope to play the animation.</strong>",callback:IosAudioSlider},{title:"Radar Sweep",type:"interactive",notes:"A code-generated animation to simulate a radar scope.<br/><br/><strong>Mouseover the scope to play the animation.</strong>",callback:RadarSketch},{title:"Radial Group",type:"interactive",notes:"A small test animation for a radial animation and transitions.<br/><br/><strong>Mouseover the scope to play the animation.</strong>",callback:RadialGroup},{title:"Random Walk",type:"interactive",notes:"A random walk is a model that helps explain how entirely random processes can create illusory patterns. Here, I randomly move the value in a single dimension and plot the density of values at each possible point. <br/><br/><strong>Mouseover the scope to play the animation.</strong>",callback:RandomWalk},{title:"Willow Tree Test",id:"514390367",type:"video",notes:"A simple model of a willow tree that I created while playing around with creating organic shapes using Blender."},{title:"Quaking Aspen",id:"514319482",type:"video",notes:"A more impressionistic / cartoonish model of a colony of quaking aspen created in Blender."},{title:"Fastball",id:"523536514",type:"video",notes:"An animation of a pitcher throwing a fastball in a cage. This was part of a larger project around the physics of pitching."},{title:"HMD FoV",id:"523524481",type:"video",notes:"An illustration of the effective field-of-view available to developers using head-mounted mixed reality devices. Due to constraints of both physics and physiology, these devices can only realistically display content in a specific region of space, relative to the user. As the user moves their head, this region moves accordingly. The largest consequence of this is that from the user's point of view, virtual objects will necessarily appear and disappear."},{title:"Pitching View",id:"523538770",type:"video",notes:"Major League Baseball tracks the precise trajectory of every pitch thrown in-game, and makes the data available through an unofficial API. Here, I'm synchronizing the broadcast video of a pitch with a visualization of the pitch's trajectory, as seen from multiple viewpoints."},{title:"AR Kit Scan",id:"385540505",type:"video",notes:"ARKit provides developers with the ability to scan physical objects for object recognition. Here, I'm using a (slightly modified) app from Apple to scan Lego architecture models for later recognition."},{title:"FOREST FIRE TEST",id:"523537584",type:"video",notes:"In computer science and computational social science, Forest Fire models describe the diffusion of information and behavior in connected systems. This is an illustration of how these models work, using the literal example of a burning forest."},{title:"AR Kit Blendshapes",id:"523515517",type:"video",notes:"A test of using ARKit's <span style='font-family:monospace'>ARFaceTracking</span> to perform basic performance capture and retargeting on a simple face model."},{title:"Eye Optics",id:"523516624",type:"video",notes:"A physically-accurate (albeit with exaggerated time) illustration of how the human eye bends and focuses rays of light on the retina. Optical power is attained via the cornea, lens, and vitreous humor, and rays of light focus on the retina."},{title:"Mixed Reality Light Control",id:"523518595",type:"video",notes:"Using a demo phone-based mixed reality application to control physical objects. The lamp was controlled using a relay and ESP-8266 microcontroller connected via WiFi. Users can tap on the lamp in the camera view to turn it on or off. Given display limitations of existing technology, these applications are of limited usefulness. But they <em>feel</em> unbelievable cool &mdash; like having a superpower."},{title:"Mixed Reality Occlusion",id:"523520895",type:"video",notes:"One of the trickiest things to do in Mixed Reality is creating the illusion of <em>real-time occlusion</em>: the sense that a physical object is actually <em>blocking</em> virtual content. This was an initial test of a concept for achieving just that effect in the context of a museum-like experience. Since this video was created, Apple and others have improved the native ability for object occlusion."},{title:"My Workspace",id:"523523617",type:"video",notes:"Animation of my workspace. I was working on building out a project using WS2812b RGB LEDs and got inspired to re-create the scene as an animation"},{title:"Arduino",id:"523771881",type:"video",notes:"Test render of an Arduino Uno model I created. Rendering with Radeon ProRender."},{title:"Fluid Test",id:"525596070",type:"video",notes:"An early test of running liquid simulations in Blender."},{title:"Advanced Fluid Test",id:"528371381",type:"video",notes:"A fully-rendered fluid simulation using Radeon Pro Render"}];!1===t.isMobile&&(e.push({title:"Snell's Law",type:"interactive",notes:"A simple simulation of Snell's Law, which describes how rays of light are refracted at an interface between two media.<br/><br/><strong>Use your mouse to see how the rays refract through different media.</strong>",callback:SnellsLaw}),e.push({title:"Indices of Refraction",id:"514442847",type:"video",notes:"This was a simple test of Radeon's ProRender software in Blender. I wanted to see how the varying the index of refraction of glass and glass-like materials would impact a render."}),e.push({title:"Drag Snap",type:"interactive",notes:"A quick interaction sketch for connecting nodes in a diagram with a snapping effect and physics.",callback:DragSnap})),e=d3.shuffle(e);const n=()=>{e.forEach((n,r)=>{r<5&&(t.contentPane.activeItem.SketchbookItem(n),e.shift())})},r=d3.select("#sketchbookLoading").node().getBoundingClientRect().height;d3.select("#sketchbookLoading").style("opacity",1).style("min-height","0").style("height",r+"px").transition().delay(500).duration(1e3).style("height","0px").style("opacity",0);const i=t.contentPane.containerDiv.append("div").classed("more-sketches-button",!0).style("display","none").html("+ LOAD MORE SKETCHES").on("click",()=>{n(),e.length<1&&i.style("display","none")})}function activateStrangerThings(t){return new PortfolioItemContent(t).vimeo("522909563","app/assets/previews/strangerThings.jpeg").div("<div style='text-align:right'><div style='margin-top:2em' class='callDown'>WATCH THE RE-CREATION</div></div>").div("<div style='text-align:right'><iframe src='app/strangerThings.html' style='border:none; width:960px; height:540px' border='0' /> </div>").div("<div class='explanation-div'><h1>(MIS) USING A POWERFUL LIBRARY</h1><p>d3.js gets its name from the phrase &quot;<u><em>d</em></u>ata <u><em>d</em></u>riven <u><em>d</em></u>ocuments&quot;. Usually, the 'data' there refers to some set of numbers that go into an interactive chart or table.</p><p>But it doesn't <em>have to</em>. At its heart, d3 is a powerful library for transforming <em>any</em> data into <em>any</em> representation: developers can create pretty much any arbitrary rules, as long as browsers will support them.<p>Which means that I could use d3 to create&mdash;or in this case, <em>re-</em>create&mdash;some fairly complex visual and animation effects. In this demo, the data primarily controls the timing, appearance, and nature of animations.</p></div>")}function loadedStrangerThings(t){t.contentPane.activeItem.hero.load()}function BlurAttentionSketch(t){const e=this;return function(t){e.sketch=new Sketch(t).AddSvg().HighlightEventIs(e.highlight()).UnhighlightEventIs(e.unhighlight()).ClickEventIs(e.click()),e.backgroundRect=e.addBackgroundRect(),e.defs=e.addDefs(),e.filter=e.addFilter(),e.gaussian=e.addGaussian(),e.grid=e.addGrid(),e.buttonGroup=e.addButtonGroup(),e.buttons=e.addButtons()}(t),e}function ArcCountdown(t){const e=this;return function(t){e.sketch=new Sketch(t).AddSvg().HighlightEventIs(e.runCountdown()).UnhighlightEventIs(e.pauseCountdown()),e.maxValue=100,e.fullDuration=2e3,e.easeType=d3.easeQuadOut,e.arcCentralRadius=115,e.arcRadiusWidth=30,e.backgroundColor=d3.schemeCategory10[0],e.foregroundColor=d3.schemeCategory10[1],e.frameColor="#444",e.textOutlineWidth=5,e.arcGenerator=e.defineArcGenerator(),e.arcScales=e.defineArcScales(),e.background=e.addBackground(),e.group=e.addGroup(),e.arcGroup=e.addArcGroup(),e.textOutline=e.addTextOutline(),e.text=e.addText(),e.arcOutline=e.addArcOutline(),e.arc=e.addArc(),e.hotspot=e.addHotspot(),e.initialize()}(t),e}function DragSnap(t){const e=this;return function(t){e.sketch=new Sketch(t).AddSvg().HighlightEventIs(()=>{1!=e.isDragging&&1!=e.isDone&&e.dragMe.transition().duration(250).attr("opacity",1)}),e.isDragging=!1,e.canDrop=!1,e.activeColor=d3.schemeCategory10[0],e.antColor=d3.schemeCategory10[1],e.connectingColor="#fafafa",e.backgroundColor="#eee",e.falseTargetColor="#999",e.background=e.addBackground(),e.connectingLine=e.addConnectingLine(),e.antsMarching=e.addAntsMarching(),e.source=e.addSource(),e.destination=e.addDestination(),e.falseTargets=e.addFalseTargets(),e.dragMe=e.addDragMe()}(t),e}function RadialGroup(t){const e=this;return function(t){e.radius=100,e.outerRadius=150,e.state="inactive",e.sketch=new Sketch(t).AddSvg().HighlightEventIs(e.growPreview()).UnhighlightEventIs(e.reset()),e.defs=e.addDefs(),e.gradient=e.addGradient(),e.background=e.addBackground(),e.group=e.addGroup(),e.wedges=e.addWedges(),e.circle=e.addCircle(),e.hotspot=e.addHotspot()}(t),e}function RadarSketch(t){const e=this;return function(t){e.sketch=new Sketch(t).AddSvg().HighlightEventIs(e.highlight()).UnhighlightEventIs(e.unhighlight()),e.backgroundRectElement=e.addBackground(),e.green="#00ff00",e.scanLineColor="#eeffee",e.wedgeSize=-45,e.defs=e.addDefs(),e.wedgeGradient=e.addWedgeGradient(),e.translateGroup=e.addTranslateGroup(),e.rotateGroup=e.addRotateGroup(),e.group=e.addGroup(),e.bogeyGroup=e.addBogeyGroup(),e.reticle=e.addReticle(),e.rangeCircles=e.addRangeCircles(),e.polarLines=e.addPolarLines(),e.scanWedge=e.addScanWedge(),e.scanLine=e.addScanLine(),e.bogeys=e.addBogeys(),e.hotspot=e.addHotspot()}(t),e}function RandomWalk(t){const e=this;return function(t){e.sketch=new Sketch(t).AddSvg().HighlightEventIs(e.highlight()).UnhighlightEventIs(e.unhighlight()),e.hasStarted=!1,e.isActive=!1,e.history=[0],e.steps=0,e.minValue=-10,e.maxValue=10,e.binnedValues=e.defineBinnedValues(),e.isWalking=!1,e.background=e.addBackground(),e.walkScales=e.defineWalkScales(),e.xAxisGroup=e.addXAxisGroup(),e.xAxis=e.addXAxis(),e.lineGroup=e.addLineGroup(),e.line=e.addLine(),e.xAxisGroup.selectAll("text").remove(),e.histogram=e.addHistogram()}(t),e}function Sketch(t){const e=this;return function(t){e.where=t,e.mouseoverCallback=(()=>{}),e.mouseoutCallback=(()=>{}),e.clickCallback=(()=>{}),e.div=e.addDiv(),e.image=e.addImage()}(t),e}function SnellsLaw(t){const e=this;return function(t){e.sketch=new Sketch(t).AddSvg().HighlightEventIs(e.highlight()).UnhighlightEventIs(e.unhighlight()),e.firstIndexOfRefraction=1,e.secondIndexOfRefraction=1.5,e.background=e.addBackground(),e.water=e.addWater(),e.arcGenerator=e.defineArcGenerator(),e.normal=e.addNormal(),e.source=e.addSource(),e.incidentRay=e.addIncidentRay(),e.incidentArc=e.addIncidentArc(),e.refractedArc=e.addRefractedArc(),e.refractedRay=e.addRefractedRay(),e.refractedImage=e.addRefractedImage(),e.hotspot=e.addHotspot(),e.updateForMouseCoordinates({x:50,y:40})}(t),e}function IosAudioSlider(t){const e=this;return e.sketch=new Sketch(t).AddSvg().HighlightEventIs(e.runAnimation()),e.buttonPressColor=d3.schemeCategory10[3],e.trackColor="rgb(96,76,76)",e.valueColor="#eee",e.background=e.addBackground(),e.screenBackground=e.addScreenBackground(),e.sliderGroup=e.addSliderGroup(),e.verticalOffset=e.addVerticalOffset(),e.sliderScale=e.addSliderScale(),e.verticalScale=e.addSliderVerticalScale(),e.horizontalScale=e.addSliderHorizontalScale(),e.track=e.addTrack(),e.value=e.addValue(),e.screenClip=e.addScreenClip(),e.volumeUpButton=e.addVolumeUpButton(),e.volumeDownButton=e.addVolumeDownButton(),e.phone=e.addPhone(),e}DetailsBox.prototype.addContainerDiv=function(){return d3.select("body").append("div").classed("details_box",!0)},DetailsBox.prototype.addContentDiv=function(){return this.containerDiv.append("div").classed("details_content_div",!0)},DetailsBox.prototype.addDateDiv=function(){return this.contentDiv.append("div").classed("details_date",!0)},DetailsBox.prototype.addSubtitleDiv=function(){return this.contentDiv.append("div").classed("details_subtitle",!0)},DetailsBox.prototype.transitionIn=function(t,e){this.updateContent(t);const n=d3.select("#navbar").node().getBoundingClientRect().height,r=t.getActiveHeight();return this.containerDiv.style("display","block").style("top",n+"px").style("left",window.innerWidth+"px").style("height",r+"px").transition().duration(()=>!0===e?0:250).style("left",window.innerWidth/2+"px"),this},DetailsBox.prototype.transitionOut=function(){const t=this;return t.containerDiv.transition().duration(250).style("left",window.innerWidth+"px").on("end",()=>{t.containerDiv.style("display","none"),t.subtitleDiv.html(),t.dateDiv.html()}),t},DetailsBox.prototype.updateContent=function(t){return this.subtitleDiv.html(t.manifest.subtitle),this.dateDiv.html(t.manifest.circa),this},HeroPlayer.prototype.addIframeHolder=function(){return this.videoDiv.append("div").attr("data-role","vimeoIframe").style("background-size","cover").style("width","100%").style("height","100%").style("top",0).style("left",0).style("position","absolute")},HeroPlayer.prototype.addMessageDiv=function(){return this.playerOverlay.append("img").style("left",0).style("top",0).style("width","100%").style("height","100%")},HeroPlayer.prototype.addPlayerOverlay=function(){return this.videoDiv.append("div").classed("video-overlay",!0).style("pointer-events","none")},HeroPlayer.prototype.addVideoDiv=function(t){return t.append("div").classed("content-video-container",!0)},HeroPlayer.prototype.addVideoLoad=function(t){return this.videoDiv.append("img").classed("video-overlay-image",!0).style("pointer-events","none").attr("src",t)},HeroPlayer.prototype.beep=function(){return this},HeroPlayer.prototype.load=function(t){const e=this,n="https://player.vimeo.com/video/"+e.vimeoId+"?color=000000&title=0&byline=0&portrait=0&playsinline=0",r=e.iframeHolder.append("iframe").attr("src",n).attr("allow","autoplay; fullscreen; picture-in-picture").attr("allowfullscreen","true").attr("autoplay",!0).style("background-size","cover").style("width","100%").style("height","100%").style("top",0).style("left",0).style("position","absolute");return new Vimeo.Player(r.node()).on("play",()=>{e.playerOverlay.transition().duration(250).style("top","100%"),e.videoLoad.style("display","none"),player.setCurrentTime(0),e.videoLoad.style("display","none")}),r.on("load",()=>{t&&t()}),e.beep(),e},HeroPlayer.prototype.play=function(){return this},HeroPlayer.prototype.pop=function(){return this},Portfolio.prototype.manifest=[{title:["ABOUT","ME"],titleTag:"About Me | Tim Marco",metaDescription:"Bio for Tim Marco, a Creative Technologist from Chicago, Illinois.",video:"app/assets/clips/aboutMe.mp4",screenshot:"app/assets/clips/aboutMe.jpg",subtitle:"Bio and Contact Info",callback:activateAboutMe,route:"about",loadCallback:loadedAboutMe},{title:["STRANGER THINGS","TITLE RE-CREATION"],titleTag:"Stranger Things Titles in d3.js | Tim Marco",metaDescription:"An experiment in re-creating the main titles of the Netflix Show 'Stranger Things' in the browser.",video:"app/assets/clips/strangerThings.mp4",screenshot:"app/assets/clips/strangerThings.png",preview:"app/assets/previews/strangerThingsPreview.png",subtitle:"An experiment in SVG Animation",circa:"Mid-2017",callback:activateStrangerThings,route:"stranger-things",loadCallback:loadedStrangerThings},{title:["MY","SKETCHBOOK"],titleTag:"My Sketchbook | Tim Marco",metaDescription:"A collection of interaction, design, and simulation experiments by Tim Marco",video:"app/assets/clips/sketchbook.mp4",screenshot:"app/assets/clips/sketchbook.jpg",preview:"app/assets/previews/sketchbookPreview.png",subtitle:"A collection of design and interaction experiments",circa:"2017-Ongoing",callback:activateSketchbook,route:"sketchbook",loadCallback:loadedSketchbook},{title:["DIVING DEEP","INTO FITTS' LAW"],titleTag:"Diving Deep into Fitts' Law | Tim Marco",metaDescription:"An Explorable Explanation of Fitts' Law, a fundmental concept in Human-Computer Interaction and ergonomics.",video:"app/assets/clips/fitts.mp4",screenshot:"app/assets/clips/fitts.jpg",preview:"app/assets/previews/fittsPreview.png",subtitle:"An Explorable Explanation about human-computer interaction",circa:"November 2018",callback:activateFittsLaw,route:"fitts-law",loadCallback:loadedFittsLaw}],Portfolio.prototype.addContentPane=function(){return new ContentPane(this)},Portfolio.prototype.addDetailsBox=function(){return new DetailsBox(this)},Portfolio.prototype.addItems=function(){const t=this;let e=[];return t.manifest.forEach(n=>{e.push(new PortfolioItem(t,n))}),e},Portfolio.prototype.addItemsDiv=function(){return d3.select("#body-content").append("div").attr("id","portfolio-items")},Portfolio.prototype.activate=function(t,e){const n=this;n.isActive=!0,n.updateMetadata(t.manifest);const r=-t.textDiv.node().getBoundingClientRect().y+d3.select("#navbar").node().getBoundingClientRect().height+15;n.itemsDiv.transition().duration(()=>!0===e?0:200).style("transform","translate(0,"+r+"px)"),d3.select("body").style("overflow","hidden");const i=d3.select("#title").node().getBoundingClientRect().width+50;return d3.select("#back-button").transition().duration(()=>!0===e?0:250).style("left","0vw"),d3.select("#back-button-span").transition().duration(()=>!0===e?0:300).style("padding-left",i+"px"),n.items.forEach(r=>{if(r===t)return n.detailsBox.transitionIn(r,e),n.contentPane.transitionIn(r,e),void r.activate(e);r.hide()}),n},Portfolio.prototype.deactivate=function(){this.isActive=!1,this.resetMetadata(),d3.select("#back-button").transition().duration(250).style("left","-100vw");const t=window.location.href;return window.location.href=t.split("#")[0]+"#",this.detailsBox.transitionOut(),this.contentPane.transitionOut(),this.items.forEach(t=>{t.title.style("background-color","black"),t.show()}),this.itemsDiv.transition().duration(200).style("transform","translate(0,0px)").on("end",()=>{d3.select("body").style("overflow","auto")}),this},Portfolio.prototype.focusOnItem=function(t){this.items.forEach(e=>{e===t?e.drawAttention():e.reduceFocus()})},Portfolio.prototype.registerHashChange=function(){const t=this;return window.onhashchange=(()=>{const e=window.location.href.split("#");1!=e.length&&""!=e[1]||t.deactivate()}),t},Portfolio.prototype.registerNavigation=function(){const t=this;return d3.select("#back-button").on("click",()=>{t.deactivate()}),d3.select("#title").on("click",()=>{!0===t.isActive&&t.deactivate()}),t},Portfolio.prototype.registerRouter=function(){const t=this,e=window.location.href.split("#")[1];if(e){const n=t.items.filter(t=>t.manifest.route==e);1==n.length&&t.activate(n[0],!0)}return t},Portfolio.prototype.reset=function(){return this.items.forEach(t=>{t.reset()}),this},Portfolio.prototype.resetMetadata=function(){return this.updateMetadata({titleTag:"Tim Marco",metaDescription:"Portfolio of Tim Marco, a Creative Technologist from Chicago, Illinois"}),this},Portfolio.prototype.updateMetadata=function(t){return this.titleTag.html(t.titleTag),this.metaDescription.attr("content",t.metaDescription),this},ContentPane.prototype.addContainerDiv=function(){return d3.select("body").append("div").classed("item-overlay",!0)},ContentPane.prototype.transitionIn=function(t,e){const n=this,r=d3.select("#navbar").node().getBoundingClientRect().height+t.getActiveHeight(),i=window.innerHeight-r;n.containerDiv.style("display","block").style("height",i+"px"),n.containerDiv.node().scrollTop="0px",n.containerDiv.transition().duration(()=>!0===e?0:250).ease(d3.easeQuadIn).style("top",r+"px").on("end",()=>{t.manifest.loadCallback(n.parent)});const o=window.location.href;return window.location.href=o.replace(/#(.*)$/,"")+"#"+t.manifest.route,t.manifest.callback&&(n.activeItem=t.manifest.callback(n.containerDiv)),n},ContentPane.prototype.transitionOut=function(){const t=this;return t.containerDiv.transition().duration(500).style("top",window.innerHeight+"px").on("end",()=>{t.containerDiv.style("display","none").html("")}),t},PortfolioItemContent.prototype.addContainerDiv=function(){return this.where.append("div").classed("content-main-container",!0)},PortfolioItemContent.prototype.addDescriptionDiv=function(){return this.containerDiv.append("div").classed("content-description-container",!0)},PortfolioItemContent.prototype.addVideoDiv=function(){return this.containerDiv.append("div")},PortfolioItemContent.prototype.SketchbookItem=function(t){const e=this.descriptionDiv.append("div").classed("sketchbook-item",!0);if("video"===t.type){const n="https://player.vimeo.com/video/"+t.id+"?color=000000&title=0&byline=0&portrait=0",r=(e.append("div").style("width","640px").style("height","360px").append("iframe").attr("src",n).attr("allow","autoplay; fullscreen; picture-in-picture").attr("allowfullscreen","true").attr("autoplay",!0).style("width","640px").style("height","360px"),e.append("div").style("margin-left","2em").style("margin-right","2em").style("height","360px").style("overflow-y","scroll"));r.append("h2").html(t.title),r.append("div").classed("sketchbook-item-text",!0).html(t.notes)}if("interactive"===t.type){const n=e.append("div").style("width","640px").style("height","360px");new t.callback(n);const r=e.append("div").style("margin-left","2em").style("margin-right","2em").style("height","360px").style("overflow-y","scroll");r.append("h2").html(t.title),r.append("div").classed("sketchbook-item-text",!0).html(t.notes)}return this},PortfolioItemContent.prototype.callDown=function(t){return this.descriptionDiv.append("div").append("div").classed("callDown",!0).html(t),this},PortfolioItemContent.prototype.callUp=function(t){return this.descriptionDiv.append("div").append("div").classed("callUp",!0).html(t),this},PortfolioItemContent.prototype.div=function(t){return this.descriptionDiv.append("div").html(t),this},PortfolioItemContent.prototype.h1=function(t){return this.descriptionDiv.append("h1").html(t),this},PortfolioItemContent.prototype.p=function(t){return this.descriptionDiv.append("p").html(t),this},PortfolioItemContent.prototype.vimeo=function(t,e){return this.hero=new HeroPlayer(this.videoDiv,t,e),this},PortfolioItem.prototype.activate=function(){const t=this;return t.state="active",0==t.parent.isMobile&&t.hero.node().pause(),t},PortfolioItem.prototype.drawAttention=function(){const t=this;return 0==t.parent.isMobile&&(t.hero.node().muted=!0,t.hero.node().play()),t.title.style("background-color",d3.schemeCategory10[2]),t.textLayer.style("transform","scale(1)").transition().ease(d3.easeQuadOut).duration(250).style("transform","scale(1.05)"),t},PortfolioItem.prototype.getActiveHeight=function(){return 1.2*this.textDiv.node().getBoundingClientRect().height},PortfolioItem.prototype.hide=function(){return this.containerDiv.transition().duration(250).style("opacity",0),this},PortfolioItem.prototype.reduceFocus=function(){this.containerDiv,this.title.style("background-color","black")},PortfolioItem.prototype.reset=function(){return this.hero.node().pause(),this.title.style("background-color","black"),this.textLayer.transition().ease(d3.easeQuadIn).duration(125).style("transform","scale(1)"),this},PortfolioItem.prototype.show=function(){return this.state="inactive",this.containerDiv.transition().duration(250).style("opacity",1),this},PortfolioItem.prototype.addContainerDiv=function(){const t=this;return t.parent.itemsDiv.append("div").classed("portfolio-item",!0).on("mouseover",()=>{"active"!==t.state&&t.drawAttention()}).on("mouseout",()=>{"active"!==t.state&&t.reset()}).on("click",()=>{"active"!==t.state&&t.parent.activate(t)})},PortfolioItem.prototype.addHero=function(){const t=this;return 1==t.parent.isMobile?t.heroOffset.append("img").attr("width","100%").attr("height","100%").style("object-fit","contain").style("margin",0).style("padding",0):t.heroOffset.append("video").attr("muted","muted").attr("playsinline",!0).style("position","absolute").style("object-fit","cover").style("object-position","center center").style("margin",0).style("padding",0).style("width","100%").style("height","100%").attr("loop",!0)},PortfolioItem.prototype.addHeroOffset=function(){return this.substrate.append("div").style("position","relative").style("width","100%").style("min-height","12.5vw").style("height","100%")},PortfolioItem.prototype.addHeroSource=function(){const t=this;if(t.manifest.video)return 1==t.parent.isMobile&&t.hero.attr("src",t.manifest.screenshot),t.hero.append("source").attr("src",t.manifest.video)},PortfolioItem.prototype.addTextDiv=function(){return this.textLayer.append("div").classed("portfolio-item-text",!0)},PortfolioItem.prototype.addSubstrate=function(){return this.containerDiv.append("div").classed("portfolio-item-substrate",!0)},PortfolioItem.prototype.addTextLayer=function(){return this.containerDiv.append("div").classed("portfolio-item-text-layer",!0)},PortfolioItem.prototype.addTitle=function(){return this.textDiv.selectAll(".portfolio-item-title").data(this.manifest.title).enter().append("div").classed("portfolio-item-line",!0).append("div").classed("portfolio-item-title",!0).style("transform",(t,e)=>{if(e>0)return"translate(0,-0.25em)"}).html(t=>t)},BlurAttentionSketch.prototype.addBackgroundRect=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("fill","#ccc")},BlurAttentionSketch.prototype.addButtonGroup=function(){return this.sketch.svg.append("g").attr("transform","translate(115,90)")},BlurAttentionSketch.prototype.addButtons=function(){const t=this,e=150,n=200;return[(new r).move(0,0).fill(d3.schemeCategory10[0]).label("A"),(new r).move(200,0).fill(d3.schemeCategory10[1]).label("B"),(new r).move(400,0).fill(d3.schemeCategory10[2]).label("C"),(new r).move(0,175).fill(d3.schemeCategory10[3]).label("D"),(new r).move(200,175).fill(d3.schemeCategory10[4]).label("E"),(new r).move(400,175).fill(d3.schemeCategory10[5]).label("F")];function r(){const r=this;return r.translate=t.buttonGroup.append("g").on("mouseover",()=>{t.drawAttention(r)}).on("mouseout",()=>{t.reset()}),r.scale=r.translate.append("g").attr("transform","scale(1)"),r.filtered=r.scale.append("g"),r.rect=r.filtered.append("rect").attr("x",-75).attr("y",-75).attr("width",150).attr("height",150).attr("rx",25).attr("ry",25),r.textOutline=r.filtered.append("text").attr("fill","none").attr("stroke","#222").attr("stroke-width",7).attr("font-weight","bold").attr("font-size","48pt").attr("font-family","Oswald").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("y",5).attr("cursor","default"),r.text=r.filtered.append("text").attr("fill","white").attr("font-weight","bold").attr("font-size","48pt").attr("font-family","Oswald").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("y",5).attr("cursor","default"),r.move=function(t,e){return r.translate.attr("transform","translate("+t+","+e+")"),r},r.label=function(t){return r.text.html(t),r.textOutline.html(t),r},r.fill=function(t){return r.rect.attr("fill",t),r},r.bringForward=function(){return r.scale.transition().duration(e).attr("transform","scale(1.15)"),r.text.transition().duration(e+75).attr("transform","scale(1.75)"),r.textOutline.transition().duration(e+75).attr("transform","scale(1.75)"),r.filtered.attr("filter","none"),r},r.sendBack=function(){return r.scale.transition().duration(n).attr("transform","scale(0.75)"),r.filtered.attr("filter","url(#blur)"),r},r.reset=function(){return r.scale.transition().duration(n).attr("transform","scale(1)"),r.text.transition().duration(n).attr("transform","scale(1)"),r.textOutline.transition().duration(n).attr("transform","scale(1)"),r.filtered.attr("filter","none"),r},r}},BlurAttentionSketch.prototype.addDefs=function(){return this.sketch.svg.append("defs")},BlurAttentionSketch.prototype.addFilter=function(){return this.defs.append("filter").attr("id","blur")},BlurAttentionSketch.prototype.addGaussian=function(){return this.filter.append("feGaussianBlur").attr("in","sourceGraphic").attr("stdDeviation",0)},BlurAttentionSketch.prototype.addGrid=function(){const t=this.sketch.svg.append("g").attr("filter","url(#blur)");return t.selectAll(".xLine").data(d3.range(1,20)).enter().append("line").attr("x1",0).attr("x2",640).attr("y1",t=>50*t).attr("y2",t=>50*t).attr("stroke","#333").attr("stroke-width",1).attr("stroke-dasharray","10,5"),t.selectAll(".yLine").data(d3.range(1,20)).enter().append("line").attr("x1",t=>50*t).attr("x2",t=>50*t).attr("y1",0).attr("y2",640).attr("stroke","#333").attr("stroke-width",1).attr("stroke-dasharray","10,5"),t},BlurAttentionSketch.prototype.click=function(){return()=>{}},BlurAttentionSketch.prototype.drawAttention=function(t){const e=this;e.buttons.forEach(n=>{e.gaussian.transition().duration(250).ease(d3.easeLinear).attr("stdDeviation",5),t==n?n.bringForward():n.sendBack()})},BlurAttentionSketch.prototype.highlight=function(){return()=>{}},BlurAttentionSketch.prototype.reset=function(){const t=this;t.buttons.forEach(e=>{e.reset(),t.gaussian.transition().duration(200).ease(d3.easeLinear).attr("stdDeviation",0)})},BlurAttentionSketch.prototype.unhighlight=function(){return()=>{}},ArcCountdown.prototype.defineArcGenerator=function(){return d3.arc().innerRadius(this.arcCentralRadius-this.arcRadiusWidth).outerRadius(this.arcCentralRadius+this.arcRadiusWidth)},ArcCountdown.prototype.defineArcScales=function(){return{innerRadius:d3.scaleLinear().domain([0,1]).range([this.arcCentralRadius-this.arcRadiusWidth,this.arcCentralRadius]),outerRadius:d3.scaleLinear().domain([0,1]).range([this.arcCentralRadius+this.arcRadiusWidth,this.arcCentralRadius])}},ArcCountdown.prototype.initialize=function(){const t=this;t.arcGenerator.startAngle(0).endAngle(Math.PI),[t.arc,t.arcOutline].forEach(e=>{e.attr("d",t.arcGenerator.innerRadius(t.arcScales.innerRadius(0)).outerRadius(t.arcScales.outerRadius(0)))}),[t.textOutline,t.text].forEach(e=>{e.html(t.maxValue)})},ArcCountdown.prototype.pauseCountdown=function(){const t=this;return()=>{[t.arc,t.text,t.textOutline].forEach(t=>{t.interrupt()}),t.initialize()}},ArcCountdown.prototype.runCountdown=function(){const t=this;return()=>{t.text.html();[t.text,t.textOutline].forEach(e=>{e.transition().duration(t.fullDuration).ease(t.easeType).textTween(function(){const e=d3.interpolate(t.maxValue,0);return function(t){return Math.floor(e(t))}})}),t.arc.transition().duration(t.fullDuration).ease(t.easeType).attrTween("d",function(e){return function(){const n=d3.interpolate(Math.PI,e);return function(e){return t.arcGenerator.innerRadius(t.arcScales.innerRadius(e)).outerRadius(t.arcScales.outerRadius(e)).endAngle(n(e))()}}}(0))}},ArcCountdown.prototype.addArc=function(){return this.arcGroup.append("path").attr("fill",this.foregroundColor).attr("stroke","none")},ArcCountdown.prototype.addArcGroup=function(){return this.group.append("g").attr("transform","rotate(-90)")},ArcCountdown.prototype.addArcOutline=function(){return this.arcGroup.append("path").attr("fill","none").attr("stroke",this.frameColor).attr("stroke-width",2)},ArcCountdown.prototype.addBackground=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("fill",this.backgroundColor)},ArcCountdown.prototype.addGroup=function(){return this.sketch.svg.append("g").attr("transform","translate(320,225)")},ArcCountdown.prototype.addHotspot=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("fill","rgba(0,0,0,0)")},ArcCountdown.prototype.addText=function(){return this.group.append("text").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","72pt").attr("font-family","Oswald").attr("font-weight","bold").attr("fill",this.foregroundColor).attr("y",25).html("0")},ArcCountdown.prototype.addTextOutline=function(){return this.group.append("text").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","72pt").attr("font-family","Oswald").attr("font-weight","bold").attr("stroke",this.frameColor).attr("stroke-width",this.textOutlineWidth).attr("y",25).html("0")},DragSnap.prototype.addAntsMarching=function(){return this.sketch.svg.append("line").attr("stroke",this.antColor).attr("stroke-dasharray","10,10")},DragSnap.prototype.addBackground=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("fill",this.backgroundColor)},DragSnap.prototype.addConnectingLine=function(){return this.sketch.svg.append("line").attr("stroke",this.connectingColor)},DragSnap.prototype.addDestination=function(){const t=this;return t.sketch.svg.append("circle").attr("cx",500).attr("cy",300).attr("r",50).attr("fill",t.backgroundColor).attr("stroke-width",10).attr("stroke-dasharray","20,20").attr("stroke",t.activeColor).on("mouseover",()=>{0!=t.isDragging&&(t.canDrop=!0,t.destination.attr("stroke-dasharray","0").transition().duration(250).attr("fill",t.activeColor))}).on("mouseout",()=>{0!=t.isDragging&&(t.canDrop=!1,t.destination.attr("stroke-dasharray","20,20").attr("fill",t.backgroundColor))})},DragSnap.prototype.addDragMe=function(){const t=this.sketch.svg.append("g").attr("transform","translate(200,125)").attr("opacity",0);return t.append("text").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","18pt").attr("font-family","Oswald").attr("font-weight",600).attr("stroke",this.connectingColor).attr("stroke-width",4).html("&larr; Drag!"),t.append("text").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","18pt").attr("font-family","Oswald").attr("fill",this.activeColor).attr("font-weight",600).attr("stroke","none").html("&larr; Drag!"),t},DragSnap.prototype.addFalseTargets=function(){const t=this,e=t.sketch.svg.append("circle").attr("cx",500).attr("cy",125).attr("data-x",400).attr("r",50).attr("fill",t.backgroundColor).attr("stroke",t.falseTargetColor).attr("stroke-width",10).attr("stroke-dasharray","20,20"),n=t.sketch.svg.append("circle").attr("cx",100).attr("cy",300).attr("data-x",100).attr("r",50).attr("fill",t.backgroundColor).attr("stroke",t.falseTargetColor).attr("stroke-width",10).attr("stroke-dasharray","20,20");e.on("mouseover",()=>{if(0==t.isDragging)return;e.transition().duration(150).attr("cx",420).transition().duration(225).attr("cx",360).transition().duration(100).attr("cx",400)}),n.on("mouseover",()=>{if(0==t.isDragging)return;n.transition().duration(150).attr("cy",420).transition().duration(225).attr("cy",360).transition().duration(100).attr("cy",400)})},DragSnap.prototype.addSource=function(){const t=this;return t.sketch.svg.append("circle").attr("cx",100).attr("cy",125).attr("r",50).attr("fill",t.activeColor).attr("stroke",t.connectingColor).attr("stroke-width",5).on("mouseover",()=>{t.isDragging||t.source.transition().duration(350).ease(d3.easeBackOut.overshoot(100)).attr("r",50.1)}).on("mouseout",()=>{t.isDragging||t.source.attr("r",50)}).call(d3.drag().on("start",t.dragStart()).on("drag",t.dragging()).on("end",t.dragEnd()))},RadialGroup.prototype.addBackground=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("fill","url(#background)")},RadialGroup.prototype.addCircle=function(){return this.group.append("circle").attr("r",this.radius).attr("fill",d3.schemeCategory10[9])},RadialGroup.prototype.addDefs=function(){return this.sketch.svg.append("defs")},RadialGroup.prototype.addGradient=function(){const t=this.defs.append("radialGradient").attr("id","background");return t.append("stop").attr("stop-color",d3.schemeCategory10[0]).attr("offset","30%"),t.append("stop").attr("stop-color","rgba(31, 119, 180,0.75)").attr("offset","100%"),t},RadialGroup.prototype.addGroup=function(){return this.sketch.svg.append("g").attr("transform","translate(320,180)")},RadialGroup.prototype.addHotspot=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("fill","rgba(0,0,0,0)").on("mousemove",this.backgroundMouseMove())},RadialGroup.prototype.addWedges=function(){const t=this;return t.group.selectAll("path").data(d3.range(0,10)).enter().append("path").attr("fill",d3.schemeCategory10[6]).attr("stroke",d3.schemeCategory10[0]).attr("stroke-width",2).attr("d",e=>{const n=e*Math.PI/5,r=n+Math.PI/5;return d3.arc().innerRadius(t.radius-2).outerRadius(t.radius-1).startAngle(n).endAngle(r)()})},RadialGroup.prototype.backgroundMouseMove=function(){const t=this;return()=>{if("active"!==t.state)return;const e=event.offsetX-250,n=event.offsetY-250,r=[];t.wedges.each(function(t){const i=d3.select(this).node().getBBox(),o={x:i.x+i.width/2,y:i.y+i.height/2};o.distance=Math.pow(Math.pow(o.x-e,2)+Math.pow(n-o.y,2),.5),o.index=t,r.push(o)}),r.sort((t,e)=>t.distance-e.distance);const i=d3.extent(r.map(t=>t.distance)),o=d3.scaleLinear().domain(i).range([1,0]),a=d3.scaleLinear().domain(i).range([t.outerRadius+10,t.radius]);t.wedges.attr("opacity",t=>{const e=r.filter(e=>e.index==t)[0].distance;return o(e)}).attr("d",e=>{const n=r.filter(t=>t.index==e)[0].distance,i=e*Math.PI/5,o=i+Math.PI/5;return d3.arc().innerRadius(t.radius).outerRadius(a(n)).startAngle(i).endAngle(o)()})}},RadialGroup.prototype.growPreview=function(){const t=this;return()=>{"inactive"===t.state&&(t.state="activating",t.wedges.transition().duration(500).delay(t=>50*t).ease(d3.easeBackOut.overshoot(10)).attr("d",e=>{const n=e*Math.PI/5,r=n+Math.PI/5;return d3.arc().innerRadius(t.radius).outerRadius(t.outerRadius).startAngle(n).endAngle(r)()}).on("end",e=>{9==e&&(t.state="active")}))}},RadialGroup.prototype.reset=function(){const t=this;return()=>{"active"===t.state&&(t.state="transitionOut",t.wedges.transition().duration(250).attr("opacity",0).on("end",()=>{t.state="active"}))}},RadarSketch.prototype.addBackground=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("fill","black")},RadarSketch.prototype.addBogeyGroup=function(){return this.sketch.svg.append("g").attr("transform","translate(300,180)")},RadarSketch.prototype.addBogeys=function(){const t=[];return d3.range(0,10).forEach(e=>{t.push({theta:d3.randomUniform(0,2*Math.PI)(),distance:d3.randomUniform(35,150)()})}),this.bogeyGroup.selectAll("circle").data(t).enter().append("circle").attr("r",5).attr("fill",this.green).attr("stroke","none").attr("cx",t=>Math.cos(t.theta)*t.distance).attr("cy",t=>Math.sin(t.theta)*t.distance).attr("fill-opacity",0)},RadarSketch.prototype.addDefs=function(){return this.sketch.svg.append("defs")},RadarSketch.prototype.addGroup=function(){return this.rotateGroup.append("g")},RadarSketch.prototype.addHotspot=function(){this.sketch.svg.append("rect").attr("width",500).attr("height",500).attr("fill","rgba(0,0,0,0)")},RadarSketch.prototype.addPolarLines=function(){const t=d3.range(0,2*Math.PI,Math.PI/4);return this.bogeyGroup.selectAll(".polarLine").data(t).enter().append("line").attr("x1",0).attr("x2",t=>150*Math.cos(t)).attr("y1",0).attr("y2",t=>150*Math.sin(t)).attr("stroke",this.green).attr("stroke-width",1).attr("stroke-dasharray","5,5")},RadarSketch.prototype.addRangeCircles=function(){return this.group.selectAll(".rangeCircle").data([50,100,150]).enter().append("circle").attr("fill","none").attr("stroke",this.green).attr("stroke-width",1).attr("r",t=>t)},RadarSketch.prototype.addReticle=function(){return this.group.append("circle").attr("fill",this.green).attr("r",5)},RadarSketch.prototype.addRotateGroup=function(){return this.translateGroup.append("g")},RadarSketch.prototype.addScanWedge=function(){const t=d3.arc().innerRadius(0).outerRadius(150).startAngle(0).endAngle(this.wedgeSize*Math.PI/180);return this.group.append("path").attr("fill","url(#wedgeGradient)").attr("stroke","none").attr("d",t)},RadarSketch.prototype.addScanLine=function(){return this.group.append("line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",-150).attr("stroke-width",3).attr("stroke",this.scanLineColor)},RadarSketch.prototype.addTranslateGroup=function(){return this.sketch.svg.append("g").attr("transform","translate(300,180)")},RadarSketch.prototype.addWedgeGradient=function(){const t=this.defs.append("linearGradient").attr("id","wedgeGradient").attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%").attr("gradientTransform","rotate("+this.wedgeSize+")");t.append("stop").attr("offset","0%").style("stop-color",this.green).style("stop-opacity",0),t.append("stop").attr("offset","100%").style("stop-color",this.green).style("stop-opacity",1)},RadarSketch.prototype.click=function(){return()=>{}},RadarSketch.prototype.highlight=function(){const t=this;return()=>{t.singleSweep()}},RadarSketch.prototype.singleSweep=function(){const t=this;t.rotateGroup.attr("transform","rotate(0)").transition().duration(2e3).ease(d3.easeLinear).attr("transform","rotate(180)").transition().duration(2e3).ease(d3.easeLinear).attr("transform","rotate(359.999)").ease(d3.easeLinear).on("end",()=>{t.singleSweep()}),t.bogeyGroup.selectAll("circle").each(function(t){const e=d3.select(this);e.attr("cx"),e.attr("cy");let n=4e3*(t.theta/(2*Math.PI)+.25);n>4e3&&(n-=4e3),e.transition().delay(n).duration(0).attr("r",7).attr("fill-opacity",1).transition().ease(d3.easeQuadIn).duration(2e3).attr("fill-opacity",0).attr("r",2)})},RadarSketch.prototype.unhighlight=function(){const t=this;return()=>{t.rotateGroup.interrupt(),t.bogeyGroup.selectAll("circle").remove(),t.rotateGroup.attr("transform","rotate(0)"),t.bogeys=t.addBogeys()}},RandomWalk.prototype.addHistogram=function(){return this.sketch.svg.append("path").attr("fill",d3.schemeCategory10[3]).attr("stroke","black").attr("stroke-width",2)},RandomWalk.prototype.defineBinnedValues=function(){const t={};return d3.range(-10,11).forEach(e=>{t[e]=0}),t},RandomWalk.prototype.defineWalkScales=function(){const t={};return t.x=d3.scaleLinear().domain([0,100]).range([25,500]),t.histogram=d3.scaleLinear().domain([0,1]).range([515,550]),t.y=d3.scaleLinear().domain([-10,10]).range([335,25]),t},RandomWalk.prototype.highlight=function(){const t=this;return()=>(t.isActive=!0,t.seedWalk(),t)},RandomWalk.prototype.seedWalk=function(){const t=this;if(!t.isActive)return;const e=Math.random()<.5?1:-1,n=t.history[t.history.length-1]+e;t.steps+=1,n<t.minValue&&(t.minValue=n),n>t.maxValue&&(t.maxValue=n);const r=d3.max([Math.abs(t.minValue),Math.abs(t.maxValue)]);2*r+1!=Object.keys(t.binnedValues).length&&(t.binnedValues[r]=0,t.binnedValues[-r]=0),t.binnedValues[n]+=1,t.walkScales.histogram.domain([0,d3.max(Object.values(t.binnedValues))]);const i=d3.area().x0(e=>t.walkScales.histogram(0)).x1(e=>t.walkScales.histogram(t.binnedValues[e])).y((e,n)=>t.walkScales.y(e));t.histogram.attr("d",i(Object.keys(t.binnedValues).sort((t,e)=>e-t))),t.walkScales.y.domain([-r,r]),100==t.history.length&&t.history.shift(),t.history.push(n);const o=d3.line().x((e,n)=>t.walkScales.x(n)).y(e=>t.walkScales.y(e));t.line.attr("d",o(t.history.slice(0,t.history.length-1))).transition().duration(10).attr("d",o(t.history)).on("end",()=>{t.seedWalk()})},RandomWalk.prototype.unhighlight=function(){const t=this;return()=>(t.isActive=!1,t)},RandomWalk.prototype.addBackground=function(){return this.sketch.svg.append("rect").attr("fill","#eee").attr("width",640).attr("height",360)},RandomWalk.prototype.addLine=function(){return this.lineGroup.append("path").attr("stroke",d3.schemeCategory10[0]).attr("fill","none").attr("stroke-width",3)},RandomWalk.prototype.addLineGroup=function(){return this.sketch.svg.append("g")},RandomWalk.prototype.addXAxis=function(){const t=d3.axisBottom(this.walkScales.x);return this.xAxisGroup.call(t),t},RandomWalk.prototype.addXAxisGroup=function(){return this.sketch.svg.append("g").attr("transform","translate(0,180)")},Sketch.prototype.addDiv=function(){return this.where.append("div").classed("singleSketchDiv",!0).on("mouseover",this.highlight()).on("mouseout",this.unhighlight()).on("click",this.click())},Sketch.prototype.addImage=function(){return this.div.append("img").classed("sketchImage",!0)},SnellsLaw.prototype.highlight=function(){const t=this;return()=>{t.source.transition().duration(1e3).ease(d3.easeBackOut.overshoot(6)).attr("r",8);const e=t.incidentRay.node().getTotalLength();t.incidentRay.attr("stroke-dashoffset",e).transition().duration(5e4).ease(d3.easeLinear).attr("stroke-dashoffset",0);const n=t.refractedRay.node().getTotalLength();t.refractedRay.attr("stroke-dashoffset",n).transition().duration(5e4).ease(d3.easeLinear).attr("stroke-dashoffset",0)}},SnellsLaw.prototype.mouseMove=function(){const t=this;return()=>{const e={x:event.offsetX,y:event.offsetY};t.updateForMouseCoordinates(e)}},SnellsLaw.prototype.unhighlight=function(){const t=this;return()=>{t.source.transition().duration(250).attr("r",0),t.incidentRay.interrupt(),t.refractedRay.interrupt()}},SnellsLaw.prototype.updateForMouseCoordinates=function(t){if(t.y>=250)return;Math.pow(Math.pow(t.x-250,2)+Math.pow(t.y-250,2),.05);let e,n;n=Math.atan2(t.y-250,t.x-250)+Math.PI/2,e=0,this.source.attr("cx",t.x).attr("cy",t.y),this.incidentRay.attr("x1",5e3*Math.cos(n-Math.PI/2)+250).attr("y1",5e3*Math.sin(n-Math.PI/2)+250),this.incidentArc.attr("d",this.arcGenerator.endAngle(n).startAngle(0));const r=this.firstIndexOfRefraction/this.secondIndexOfRefraction*Math.sin(n),i=Math.asin(r);return this.refractedArc.attr("d",this.arcGenerator.startAngle(i+Math.PI/2).endAngle(Math.PI/2)),this.refractedRay.attr("x2",5e3*Math.cos(i+Math.PI/2)+250).attr("y2",5e3*Math.sin(i+Math.PI/2)+250),this},SnellsLaw.prototype.addBackground=function(){return this.sketch.svg.append("rect").attr("fill","#eee").attr("width",640).attr("height",360)},SnellsLaw.prototype.addHotspot=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("fill","rgba(0,0,0,0)").on("mousemove",this.mouseMove())},SnellsLaw.prototype.addIncidentArc=function(){return this.sketch.svg.append("g").attr("transform","translate(250,250)").append("path").attr("stroke",d3.schemeCategory10[3]).attr("fill","none").attr("stroke-width",5).attr("d",this.arcGenerator.startAngle(-Math.PI/2).endAngle(0))},SnellsLaw.prototype.addIncidentRay=function(){return this.sketch.svg.append("line").attr("x1",40).attr("y1",50).attr("x2",250).attr("y2",250).attr("stroke",d3.schemeCategory10[3]).attr("stroke-width",5).attr("stroke-dasharray","15,15")},SnellsLaw.prototype.addNormal=function(){return this.sketch.svg.append("line").attr("x1",250).attr("x2",250).attr("y1",0).attr("y2",500).attr("stroke","#999").attr("stroke-width",2).attr("stroke-dasharray","10,10")},SnellsLaw.prototype.addRefractedArc=function(){return this.sketch.svg.append("g").attr("transform","translate(250,250) rotate(90)").append("path").attr("stroke",d3.schemeCategory10[1]).attr("fill","none").attr("stroke-width",5).attr("d",this.arcGenerator.startAngle(Math.PI/4).endAngle(Math.PI/2))},SnellsLaw.prototype.addRefractedImage=function(){return this.sketch.svg.append("circle").attr("r",10).attr("fill",d3.schemeCategory10[5]).attr("cx",40).attr("cy",50).attr("r",0)},SnellsLaw.prototype.addRefractedRay=function(){return this.sketch.svg.append("line").attr("x1",250).attr("x2",460).attr("y1",250).attr("y2",450).attr("stroke",d3.schemeCategory10[1]).attr("stroke-width",5).attr("stroke-dasharray","15,15")},SnellsLaw.prototype.addSource=function(){return this.sketch.svg.append("circle").attr("r",10).attr("fill",d3.schemeCategory10[3]).attr("cx",40).attr("cy",50).attr("r",0)},SnellsLaw.prototype.addWater=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("x",-5).attr("y",250).attr("fill",d3.schemeCategory10[0]).attr("stroke",d3.schemeCategory10[5]).attr("stroke-width",3).attr("stroke-dasharray","5,20")},SnellsLaw.prototype.defineArcGenerator=function(){return d3.arc().innerRadius(72.5).outerRadius(75)},IosAudioSlider.prototype.lowerVolume=function(t){return this.value.transition().duration(2e3).attr("height",0).attr("y",105),this},IosAudioSlider.prototype.pressVolumeDown=function(t){return this.volumeDownButton.transition().duration(250).delay(t).attr("fill",this.buttonPressColor).attr("x",32),this},IosAudioSlider.prototype.pressVolumeUp=function(t){return this.volumeUpButton.transition().duration(250).delay(t).attr("fill",this.buttonPressColor).attr("x",32),this},IosAudioSlider.prototype.raiseVolumeUp=function(t){return this.value.transition().delay(t).duration(2e3).attr("height",210).attr("y",-105),this},IosAudioSlider.prototype.releaseVolumeDown=function(t){return this.volumeDownButton.transition().duration(250).delay(t).attr("fill","black").attr("x",27),this},IosAudioSlider.prototype.releaseVolumeUp=function(t){return this.volumeUpButton.transition().duration(250).delay(t).attr("fill","black").attr("x",27),this},IosAudioSlider.prototype.runAnimation=function(){const t=this;return()=>{if(1==t.isRunning)return;t.isRunning=!0;t.pressVolumeDown(0).transitionIndicatorIn(0).squeezeIndicatorStart(500).lowerVolume(425).squeezeStretchIndicator(1200).releaseVolumeDown(2e3).unsqueezeUnstretchIndicator(2e3).pressVolumeUp(2325).raiseVolumeUp(2325).squeezeStretchIndicator(3600).releaseVolumeUp(4350).unsqueezeUnstretchIndicator(4350).transitionIndicatorOut(4750)}},IosAudioSlider.prototype.squeezeIndicatorStart=function(t){return this.horizontalScale.transition().duration(500).delay(t).ease(d3.easeQuadIn).attr("transform","scale(0.2,1)"),this},IosAudioSlider.prototype.squeezeStretchIndicator=function(t){return this.horizontalScale.transition().delay(t).duration(350).ease(d3.easeQuadIn).attr("transform","scale(0.1,1)"),this.verticalScale.transition().delay(t).duration(350).ease(d3.easeQuadIn).attr("transform","scale(1,1.15)"),this},IosAudioSlider.prototype.transitionIndicatorIn=function(t){return this.sliderGroup.attr("transform","translate(-10,0)").transition().delay(t).duration(375).ease(d3.easeQuadIn).attr("transform","translate(100,0)"),this.sliderScale.attr("transform","scale(0.8)").transition().delay(t).duration(375).ease(d3.easeQuadIn).attr("transform","scale(1)"),this.verticalScale.attr("transform","scale(1,0.25)").transition().delay(t).ease(d3.easeQuadOut).duration(375).attr("transform","scale(1,1)"),this.horizontalScale.attr("transform","scale(1,1)"),this},IosAudioSlider.prototype.transitionIndicatorOut=function(t){const e=this;return e.sliderGroup.transition().delay(t).duration(375).ease(d3.easeQuadOut).attr("transform","translate(-10,0)"),e.sliderScale.transition().delay(t).duration(375).ease(d3.easeQuadOut).attr("transform","scale(0.8)"),e.verticalScale.transition().delay(t).ease(d3.easeQuadOut).duration(375).attr("transform","scale(1,0.25)").on("end",()=>{e.isRunning=!1}),e},IosAudioSlider.prototype.unsqueezeUnstretchIndicator=function(t){return this.horizontalScale.transition().delay(t).duration(350).ease(d3.easeQuadOut).attr("transform","scale(0.2,1)"),this.verticalScale.transition().delay(t).duration(350).ease(d3.easeQuadOut).attr("transform","scale(1,1)"),this},IosAudioSlider.prototype.addBackground=function(){return this.sketch.svg.append("rect").attr("width",640).attr("height",360).attr("fill",d3.schemeCategory10[6])},IosAudioSlider.prototype.addPhone=function(){return this.sketch.svg.append("rect").attr("x",50).attr("y",-50).attr("width",500).attr("height",600).attr("stroke-width",25).attr("fill","none").attr("stroke","black")},IosAudioSlider.prototype.addScreenBackground=function(){return this.sketch.svg.append("rect").attr("x",50).attr("width",500).attr("height",500).attr("fill","#ccc")},IosAudioSlider.prototype.addScreenClip=function(){return this.sketch.svg.append("rect").attr("x",0).attr("width",50).attr("height",500).attr("fill","white")},IosAudioSlider.prototype.addSliderGroup=function(){return this.sketch.svg.append("g").attr("transform","translate(-10,0)").attr("clip-path","url(#screenClip)")},IosAudioSlider.prototype.addSliderHorizontalScale=function(){return this.verticalScale.append("g").attr("transform","scale(1,1)")},IosAudioSlider.prototype.addSliderScale=function(){return this.verticalOffset.append("g").attr("transform","scale(1)")},IosAudioSlider.prototype.addSliderVerticalScale=function(){return this.sliderScale.append("g").attr("transform","scale(1,1)")},IosAudioSlider.prototype.addTrack=function(){return this.horizontalScale.append("rect").attr("width",65).attr("height",210).attr("rx",20).attr("ry",25).attr("y",-105).attr("x",-32.5).attr("fill",this.trackColor)},IosAudioSlider.prototype.addValue=function(){return this.horizontalScale.append("rect").attr("width",65).attr("height",210).attr("rx",20).attr("ry",25).attr("y",-105).attr("x",-32.5).attr("fill",this.valueColor)},IosAudioSlider.prototype.addVerticalOffset=function(){return this.sliderGroup.append("g").attr("transform","translate(0,200)")},IosAudioSlider.prototype.addVolumeDownButton=function(){return this.sketch.svg.append("rect").attr("x",27).attr("y",210).attr("width",30).attr("height",100).attr("rx",10).attr("ry",10).attr("fill","black")},IosAudioSlider.prototype.addVolumeUpButton=function(){return this.sketch.svg.append("rect").attr("x",27).attr("y",100).attr("width",30).attr("height",100).attr("rx",10).attr("ry",10).attr("fill","black")},DragSnap.prototype.dragEnd=function(){const t=this;return()=>{t.isDragging=!1;const e=event.offsetX,n=event.offsetY,r=Math.pow(Math.pow(e-100,2)+Math.pow(n-125,2),.5);if(t.canDrop){t.isDone=!0,t.destination.transition().duration(250).attr("stroke",t.connectingColor).attr("fill",t.activeColor).attr("stroke-width",5),function e(){const n=t.antsMarching.node().getTotalLength();t.antsMarching.attr("stroke-dashoffset",n/2).transition().ease(d3.easeLinear).duration(5e3).attr("stroke-dashoffset",0).on("end",e)}()}else t.connectingLine.transition().duration(r).ease(d3.easePolyOut).attr("x2",100).attr("y2",125),t.antsMarching.transition().duration(r).ease(d3.easePolyOut).attr("x2",100).attr("y2",125),t.destination.attr("r",50)}},DragSnap.prototype.dragStart=function(){const t=this;return()=>{t.isDragging=!0,t.destination.transition().duration(350).ease(d3.easeBackOut.overshoot(50)).attr("r",51),t.connectingLine.attr("x1",100).attr("y1",125).attr("x2",100).attr("y2",125),t.antsMarching.attr("x1",100).attr("y1",125).attr("x2",100).attr("y2",125),t.dragMe.transition().duration(250).attr("opacity",0)}},DragSnap.prototype.dragging=function(){const t=this;return()=>{const e={x:event.offsetX,y:event.offsetY},n=Math.pow(Math.pow(e.x-100,2)+Math.pow(e.y-125,2),.5),r=d3.scaleLinear().domain([0,500]).range([30,1]);t.connectingLine.attr("x2",e.x).attr("y2",e.y).attr("stroke-width",r(n)),t.antsMarching.attr("x2",e.x).attr("y2",e.y).attr("stroke-width",r(n)/2)}},Sketch.prototype.ClickEventIs=function(t){return this.clickCallback=t,this},Sketch.prototype.HighlightEventIs=function(t){return this.mouseoverCallback=t,this},Sketch.prototype.UnhighlightEventIs=function(t){return this.mouseoutCallback=t,this},Sketch.prototype.AddSvg=function(){return this.svg=this.div.append("svg").classed("svgSketch",!0).attr("width",640).attr("height",360).style("user-select","none"),this},Sketch.prototype.click=function(){const t=this;return()=>{t.clickCallback()}},Sketch.prototype.highlight=function(){const t=this;return()=>{t.mouseoverCallback()}},Sketch.prototype.unhighlight=function(){const t=this;return()=>{t.mouseoutCallback()}},function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){let n=t,r=t;function i(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){const o=n+i>>>1;r(t[o],e)<0?n=o+1:i=o}return n}return 1===t.length&&(n=((e,n)=>t(e)-n),r=function(t){return(n,r)=>e(t(n),r)}(t)),{left:i,center:function(t,e,r,o){null==r&&(r=0),null==o&&(o=t.length);const a=i(t,e,r,o-1);return a>r&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){const o=n+i>>>1;r(t[o],e)>0?i=o:n=o+1}return n}}}function r(t){return null===t?NaN:+t}const i=n(e),o=i.right,a=i.left,u=n(r).center;function c(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function s(t){return 0|t.length}function l(t){return!(t>0)}function f(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function h(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(o+=(n=e-i)*(e-(i+=n/++r)));else{let a=-1;for(let u of t)null!=(u=e(u,++a,t))&&(u=+u)>=u&&(o+=(n=u-i)*(u-(i+=n/++r)))}if(r>1)return o/(r-1)}function d(t,e){const n=h(t,e);return n?Math.sqrt(n):n}function p(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class g{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,!(r=(n=t[--i])-((o=e+n)-e))););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&((n=2*r)==(e=o+n)-o&&(o=e))}return o}}class y extends Map{constructor(t=[],e=_){super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}});for(const[e,n]of t)this.set(e,n)}get(t){return super.get(v(this,t))}has(t){return super.has(v(this,t))}set(t,e){return super.set(m(this,t),e)}delete(t){return super.delete(b(this,t))}}function v({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function m({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function b({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(n),t.delete(r)),n}function _(t){return null!==t&&"object"==typeof t?t.valueOf():t}function w(t){return t}function x(t,...e){return A(t,w,w,e)}function M(t,e,...n){return A(t,w,e,n)}function k(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function A(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new y,u=r[o++];let c=-1;for(const t of i){const e=u(t,++c,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}function S(t,e){return Array.from(e,e=>t[e])}function T(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[r=e]=n;if(1===r.length||n.length>1){const i=Uint32Array.from(t,(t,e)=>e);return n.length>1?(n=n.map(e=>t.map(e)),i.sort((t,r)=>{for(const i of n){const n=e(i[t],i[r]);if(n)return n}})):(r=t.map(r),i.sort((t,n)=>e(r[t],r[n]))),S(t,i)}return t.sort(r)}var E=Array.prototype.slice;function C(t){return function(){return t}}var P=Math.sqrt(50),N=Math.sqrt(10),I=Math.sqrt(2);function D(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=R(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)/a;return r&&o.reverse(),o}function R(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=P?10:o>=N?5:o>=I?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=P?10:o>=N?5:o>=I?2:1)}function O(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=P?i*=10:o>=N?i*=5:o>=I&&(i*=2),e<t?-i:i}function B(t,e,n){let r;for(;;){const i=R(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function z(t){return Math.ceil(Math.log(c(t))/Math.LN2)+1}function L(){var t=w,e=p,n=z;function r(r){Array.isArray(r)||(r=Array.from(r));var i,a,u=r.length,c=new Array(u);for(i=0;i<u;++i)c[i]=t(r[i],i,r);var s=e(c),l=s[0],f=s[1],h=n(c,l,f);if(!Array.isArray(h)){const t=f,n=+h;if(e===p&&([l,f]=B(l,f,n)),(h=D(l,f,n))[h.length-1]>=f)if(t>=f&&e===p){const t=R(l,f,n);isFinite(t)&&(t>0?f=(Math.floor(f/t)+1)*t:t<0&&(f=(Math.ceil(f*-t)+1)/-t))}else h.pop()}for(var d=h.length;h[0]<=l;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var g,y=new Array(d+1);for(i=0;i<=d;++i)(g=y[i]=[]).x0=i>0?h[i-1]:l,g.x1=i<d?h[i]:f;for(i=0;i<u;++i)l<=(a=c[i])&&a<=f&&y[o(h,a,0,d)].push(r[i]);return y}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:C(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:C([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?C(E.call(t)):C(t),r):n},r}function F(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function q(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function U(t,n,r=0,i=t.length-1,o=e){for(;i>r;){if(i-r>600){const e=i-r+1,a=n-r+1,u=Math.log(e),c=.5*Math.exp(2*u/3),s=.5*Math.sqrt(u*c*(e-c)/e)*(a-e/2<0?-1:1);U(t,n,Math.max(r,Math.floor(n-a*c/e+s)),Math.min(i,Math.floor(n+(e-a)*c/e+s)),o)}const e=t[n];let a=r,u=i;for(j(t,r,n),o(t[i],e)>0&&j(t,r,i);a<u;){for(j(t,a,u),++a,--u;o(t[a],e)<0;)++a;for(;o(t[u],e)>0;)--u}0===o(t[r],e)?j(t,r,u):j(t,++u,i),u<=n&&(r=u+1),n<=u&&(i=u-1)}return t}function j(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function G(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return q(t);if(e>=1)return F(t);var r,i=(r-1)*e,o=Math.floor(i),a=F(U(t,o).subarray(0,o+1));return a+(q(t.subarray(o+1))-a)*(i-o)}}function H(t,e,n=r){if(i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,a=Math.floor(o),u=+n(t[a],a,t);return u+(+n(t[a+1],a+1,t)-u)*(o-a)}}function V(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function Y(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function W(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function X(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Q(t,n=e){if(1===n.length)return W(t,n);let r,i=-1,o=-1;for(const e of t)++o,(i<0?0===n(e,e):n(e,r)<0)&&(r=e,i=o);return i}var $=Z(Math.random);function Z(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const r=t()*i--|0,o=e[i+n];e[i+n]=e[r+n],e[r+n]=o}return e}}function K(t){if(!(i=t.length))return[];for(var e=-1,n=q(t,J),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function J(t){return t.length}function tt(t){return t instanceof Set?t:new Set(t)}function et(t,e){const n=t[Symbol.iterator](),r=new Set;for(const t of e){if(r.has(t))continue;let e,i;for(;({value:e,done:i}=n.next());){if(i)return!1;if(r.add(e),Object.is(t,e))break}}return!0}var nt=Array.prototype.slice;function rt(t){return t}var it=1e-6;function ot(t){return"translate("+(t+.5)+",0)"}function at(t){return"translate(0,"+(t+.5)+")"}function ut(){return!this.__axis}function ct(t,e){var n=[],r=null,i=null,o=6,a=6,u=3,c=1===t||4===t?-1:1,s=4===t||2===t?"x":"y",l=1===t||3===t?ot:at;function f(f){var h=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):rt:i,p=Math.max(o,0)+u,g=e.range(),y=+g[0]+.5,v=+g[g.length-1]+.5,m=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return e=>+t(e)})(e.copy()),b=f.selection?f.selection():f,_=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(h,e).order(),x=w.exit(),M=w.enter().append("g").attr("class","tick"),k=w.select("line"),A=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(s+"2",c*o)),A=A.merge(M.append("text").attr("fill","currentColor").attr(s,c*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==b&&(_=_.transition(f),w=w.transition(f),k=k.transition(f),A=A.transition(f),x=x.transition(f).attr("opacity",it).attr("transform",function(t){return isFinite(t=m(t))?l(t):this.getAttribute("transform")}),M.attr("opacity",it).attr("transform",function(t){var e=this.parentNode.__axis;return l(e&&isFinite(e=e(t))?e:m(t))})),x.remove(),_.attr("d",4===t||2==t?a?"M"+c*a+","+y+"H0.5V"+v+"H"+c*a:"M0.5,"+y+"V"+v:a?"M"+y+","+c*a+"V0.5H"+v+"V"+c*a:"M"+y+",0.5H"+v),w.attr("opacity",1).attr("transform",function(t){return l(m(t))}),k.attr(s+"2",c*o),A.attr(s,c*p).text(d),b.filter(ut).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each(function(){this.__axis=m})}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=nt.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:nt.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:nt.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=a=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(u=+t,f):u},f}var st={value:()=>{}};function lt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ft(r)}function ft(t){this._=t}function ht(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function dt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=st,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ft.prototype=lt.prototype={constructor:ft,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=dt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=dt(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=ht(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ft(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var pt="http://www.w3.org/1999/xhtml",gt={svg:"http://www.w3.org/2000/svg",xhtml:pt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),gt.hasOwnProperty(e)?{space:gt[e],local:t}:t}function vt(t){var e=yt(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pt&&e.documentElement.namespaceURI===pt?e.createElement(t):e.createElementNS(n,t)}})(e)}function mt(){}function bt(t){return null==t?mt:function(){return this.querySelector(t)}}function _t(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function wt(){return[]}function xt(t){return null==t?wt:function(){return this.querySelectorAll(t)}}function Mt(t){return function(){return this.matches(t)}}function kt(t){return function(e){return e.matches(t)}}var At=Array.prototype.find;function St(){return this.firstElementChild}var Tt=Array.prototype.filter;function Et(){return this.children}function Ct(t){return new Array(t.length)}function Pt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Nt(t,e,n,r,i,o){for(var a,u=0,c=e.length,s=o.length;u<s;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new Pt(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function It(t,e,n,r,i,o,a){var u,c,s,l=new Map,f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(d[u]=s=a.call(c,c.__data__,u,e)+"",l.has(s)?i[u]=c:l.set(s,c));for(u=0;u<h;++u)s=a.call(t,o[u],u,o)+"",(c=l.get(s))?(r[u]=c,c.__data__=o[u],l.delete(s)):n[u]=new Pt(t,o[u]);for(u=0;u<f;++u)(c=e[u])&&l.get(d[u])===c&&(i[u]=c)}function Dt(t){return t.__data__}function Rt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ot(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Bt(t,e){return t.style.getPropertyValue(e)||Ot(t).getComputedStyle(t,null).getPropertyValue(e)}function zt(t){return t.trim().split(/^|\s+/)}function Lt(t){return t.classList||new Ft(t)}function Ft(t){this._node=t,this._names=zt(t.getAttribute("class")||"")}function qt(t,e){for(var n=Lt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ut(t,e){for(var n=Lt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function jt(){this.textContent=""}function Gt(){this.innerHTML=""}function Ht(){this.nextSibling&&this.parentNode.appendChild(this)}function Vt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yt(){return null}function Wt(){var t=this.parentNode;t&&t.removeChild(this)}function Xt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $t(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Zt(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Kt(t,e,n){var r=Ot(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}Pt.prototype={constructor:Pt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Ft.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Jt=[null];function te(t,e){this._groups=t,this._parents=e}function ee(){return new te([[document.documentElement]],Jt)}function ne(t){return"string"==typeof t?new te([[document.querySelector(t)]],[document.documentElement]):new te([[t]],Jt)}te.prototype=ee.prototype={constructor:te,select:function(t){"function"!=typeof t&&(t=bt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),s[l]=a);return new te(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:_t(e)}}(t):xt(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new te(r,i)},selectChild:function(t){return this.select(null==t?St:function(t){return function(){return At.call(this.children,t)}}("function"==typeof t?t:kt(t)))},selectChildren:function(t){return this.selectAll(null==t?Et:function(t){return function(){return Tt.call(this.children,t)}}("function"==typeof t?t:kt(t)))},filter:function(t){"function"!=typeof t&&(t=Mt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new te(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Dt);var n=e?It:Nt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,d=_t(t.call(l,l&&l.__data__,s,r)),p=d.length,g=u[s]=new Array(p),y=a[s]=new Array(p);n(l,f,g,y,c[s]=new Array(h),d,e);for(var v,m,b=0,_=0;b<p;++b)if(v=g[b]){for(b>=_&&(_=b+1);!(m=y[_])&&++_<p;);v._next=m||null}}return(a=new te(a,r))._enter=u,a._exit=c,a},enter:function(){return new te(this._enter||this._groups.map(Ct),this._parents)},exit:function(){return new te(this._exit||this._groups.map(Ct),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof te))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=e[u],l=n[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new te(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Rt);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,s=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(e)}return new te(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=yt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):Bt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=zt(t+"");if(arguments.length<2){for(var r=Lt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?qt:Ut)(this,t)}}:e?function(t){return function(){qt(this,t)}}:function(t){return function(){Ut(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?jt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Gt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Ht)},lower:function(){return this.each(Vt)},append:function(t){var e="function"==typeof t?t:vt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:vt(t),r=null==e?Yt:"function"==typeof e?e:bt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Wt)},clone:function(t){return this.select(t?Qt:Xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?Zt:$t,r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Kt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Kt(this,t,e)}})(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var re=0;function ie(){return new oe}function oe(){this._="@"+(++re).toString(36)}function ae(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ue(t,e){if(t=ae(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function ce(t){t.stopImmediatePropagation()}function se(t){t.preventDefault(),t.stopImmediatePropagation()}function le(t){var e=t.document.documentElement,n=ne(t).on("dragstart.drag",se,!0);"onselectstart"in e?n.on("selectstart.drag",se,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function fe(t,e){var n=t.document.documentElement,r=ne(t).on("dragstart.drag",null);e&&(r.on("click.drag",se,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}oe.prototype=ie.prototype={constructor:oe,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var he=t=>()=>t;function de(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:u,dx:c,dy:s,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:l}})}function pe(t){return!t.ctrlKey&&!t.button}function ge(){return this.parentNode}function ye(t,e){return null==e?{x:t.x,y:t.y}:e}function ve(){return navigator.maxTouchPoints||"ontouchstart"in this}function me(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function be(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _e(){}de.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var we=1/.7,xe="\\s*([+-]?\\d+)\\s*",Me="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ke="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ae=/^#([0-9a-f]{3,8})$/,Se=new RegExp("^rgb\\("+[xe,xe,xe]+"\\)$"),Te=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Ee=new RegExp("^rgba\\("+[xe,xe,xe,Me]+"\\)$"),Ce=new RegExp("^rgba\\("+[ke,ke,ke,Me]+"\\)$"),Pe=new RegExp("^hsl\\("+[Me,ke,ke]+"\\)$"),Ne=new RegExp("^hsla\\("+[Me,ke,ke,Me]+"\\)$"),Ie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function De(){return this.rgb().formatHex()}function Re(){return this.rgb().formatRgb()}function Oe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Be(e):3===n?new qe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ze(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ze(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Se.exec(t))?new qe(e[1],e[2],e[3],1):(e=Te.exec(t))?new qe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ee.exec(t))?ze(e[1],e[2],e[3],e[4]):(e=Ce.exec(t))?ze(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Pe.exec(t))?He(e[1],e[2]/100,e[3]/100,1):(e=Ne.exec(t))?He(e[1],e[2]/100,e[3]/100,e[4]):Ie.hasOwnProperty(t)?Be(Ie[t]):"transparent"===t?new qe(NaN,NaN,NaN,0):null}function Be(t){return new qe(t>>16&255,t>>8&255,255&t,1)}function ze(t,e,n,r){return r<=0&&(t=e=n=NaN),new qe(t,e,n,r)}function Le(t){return t instanceof _e||(t=Oe(t)),t?new qe((t=t.rgb()).r,t.g,t.b,t.opacity):new qe}function Fe(t,e,n,r){return 1===arguments.length?Le(t):new qe(t,e,n,null==r?1:r)}function qe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ue(){return"#"+Ge(this.r)+Ge(this.g)+Ge(this.b)}function je(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ge(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function He(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new We(t,e,n,r)}function Ve(t){if(t instanceof We)return new We(t.h,t.s,t.l,t.opacity);if(t instanceof _e||(t=Oe(t)),!t)return new We;if(t instanceof We)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new We(a,u,c,t.opacity)}function Ye(t,e,n,r){return 1===arguments.length?Ve(t):new We(t,e,n,null==r?1:r)}function We(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Xe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}me(_e,Oe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:De,formatHex:De,formatHsl:function(){return Ve(this).formatHsl()},formatRgb:Re,toString:Re}),me(qe,Fe,be(_e,{brighter:function(t){return t=null==t?we:Math.pow(we,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ue,formatHex:Ue,formatRgb:je,toString:je})),me(We,Ye,be(_e,{brighter:function(t){return t=null==t?we:Math.pow(we,t),new We(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new We(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qe(Xe(t>=240?t-240:t+120,i,r),Xe(t,i,r),Xe(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Qe=Math.PI/180,$e=180/Math.PI,Ze=.96422,Ke=.82521,Je=4/29,tn=6/29,en=3*tn*tn;function nn(t){if(t instanceof on)return new on(t.l,t.a,t.b,t.opacity);if(t instanceof hn)return dn(t);t instanceof qe||(t=Le(t));var e,n,r=sn(t.r),i=sn(t.g),o=sn(t.b),a=an((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=an((.4360747*r+.3850649*i+.1430804*o)/Ze),n=an((.0139322*r+.0971045*i+.7141733*o)/Ke)),new on(116*a-16,500*(e-a),200*(a-n),t.opacity)}function rn(t,e,n,r){return 1===arguments.length?nn(t):new on(t,e,n,null==r?1:r)}function on(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function an(t){return t>.008856451679035631?Math.pow(t,1/3):t/en+Je}function un(t){return t>tn?t*t*t:en*(t-Je)}function cn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function sn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ln(t){if(t instanceof hn)return new hn(t.h,t.c,t.l,t.opacity);if(t instanceof on||(t=nn(t)),0===t.a&&0===t.b)return new hn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*$e;return new hn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function fn(t,e,n,r){return 1===arguments.length?ln(t):new hn(t,e,n,null==r?1:r)}function hn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function dn(t){if(isNaN(t.h))return new on(t.l,0,0,t.opacity);var e=t.h*Qe;return new on(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}me(on,rn,be(_e,{brighter:function(t){return new on(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new on(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new qe(cn(3.1338561*(e=Ze*un(e))-1.6168667*(t=1*un(t))-.4906146*(n=Ke*un(n))),cn(-.9787684*e+1.9161415*t+.033454*n),cn(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),me(hn,fn,be(_e,{brighter:function(t){return new hn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new hn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return dn(this).rgb()}}));var pn=1.78277,gn=-.29227,yn=-.90649,vn=1.97294,mn=vn*yn,bn=vn*pn,_n=pn*gn- -.14861*yn;function wn(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof xn)return new xn(t.h,t.s,t.l,t.opacity);t instanceof qe||(t=Le(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(_n*r+mn*e-bn*n)/(_n+mn-bn),o=r-i,a=(vn*(n-i)-gn*o)/yn,u=Math.sqrt(a*a+o*o)/(vn*i*(1-i)),c=u?Math.atan2(a,o)*$e-120:NaN;return new xn(c<0?c+360:c,u,i,t.opacity)}(t):new xn(t,e,n,null==r?1:r)}function xn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Mn(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function kn(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return Mn((n-r/e)*e,a,i,o,u)}}function An(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Mn((n-r/e)*e,i,o,a,u)}}me(xn,wn,be(_e,{brighter:function(t){return t=null==t?we:Math.pow(we,t),new xn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Qe,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new qe(255*(e+n*(-.14861*r+pn*i)),255*(e+n*(gn*r+yn*i)),255*(e+n*(vn*r)),this.opacity)}}));var Sn=t=>()=>t;function Tn(t,e){return function(n){return t+n*e}}function En(t,e){var n=e-t;return n?Tn(t,n>180||n<-180?n-360*Math.round(n/360):n):Sn(isNaN(t)?e:t)}function Cn(t,e){var n=e-t;return n?Tn(t,n):Sn(isNaN(t)?e:t)}var Pn=function t(e){var n=function(t){return 1==(t=+t)?Cn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Sn(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Fe(t)).r,(e=Fe(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Cn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Nn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Fe(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var In=Nn(kn),Dn=Nn(An);function Rn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function On(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Gn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function zn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ln(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Gn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var qn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Un=new RegExp(qn.source,"g");function jn(t,e){var n,r,i,o=qn.lastIndex=Un.lastIndex=0,a=-1,u=[],c=[];for(t+="",e+="";(n=qn.exec(t))&&(r=Un.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Ln(n,r)})),o=Un.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})}function Gn(t,e){var n,r=typeof e;return null==e||"boolean"===r?Sn(e):("number"===r?Ln:"string"===r?(n=Oe(e))?(e=n,Pn):jn:e instanceof Oe?Pn:e instanceof Date?zn:On(e)?Rn:Array.isArray(e)?Bn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Fn:Ln)(t,e)}function Hn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Vn,Yn=180/Math.PI,Wn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xn(t,e,n,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Yn,skewX:Math.atan(c)*Yn,scaleX:a,scaleY:u}}function Qn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);u.push({i:c-4,x:Ln(t,i)},{i:c-2,x:Ln(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),c.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ln(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u),function(t,e,n,o){t!==e?c.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ln(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Ln(t,n)},{i:u-2,x:Ln(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,c),o=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)u[(e=c[n]).i]=e.x(t);return u.join("")}}}var $n=Qn(function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Wn:Xn(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),Zn=Qn(function(t){return null==t?Wn:(Vn||(Vn=document.createElementNS("http://www.w3.org/2000/svg","g")),Vn.setAttribute("transform",t),(t=Vn.transform.baseVal.consolidate())?Xn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Wn)},", ",")",")");function Kn(t){return((t=Math.exp(t))+1/t)/2}var Jn=function t(e,n,r){function i(t,i){var o,a,u=t[0],c=t[1],s=t[2],l=i[0],f=i[1],h=i[2],d=l-u,p=f-c,g=d*d+p*p;if(g<1e-12)a=Math.log(h/s)/e,o=function(t){return[u+t*d,c+t*p,s*Math.exp(e*t*a)]};else{var y=Math.sqrt(g),v=(h*h-s*s+r*g)/(2*s*n*y),m=(h*h-s*s-r*g)/(2*h*n*y),b=Math.log(Math.sqrt(v*v+1)-v),_=Math.log(Math.sqrt(m*m+1)-m);a=(_-b)/e,o=function(t){var r=t*a,i=Kn(b),o=s/(n*y)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+b)-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[u+o*d,c+o*p,s*i/Kn(e*r+b)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function tr(t){return function(e,n){var r=t((e=Ye(e)).h,(n=Ye(n)).h),i=Cn(e.s,n.s),o=Cn(e.l,n.l),a=Cn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var er=tr(En),nr=tr(Cn);function rr(t){return function(e,n){var r=t((e=fn(e)).h,(n=fn(n)).h),i=Cn(e.c,n.c),o=Cn(e.l,n.l),a=Cn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var ir=rr(En),or=rr(Cn);function ar(t){return function e(n){function r(e,r){var i=t((e=wn(e)).h,(r=wn(r)).h),o=Cn(e.s,r.s),a=Cn(e.l,r.l),u=Cn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}var ur=ar(En),cr=ar(Cn);function sr(t,e){void 0===e&&(e=t,t=Gn);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var lr,fr,hr=0,dr=0,pr=0,gr=0,yr=0,vr=0,mr="object"==typeof performance&&performance.now?performance:Date,br="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _r(){return yr||(br(wr),yr=mr.now()+vr)}function wr(){yr=0}function xr(){this._call=this._time=this._next=null}function Mr(t,e,n){var r=new xr;return r.restart(t,e,n),r}function kr(){_r(),++hr;for(var t,e=lr;e;)(t=yr-e._time)>=0&&e._call.call(null,t),e=e._next;--hr}function Ar(){yr=(gr=mr.now())+vr,hr=dr=0;try{kr()}finally{hr=0,function(){for(var t,e,n=lr,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:lr=e);fr=t,Tr(r)}(),yr=0}}function Sr(){var t=mr.now(),e=t-gr;e>1e3&&(vr-=e,gr=t)}function Tr(t){hr||(dr&&(dr=clearTimeout(dr)),t-yr>24?(t<1/0&&(dr=setTimeout(Ar,t-mr.now()-vr)),pr&&(pr=clearInterval(pr))):(pr||(gr=mr.now(),pr=setInterval(Sr,1e3)),hr=1,br(Ar)))}function Er(t,e,n){var r=new xr;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}xr.prototype=Mr.prototype={constructor:xr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?_r():+n)+(null==e?0:+e),this._next||fr===this||(fr?fr._next=this:lr=this,fr=this),this._call=t,this._time=n,Tr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tr())}};var Cr=lt("start","end","cancel","interrupt"),Pr=[];function Nr(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(c){var s,l,f,h;if(1!==n.state)return u();for(s in i)if((h=i[s]).name===n.name){if(3===h.state)return Er(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(Er(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),s=0,l=-1;s<f;++s)(h=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Mr(function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:Cr,tween:Pr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ir(t,e){var n=Rr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Dr(t,e){var n=Rr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Rr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Or(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function Br(t,e,n){var r=t._id;return t.each(function(){var t=Dr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Rr(t,r).value[e]}}function zr(t,e){var n;return("number"==typeof e?Ln:e instanceof Oe?Pn:(n=Oe(e))?(e=n,Pn):jn)(t,e)}var Lr=ee.prototype.constructor;function Fr(t){return function(){this.style.removeProperty(t)}}var qr=0;function Ur(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function jr(t){return ee().transition(t)}function Gr(){return++qr}var Hr=ee.prototype;function Vr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Yr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ur.prototype=jr.prototype={constructor:Ur,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=bt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,s=r[a],l=s.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=s[h])&&(c=t.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,Nr(f[h],e,n,h,f,Rr(u,n)));return new Ur(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=xt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,s=r[u],l=s.length,f=0;f<l;++f)if(c=s[f]){for(var h,d=t.call(c,c.__data__,f,s),p=Rr(c,n),g=0,y=d.length;g<y;++g)(h=d[g])&&Nr(h,e,n,g,d,p);o.push(d),a.push(c)}return new Ur(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Mt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new Ur(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=e[u],l=n[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new Ur(a,this._parents,this._name,this._id)},selection:function(){return new Lr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Gr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)if(a=u[s]){var l=Rr(a,e);Nr(a,t,n,s,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ur(r,this._parents,t,n)},call:Hr.call,nodes:Hr.nodes,node:Hr.node,size:Hr.size,empty:Hr.empty,each:Hr.each,on:function(t,e){var n=this._id;return arguments.length<2?Rr(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=(e+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?Ir:Dr;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=yt(t),r="transform"===n?Zn:zr;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,c));this.removeAttribute(t)}})(n,r,Br(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}:function(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=yt(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?$n:zr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Bt(this,t),a=(this.style.removeProperty(t),Bt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Fr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Bt(this,t),u=n(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=Bt(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,u))}}(t,r,Br(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var c=Dr(this,t),s=c.on,l=null==c.value[a]?o||(o=Fr(e)):void 0;s===n&&i===l||(r=(n=s).copy()).on(u,i=l),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Bt(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Br(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Rr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=Dr(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Dr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===e){i[c]=u;break}c===s&&i.push(u)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Ir(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Ir(this,t).delay=e}})(e,t)):Rr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Dr(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Dr(this,t).duration=e}})(e,t)):Rr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Dr(this,t).ease=e}}(e,t)):Rr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Dr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var u={value:a},c={value:function(){0==--i&&o()}};n.each(function(){var n=Dr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(c)),n.on=e}),0===i&&o()})},[Symbol.iterator]:Hr[Symbol.iterator]};var Wr=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Xr=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Qr=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),$r=Math.PI,Zr=$r/2;function Kr(t){return(1-Math.cos($r*t))/2}function Jr(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function ti(t){return((t*=2)<=1?Jr(1-t):2-Jr(t-1))/2}function ei(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ni=4/11,ri=7.5625;function ii(t){return(t=+t)<ni?ri*t*t:t<.7272727272727273?ri*(t-=.5454545454545454)*t+.75:t<.9090909090909091?ri*(t-=.8181818181818182)*t+.9375:ri*(t-=.9545454545454546)*t+.984375}var oi=1.70158,ai=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(oi),ui=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(oi),ci=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(oi),si=2*Math.PI,li=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=si);function i(t){return e*Jr(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*si)},i.period=function(n){return t(e,n)},i}(1,.3),fi=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=si);function i(t){return 1-e*Jr(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*si)},i.period=function(n){return t(e,n)},i}(1,.3),hi=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=si);function i(t){return((t=2*t-1)<0?e*Jr(-t)*Math.sin((r-t)/n):2-e*Jr(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*si)},i.period=function(n){return t(e,n)},i}(1,.3),di={time:null,delay:0,duration:250,ease:Yr};function pi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}ee.prototype.interrupt=function(t){return this.each(function(){Or(this,t)})},ee.prototype.transition=function(t){var e,n;t instanceof Ur?(e=t._id,t=t._name):(e=Gr(),(n=di).time=_r(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)(a=u[s])&&Nr(a,t,e,s,u,n||pi(a,e));return new Ur(r,this._parents,t,e)};var gi=[null],yi=t=>()=>t;function vi(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function mi(t){t.preventDefault(),t.stopImmediatePropagation()}var bi={name:"drag"},_i={name:"space"},wi={name:"handle"},xi={name:"center"};const{abs:Mi,max:ki,min:Ai}=Math;function Si(t){return[+t[0],+t[1]]}function Ti(t){return[Si(t[0]),Si(t[1])]}var Ei={name:"x",handles:["w","e"].map(Bi),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ci={name:"y",handles:["n","s"].map(Bi),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Pi={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Bi),input:function(t){return null==t?null:Ti(t)},output:function(t){return t}},Ni={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ii={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Di={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ri={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Oi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Bi(t){return{type:t}}function zi(t){return!t.ctrlKey&&!t.button}function Li(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Fi(){return navigator.maxTouchPoints||"ontouchstart"in this}function qi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ui(t){var e,n=Li,r=zi,i=Fi,o=!0,a=lt("start","brush","end"),u=6;function c(e){var n=e.property("__brush",g).selectAll(".overlay").data([Bi("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ni.overlay).merge(n).each(function(){var t=qi(this).extent;ne(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([Bi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ni.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Ni[t.type]}),e.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function s(){var t=ne(this),e=qi(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-u/2:e[0][0]-u/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-u/2:e[0][1]-u/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+u:u}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+u:u})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new f(t,e,n):r}function f(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function h(n){if((!e||n.touches)&&r.apply(this,arguments)){var i,a,u,c,f,h,d,p,g,y,v,m=this,b=n.target.__data__.type,_="selection"===(o&&n.metaKey?b="overlay":b)?bi:o&&n.altKey?xi:wi,w=t===Ci?null:Ri[b],x=t===Ei?null:Oi[b],M=qi(m),k=M.extent,A=M.selection,S=k[0][0],T=k[0][1],E=k[1][0],C=k[1][1],P=0,N=0,I=w&&x&&o&&n.shiftKey,D=Array.from(n.touches||[n],t=>{const e=t.identifier;return(t=ue(t,m)).point0=t.slice(),t.identifier=e,t});if("overlay"===b){A&&(g=!0);const e=[D[0],D[1]||D[0]];M.selection=A=[[i=t===Ci?S:Ai(e[0][0],e[1][0]),u=t===Ei?T:Ai(e[0][1],e[1][1])],[f=t===Ci?E:ki(e[0][0],e[1][0]),d=t===Ei?C:ki(e[0][1],e[1][1])]],D.length>1&&F()}else i=A[0][0],u=A[0][1],f=A[1][0],d=A[1][1];a=i,c=u,h=f,p=d;var R=ne(m).attr("pointer-events","none"),O=R.selectAll(".overlay").attr("cursor",Ni[b]);Or(m);var B=l(m,arguments,!0).beforestart();if(n.touches)B.moved=L,B.ended=q;else{var z=ne(n.view).on("mousemove.brush",L,!0).on("mouseup.brush",q,!0);o&&z.on("keydown.brush",function(t){switch(t.keyCode){case 16:I=w&&x;break;case 18:_===wi&&(w&&(f=h-P*w,i=a+P*w),x&&(d=p-N*x,u=c+N*x),_=xi,F());break;case 32:_!==wi&&_!==xi||(w<0?f=h-P:w>0&&(i=a-P),x<0?d=p-N:x>0&&(u=c-N),_=_i,O.attr("cursor",Ni.selection),F());break;default:return}mi(t)},!0).on("keyup.brush",function(t){switch(t.keyCode){case 16:I&&(y=v=I=!1,F());break;case 18:_===xi&&(w<0?f=h:w>0&&(i=a),x<0?d=p:x>0&&(u=c),_=wi,F());break;case 32:_===_i&&(t.altKey?(w&&(f=h-P*w,i=a+P*w),x&&(d=p-N*x,u=c+N*x),_=xi):(w<0?f=h:w>0&&(i=a),x<0?d=p:x>0&&(u=c),_=wi),O.attr("cursor",Ni[b]),F());break;default:return}mi(t)},!0),le(n.view)}s.call(m),B.start(n,_.name)}function L(t){for(const e of t.changedTouches||[t])for(const t of D)t.identifier===e.identifier&&(t.cur=ue(e,m));if(I&&!y&&!v&&1===D.length){const t=D[0];Mi(t.cur[0]-t[0])>Mi(t.cur[1]-t[1])?v=!0:y=!0}for(const t of D)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);g=!0,mi(t),F(t)}function F(t){const e=D[0],n=e.point0;var r;switch(P=e[0]-n[0],N=e[1]-n[1],_){case _i:case bi:w&&(P=ki(S-i,Ai(E-f,P)),a=i+P,h=f+P),x&&(N=ki(T-u,Ai(C-d,N)),c=u+N,p=d+N);break;case wi:D[1]?(w&&(a=ki(S,Ai(E,D[0][0])),h=ki(S,Ai(E,D[1][0])),w=1),x&&(c=ki(T,Ai(C,D[0][1])),p=ki(T,Ai(C,D[1][1])),x=1)):(w<0?(P=ki(S-i,Ai(E-i,P)),a=i+P,h=f):w>0&&(P=ki(S-f,Ai(E-f,P)),a=i,h=f+P),x<0?(N=ki(T-u,Ai(C-u,N)),c=u+N,p=d):x>0&&(N=ki(T-d,Ai(C-d,N)),c=u,p=d+N));break;case xi:w&&(a=ki(S,Ai(E,i-P*w)),h=ki(S,Ai(E,f+P*w))),x&&(c=ki(T,Ai(C,u-N*x)),p=ki(T,Ai(C,d+N*x)))}h<a&&(w*=-1,r=i,i=f,f=r,r=a,a=h,h=r,b in Ii&&O.attr("cursor",Ni[b=Ii[b]])),p<c&&(x*=-1,r=u,u=d,d=r,r=c,c=p,p=r,b in Di&&O.attr("cursor",Ni[b=Di[b]])),M.selection&&(A=M.selection),y&&(a=A[0][0],h=A[1][0]),v&&(c=A[0][1],p=A[1][1]),A[0][0]===a&&A[0][1]===c&&A[1][0]===h&&A[1][1]===p||(M.selection=[[a,c],[h,p]],s.call(m),B.brush(t,_.name))}function q(t){if(function(t){t.stopImmediatePropagation()}(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500)}else fe(t.view,g),z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);R.attr("pointer-events","all"),O.attr("cursor",Ni.overlay),M.selection&&(A=M.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(A)&&(M.selection=null,s.call(m)),B.end(t,_.name)}}function d(t){l(this,arguments).moved(t)}function p(t){l(this,arguments).ended(t)}function g(){var e=this.__brush||{selection:null};return e.extent=Ti(n.apply(this,arguments)),e.dim=t,e}return c.move=function(e,n){e.tween?e.on("start.brush",function(t){l(this,arguments).beforestart().start(t)}).on("interrupt.brush end.brush",function(t){l(this,arguments).end(t)}).tween("brush",function(){var e=this,r=e.__brush,i=l(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),u=Gn(o,a);function c(t){r.selection=1===t&&null===a?null:u(t),s.call(e),i.brush()}return null!==o&&null!==a?c:c(1)}):e.each(function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"==typeof n?n.apply(e,r):n,i.extent),a=l(e,r).beforestart();Or(e),i.selection=null===o?null:o,s.call(e),a.start().brush().end()})},c.clear=function(t){c.move(t,null)},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=ne(this.that).datum();a.call(e,this.that,new vi(e,{sourceEvent:n,target:c,selection:t.output(this.state.selection),mode:r,dispatch:a}),i)}},c.extent=function(t){return arguments.length?(n="function"==typeof t?t:yi(Ti(t)),c):n},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:yi(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:yi(!!t),c):i},c.handleSize=function(t){return arguments.length?(u=+t,c):u},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}var ji=Math.abs,Gi=Math.cos,Hi=Math.sin,Vi=Math.PI,Yi=Vi/2,Wi=2*Vi,Xi=Math.max,Qi=1e-12;function $i(t,e){return Array.from({length:e-t},(e,n)=>t+n)}function Zi(t,e){var n=0,r=null,i=null,o=null;function a(a){var u,c=a.length,s=new Array(c),l=$i(0,c),f=new Array(c*c),h=new Array(c),d=0;a=Float64Array.from({length:c*c},e?(t,e)=>a[e%c][e/c|0]:(t,e)=>a[e/c|0][e%c]);for(let e=0;e<c;++e){let n=0;for(let r=0;r<c;++r)n+=a[e*c+r]+t*a[r*c+e];d+=s[e]=n}u=(d=Xi(0,Wi-n*c)/d)?n:Wi/c;{let e=0;r&&l.sort((t,e)=>r(s[t],s[e]));for(const n of l){const r=e;if(t){const t=$i(1+~c,c).filter(t=>t<0?a[~t*c+n]:a[n*c+t]);i&&t.sort((t,e)=>i(t<0?-a[~t*c+n]:a[n*c+t],e<0?-a[~e*c+n]:a[n*c+e]));for(const r of t)r<0?(f[~r*c+n]||(f[~r*c+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=a[~r*c+n]*d,value:a[~r*c+n]}:(f[n*c+r]||(f[n*c+r]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=a[n*c+r]*d,value:a[n*c+r]};h[n]={index:n,startAngle:r,endAngle:e,value:s[n]}}else{const t=$i(0,c).filter(t=>a[n*c+t]||a[t*c+n]);i&&t.sort((t,e)=>i(a[n*c+t],a[n*c+e]));for(const r of t){let t;if(n<r?(t=f[n*c+r]||(f[n*c+r]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=a[n*c+r]*d,value:a[n*c+r]}:((t=f[r*c+n]||(f[r*c+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=a[n*c+r]*d,value:a[n*c+r]},n===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}h[n]={index:n,startAngle:r,endAngle:e,value:s[n]}}e+=u}}return(f=Object.values(f)).groups=h,o?f.sort(o):f}return a.padAngle=function(t){return arguments.length?(n=Xi(0,t),a):n},a.sortGroups=function(t){return arguments.length?(r=t,a):r},a.sortSubgroups=function(t){return arguments.length?(i=t,a):i},a.sortChords=function(t){return arguments.length?(null==t?o=null:(o=function(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}(t))._=t,a):o&&o._},a}const Ki=Math.PI,Ji=2*Ki,to=1e-6,eo=Ji-to;function no(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ro(){return new no}no.prototype=ro.prototype={constructor:no,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,c=r-e,s=o-t,l=a-e,f=s*s+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>to)if(Math.abs(l*u-c*s)>to&&i){var h=n-o,d=r-a,p=u*u+c*c,g=h*h+d*d,y=Math.sqrt(p),v=Math.sqrt(f),m=i*Math.tan((Ki-Math.acos((p+f-g)/(2*y*v)))/2),b=m/v,_=m/y;Math.abs(b-1)>to&&(this._+="L"+(t+b*s)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>s*d)+","+(this._x1=t+_*u)+","+(this._y1=e+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),c=t+a,s=e+u,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>to||Math.abs(this._y1-s)>to)&&(this._+="L"+c+","+s),n&&(f<0&&(f=f%Ji+Ji),f>eo?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):f>to&&(this._+="A"+n+","+n+",0,"+ +(f>=Ki)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var io=Array.prototype.slice;function oo(t){return function(){return t}}function ao(t){return t.source}function uo(t){return t.target}function co(t){return t.radius}function so(t){return t.startAngle}function lo(t){return t.endAngle}function fo(){return 0}function ho(){return 10}function po(t){var e=ao,n=uo,r=co,i=co,o=so,a=lo,u=fo,c=null;function s(){var s,l=e.apply(this,arguments),f=n.apply(this,arguments),h=u.apply(this,arguments)/2,d=io.call(arguments),p=+r.apply(this,(d[0]=l,d)),g=o.apply(this,d)-Yi,y=a.apply(this,d)-Yi,v=+i.apply(this,(d[0]=f,d)),m=o.apply(this,d)-Yi,b=a.apply(this,d)-Yi;if(c||(c=s=ro()),h>Qi&&(ji(y-g)>2*h+Qi?y>g?(g+=h,y-=h):(g-=h,y+=h):g=y=(g+y)/2,ji(b-m)>2*h+Qi?b>m?(m+=h,b-=h):(m-=h,b+=h):m=b=(m+b)/2),c.moveTo(p*Gi(g),p*Hi(g)),c.arc(0,0,p,g,y),g!==m||y!==b)if(t){var _=v-+t.apply(this,arguments),w=(m+b)/2;c.quadraticCurveTo(0,0,_*Gi(m),_*Hi(m)),c.lineTo(v*Gi(w),v*Hi(w)),c.lineTo(_*Gi(b),_*Hi(b))}else c.quadraticCurveTo(0,0,v*Gi(m),v*Hi(m)),c.arc(0,0,v,m,b);if(c.quadraticCurveTo(0,0,p*Gi(g),p*Hi(g)),c.closePath(),s)return c=null,s+""||null}return t&&(s.headRadius=function(e){return arguments.length?(t="function"==typeof e?e:oo(+e),s):t}),s.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:oo(+t),s):r},s.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:oo(+t),s):r},s.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:oo(+t),s):i},s.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:oo(+t),s):o},s.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:oo(+t),s):a},s.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:oo(+t),s):u},s.source=function(t){return arguments.length?(e=t,s):e},s.target=function(t){return arguments.length?(n=t,s):n},s.context=function(t){return arguments.length?(c=null==t?null:t,s):c},s}var go=Array.prototype.slice;function yo(t,e){return t-e}var vo=t=>()=>t;function mo(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=bo(t,e[r]))return n;return 0}function bo(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var c=t[o],s=c[0],l=c[1],f=t[u],h=f[0],d=f[1];if(_o(c,f,e))return 0;l>r!=d>r&&n<(h-s)*(r-l)/(d-l)+s&&(i=-i)}return i}function _o(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}function wo(){}var xo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Mo(){var t=1,e=1,n=z,r=u;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(yo);else{var r=p(t),i=r[0],a=r[1];e=O(i,a,e),e=X(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map(function(e){return o(t,e)})}function o(n,i){var o=[],u=[];return function(n,r,i){var o,u,c,s,l,f,h=new Array,d=new Array;for(o=u=-1,s=n[0]>=r,xo[s<<1].forEach(p);++o<t-1;)c=s,s=n[o+1]>=r,xo[c|s<<1].forEach(p);for(xo[s<<0].forEach(p);++u<e-1;){for(o=-1,s=n[u*t+t]>=r,l=n[u*t]>=r,xo[s<<1|l<<2].forEach(p);++o<t-1;)c=s,s=n[u*t+t+o+1]>=r,f=l,l=n[u*t+o+1]>=r,xo[c|s<<1|l<<2|f<<3].forEach(p);xo[s|l<<3].forEach(p)}for(o=-1,l=n[u*t]>=r,xo[l<<2].forEach(p);++o<t-1;)f=l,l=n[u*t+o+1]>=r,xo[l<<2|f<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+u],c=[t[1][0]+o,t[1][1]+u],s=a(r),l=a(c);(e=d[s])?(n=h[l])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(c),i(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(c),d[e.end=l]=e):(e=h[l])?(n=d[s])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(c),i(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=s]=e):h[s]=d[l]={start:s,end:l,ring:[r,c]}}xo[l<<3].forEach(p)}(n,i,function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):u.push(t)}),u.forEach(function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==mo((e=o[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function u(n,r,i){n.forEach(function(n){var o,a=n[0],u=n[1],c=0|a,s=0|u,l=r[s*t+c];a>0&&a<t&&c===a&&(o=r[s*t+c-1],n[0]=a+(i-o)/(l-o)-.5),u>0&&u<e&&s===u&&(o=r[(s-1)*t+c],n[1]=u+(i-o)/(l-o)-.5)})}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.floor(n[0]),o=Math.floor(n[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?vo(go.call(t)):vo(t),i):n},i.smooth=function(t){return arguments.length?(r=t?u:wo,i):r===u},i}function ko(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var u=0,c=0;u<r+n;++u)u<r&&(c+=t.data[u+a*r]),u>=n&&(u>=o&&(c-=t.data[u-o+a*r]),e.data[u-n+a*r]=c/Math.min(u+1,r-1+o-u,o))}function Ao(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var u=0,c=0;u<i+n;++u)u<i&&(c+=t.data[a+u*r]),u>=n&&(u>=o&&(c-=t.data[a+(u-o)*r]),e.data[a+(u-n)*r]=c/Math.min(u+1,i-1+o-u,o))}function So(t){return t[0]}function To(t){return t[1]}function Eo(){return 1}const Co=Math.pow(2,-52),Po=new Uint32Array(512);class No{static from(t,e=function(t){return t[0]},n=function(t){return t[1]}){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new No(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,u=1/0,c=-1/0,s=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<u&&(u=r),n>c&&(c=n),r>s&&(s=r),this._ids[e]=e}const l=(a+c)/2,f=(u+s)/2;let h,d,p,g=1/0;for(let e=0;e<o;e++){const n=Io(l,f,t[2*e],t[2*e+1]);n<g&&(h=e,g=n)}const y=t[2*h],v=t[2*h+1];g=1/0;for(let e=0;e<o;e++){if(e===h)continue;const n=Io(y,v,t[2*e],t[2*e+1]);n<g&&n>0&&(d=e,g=n)}let m=t[2*d],b=t[2*d+1],_=1/0;for(let e=0;e<o;e++){if(e===h||e===d)continue;const n=Bo(y,v,m,b,t[2*e],t[2*e+1]);n<_&&(p=e,_=n)}let w=t[2*p],x=t[2*p+1];if(_===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];zo(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Ro(y,v,m,b,w,x)){const t=d,e=m,n=b;d=p,m=w,b=x,p=t,w=e,x=n}const M=function(t,e,n,r,i,o){const a=m-y,u=b-v,c=w-y,s=x-v,l=a*a+u*u,f=c*c+s*s,h=.5/(a*s-u*c);return{x:y+(s*l-u*f)*h,y:v+(a*f-c*l)*h}}();this._cx=M.x,this._cy=M.y;for(let e=0;e<o;e++)this._dists[e]=Io(t[2*e],t[2*e+1],M.x,M.y);zo(this._ids,this._dists,0,o-1),this._hullStart=h;let k=3;n[h]=e[p]=d,n[d]=e[h]=p,n[p]=e[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(y,v)]=h,i[this._hashKey(m,b)]=d,i[this._hashKey(w,x)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,a,u=0;u<this._ids.length;u++){const c=this._ids[u],s=t[2*c],l=t[2*c+1];if(u>0&&Math.abs(s-o)<=Co&&Math.abs(l-a)<=Co)continue;if(o=s,a=l,c===h||c===d||c===p)continue;let f=0;for(let t=0,e=this._hashKey(s,l);t<this._hashSize&&(-1===(f=i[(e+t)%this._hashSize])||f===n[f]);t++);let g,y=f=e[f];for(;g=n[y],!Ro(s,l,t[2*y],t[2*y+1],t[2*g],t[2*g+1]);)if((y=g)===f){y=-1;break}if(-1===y)continue;let v=this._addTriangle(y,c,n[y],-1,-1,r[y]);r[c]=this._legalize(v+2),r[y]=v,k++;let m=n[y];for(;g=n[m],Ro(s,l,t[2*m],t[2*m+1],t[2*g],t[2*g+1]);)v=this._addTriangle(m,c,g,r[c],-1,r[m]),r[c]=this._legalize(v+2),n[m]=m,k--,m=g;if(y===f)for(;Ro(s,l,t[2*(g=e[y])],t[2*g+1],t[2*y],t[2*y+1]);)v=this._addTriangle(g,c,y,-1,r[y],r[g]),this._legalize(v+2),r[g]=v,n[y]=y,k--,y=g;this._hullStart=e[c]=y,n[y]=e[m]=c,n[c]=m,i[this._hashKey(s,l)]=c,i[this._hashKey(t[2*y],t[2*y+1])]=y}this.hull=new Uint32Array(k);for(let t=0,e=this._hullStart;t<k;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],u=t-t%3;if(o=u+(t+2)%3,-1===a){if(0===i)break;t=Po[--i];continue}const c=a-a%3,s=u+(t+1)%3,l=c+(a+2)%3,f=e[o],h=e[t],d=e[s],p=e[l];if(Oo(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=f;const r=n[l];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===l){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,l);const u=c+(a+1)%3;i<Po.length&&(Po[i++]=u)}else{if(0===i)break;t=Po[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Io(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Do(t,e,n,r,i,o){const a=(r-e)*(i-t),u=(n-t)*(o-e);return Math.abs(a-u)>=3.3306690738754716e-16*Math.abs(a+u)?a-u:0}function Ro(t,e,n,r,i,o){return(Do(i,o,t,e,n,r)||Do(t,e,n,r,i,o)||Do(n,r,i,o,t,e))<0}function Oo(t,e,n,r,i,o,a,u){const c=t-a,s=e-u,l=n-a,f=r-u,h=i-a,d=o-u,p=l*l+f*f,g=h*h+d*d;return c*(f*g-p*d)-s*(l*g-p*h)+(c*c+s*s)*(l*d-f*h)<0}function Bo(t,e,n,r,i,o){const a=n-t,u=r-e,c=i-t,s=o-e,l=a*a+u*u,f=c*c+s*s,h=.5/(a*s-u*c),d=(s*l-u*f)*h,p=(a*f-c*l)*h;return d*d+p*p}function zo(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;Lo(t,n+r>>1,i),e[t[n]]>e[t[r]]&&Lo(t,n,r),e[t[i]]>e[t[r]]&&Lo(t,i,r),e[t[n]]>e[t[i]]&&Lo(t,n,i);const a=t[i],u=e[a];for(;;){do{i++}while(e[t[i]]<u);do{o--}while(e[t[o]]>u);if(o<i)break;Lo(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(zo(t,e,i,r),zo(t,e,n,o-1)):(zo(t,e,n,o-1),zo(t,e,i,r))}}function Lo(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}const Fo=1e-6;class qo{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Fo||Math.abs(this._y1-i)>Fo)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Uo{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class jo{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,o=0,a=0,u=n.length;o<u;o+=3,a+=2){const u=2*n[o],c=2*n[o+1],s=2*n[o+2],l=t[u],f=t[u+1],h=t[c],d=t[c+1],p=t[s],g=t[s+1],y=h-l,v=d-f,m=p-l,b=g-f,_=y*y+v*v,w=m*m+b*b,x=2*(y*b-v*m);if(x)if(Math.abs(x)<1e-8)e=(l+p)/2,r=(f+g)/2;else{const t=1/x;e=l+(b*_-v*w)*t,r=f+(y*w-m*_)*t}else e=(l+p)/2-1e8*b,r=(f+g)/2+1e8*m;i[a]=e,i[a+1]=r}let o,a,u,c=e[e.length-1],s=4*c,l=t[2*c],f=t[2*c+1];r.fill(0);for(let n=0;n<e.length;++n)o=s,a=l,u=f,s=4*(c=e[n]),l=t[2*c],f=t[2*c+1],r[o+2]=r[s]=u-f,r[o+3]=r[s+1]=l-a}render(t){const e=null==t?t=new qo:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),u=o[i],c=o[i+1],s=o[a],l=o[a+1];this._renderSegment(u,c,s,l,t)}let u,c=i[i.length-1];for(let e=0;e<i.length;++e){u=c,c=i[e];const n=2*Math.floor(r[c]/3),s=o[n],l=o[n+1],f=4*u,h=this._project(s,l,a[f+2],a[f+3]);h&&this._renderSegment(s,l,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new qo:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new qo:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Uo;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),u=this._regioncode(n,r);0===a&&0===u?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let u=o;do{const n=Math.floor(u/3);if(a.push(e[2*n],e[2*n+1]),i[u=u%3==2?u-2:u+1]!==t)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,u,c=null,s=e[n-2],l=e[n-1],f=this._regioncode(s,l);for(let h=0;h<n;h+=2)if(r=s,i=l,s=e[h],l=e[h+1],o=f,f=this._regioncode(s,l),0===o&&0===f)a=u,u=0,c?c.push(s,l):c=[s,l];else{let e,n,h,d,p;if(0===o){if(null===(e=this._clipSegment(r,i,s,l,o,f)))continue;[n,h,d,p]=e}else{if(null===(e=this._clipSegment(s,l,r,i,f,o)))continue;[d,p,n,h]=e,a=u,u=this._edgecode(n,h),a&&u&&this._edge(t,a,u,c,c.length),c?c.push(n,h):c=[n,h]}a=u,u=this._edgecode(d,p),a&&u&&this._edge(t,a,u,c,c.length),c?c.push(d,p):c=[d,p]}if(c)a=u,u=this._edgecode(c[0],c[1]),a&&u&&this._edge(t,a,u,c,c.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return c}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,u,c=i||o;8&c?(a=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&c?(a=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&c?(u=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=u,i=this._regioncode(t,e)):(n=a,r=u,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,u=Array.from(e);if((a=this._project(u[0],u[1],n,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(let e,n=0,r=u.length,i=this._edgecode(u[r-2],u[r-1]);n<r;n+=2)e=i,i=this._edgecode(u[n],u[n+1]),e&&i&&(n=this._edge(t,e,i,u,n),r=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,o,a,u=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<u&&(a=this.ymin,o=t+(u=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<u&&(a=this.ymax,o=t+(u=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<u&&(o=this.xmax,a=e+(u=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<u&&(o=this.xmin,a=e+(u=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const Go=2*Math.PI,Ho=Math.pow;function Vo(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Yo{static from(t,e=function(t){return t[0]},n=function(t){return t[1]},r){return new Yo("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new No(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(t,e)=>e).sort((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]);const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=Vo(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new No(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new jo(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const u=e[t];if(-1===u)return;let c=u,s=-1;do{if(yield s=o[c],o[c=c%3==2?c-2:c+1]!==t)return;if(-1===(c=i[c])){const e=n[(r[t]+1)%n.length];return void(e!==s&&(yield e))}}while(c!==u)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:c}=this;if(-1===r[t]||!c.length)return(t+1)%(c.length>>1);let s=t,l=Ho(e-c[2*t],2)+Ho(n-c[2*t+1],2);const f=r[t];let h=f;do{let r=u[h];const f=Ho(e-c[2*r],2)+Ho(n-c[2*r+1],2);if(f<l&&(l=f,s=r),u[h=h%3==2?h-2:h+1]!==t)break;if(-1===(h=a[h])){if((h=i[(o[t]+1)%i.length])!==r&&Ho(e-c[2*h],2)+Ho(n-c[2*h+1],2)<l)return h;break}}while(h!==f);return s}render(t){const e=null==t?t=new qo:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],u=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[u],n[u+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new qo:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,Go)}return n&&n.value()}renderHull(t){const e=null==t?t=new qo:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Uo;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new qo:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[u],r[u+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Uo;return this.renderTriangle(t,e),e.value()}}var Wo={},Xo={};function Qo(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function $o(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function Zo(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ko(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,u=0,c=o<=0,s=!1;function l(){if(c)return Xo;if(s)return s=!1,Wo;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?c=!0:10===(r=t.charCodeAt(a++))?s=!0:13===r&&(s=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))s=!0;else if(13===r)s=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==Xo;){for(var f=[];r!==Wo&&r!==Xo;)f.push(r),r=l();e&&null==(f=e(f,u++))||i.push(f)}return i}function i(e,n){return e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?function(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Zo(-t,6):t>9999?"+"+Zo(t,6):Zo(t,4)}(t.getUTCFullYear())+"-"+Zo(t.getUTCMonth()+1,2)+"-"+Zo(t.getUTCDate(),2)+(i?"T"+Zo(e,2)+":"+Zo(n,2)+":"+Zo(r,2)+"."+Zo(i,3)+"Z":r?"T"+Zo(e,2)+":"+Zo(n,2)+":"+Zo(r,2)+"Z":n||e?"T"+Zo(e,2)+":"+Zo(n,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Qo(t);return function(r,i){return e(n(r),i,t)}}(t,e):Qo(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=$o(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=$o(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var Jo=Ko(","),ta=Jo.parse,ea=Jo.parseRows,na=Jo.format,ra=Jo.formatBody,ia=Jo.formatRows,oa=Jo.formatRow,aa=Jo.formatValue,ua=Ko("\t"),ca=ua.parse,sa=ua.parseRows,la=ua.format,fa=ua.formatBody,ha=ua.formatRows,da=ua.formatRow,pa=ua.formatValue;const ga=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function ya(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function va(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function ma(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ba(t,e){return fetch(t,e).then(ma)}function _a(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),ba(e,n).then(function(e){return t(e,r)})}}var wa=_a(ta),xa=_a(ca);function Ma(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function ka(t){return(e,n)=>ba(e,n).then(e=>(new DOMParser).parseFromString(e,t))}var Aa=ka("application/xml"),Sa=ka("text/html"),Ta=ka("image/svg+xml");function Ea(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,u,c,s,l,f,h,d=t._root,p={data:r},g=t._x0,y=t._y0,v=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((s=e>=(o=(g+v)/2))?g=o:v=o,(l=n>=(a=(y+m)/2))?y=a:m=a,i=d,!(d=d[f=l<<1|s]))return i[f]=p,t;if(u=+t._x.call(null,d.data),c=+t._y.call(null,d.data),e===u&&n===c)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(s=e>=(o=(g+v)/2))?g=o:v=o,(l=n>=(a=(y+m)/2))?y=a:m=a}while((f=l<<1|s)==(h=(c>=a)<<1|u>=o));return i[h]=d,i[f]=p,t}function Ca(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Pa(t){return t[0]}function Na(t){return t[1]}function Ia(t,e,n){var r=new Da(null==e?Pa:e,null==n?Na:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Da(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ra(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Oa=Ia.prototype=Da.prototype;function Ba(t){return function(){return t}}function za(t){return 1e-6*(t()-.5)}function La(t){return t.x+t.vx}function Fa(t){return t.y+t.vy}function qa(t){return t.index}function Ua(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}Oa.copy=function(){var t,e,n=new Da(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ra(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Ra(e));return n},Oa.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Ea(this.cover(e,n),e,n,t)},Oa.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),u=new Array(o),c=1/0,s=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,u[n]=i,r<c&&(c=r),r>l&&(l=r),i<s&&(s=i),i>f&&(f=i));if(c>l||s>f)return this;for(this.cover(c,s).cover(l,f),n=0;n<o;++n)Ea(this,a[n],u[n],t[n]);return this},Oa.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,u,c=i-n||1,s=this._root;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=s,s=a,c*=2,u){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Oa.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Oa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Oa.find=function(t,e,n){var r,i,o,a,u,c,s,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Ca(g,l,f,h,d)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,d=e+n,n*=n);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>d||(a=c.x1)<l||(u=c.y1)<f))if(g.length){var y=(i+a)/2,v=(o+u)/2;p.push(new Ca(g[3],y,v,a,u),new Ca(g[2],i,v,y,u),new Ca(g[1],y,o,a,v),new Ca(g[0],i,o,y,v)),(s=(e>=v)<<1|t>=y)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=c)}else{var m=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),_=m*m+b*b;if(_<n){var w=Math.sqrt(n=_);l=t-w,f=e-w,h=t+w,d=e+w,r=g.data}}return r},Oa.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,u,c,s,l,f,h,d=this._root,p=this._x0,g=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((s=o>=(u=(p+y)/2))?p=u:y=u,(l=a>=(c=(g+v)/2))?g=c:v=c,e=d,!(d=d[f=l<<1|s]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},Oa.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Oa.root=function(){return this._root},Oa.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Oa.visit=function(t){var e,n,r,i,o,a,u=[],c=this._root;for(c&&u.push(new Ca(c,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(c=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&c.length){var s=(r+o)/2,l=(i+a)/2;(n=c[3])&&u.push(new Ca(n,s,l,o,a)),(n=c[2])&&u.push(new Ca(n,r,l,s,a)),(n=c[1])&&u.push(new Ca(n,s,i,o,l)),(n=c[0])&&u.push(new Ca(n,r,i,s,l))}return this},Oa.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ca(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,c=e.x1,s=e.y1,l=(a+c)/2,f=(u+s)/2;(o=i[0])&&n.push(new Ca(o,a,u,l,f)),(o=i[1])&&n.push(new Ca(o,l,u,c,f)),(o=i[2])&&n.push(new Ca(o,a,f,l,s)),(o=i[3])&&n.push(new Ca(o,l,f,c,s))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Oa.x=function(t){return arguments.length?(this._x=t,this):this._x},Oa.y=function(t){return arguments.length?(this._y=t,this):this._y};const ja=4294967296;function Ga(t){return t.x}function Ha(t){return t.y}var Va=Math.PI*(3-Math.sqrt(5));function Ya(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wa(t){return(t=Ya(Math.abs(t)))?t[1]:NaN}var Xa,Qa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $a(t){if(!(e=Qa.exec(t)))throw new Error("invalid format: "+t);var e;return new Za({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Za(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ka(t,e){var n=Ya(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}$a.prototype=Za.prototype,Za.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ja={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ka(100*t,e),r:Ka,s:function(t,e){var n=Ya(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Xa=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ya(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tu(t){return t}var eu,nu=Array.prototype.map,ru=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function iu(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?tu:(e=nu.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(t.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?tu:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(nu.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=$a(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,v=t.trim,m=t.type;"n"===m?(g=!0,m="g"):Ja[m]||(void 0===y&&(y=12),v=!0,m="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_="$"===h?o:/[%p]/.test(m)?c:"",w=Ja[m],x=/[defgprs%]/.test(m);function M(t){var i,o,c,h=b,M=_;if("c"===m)M=w(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),y),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:s:"-"===f||"("===f?"":f)+h,M=("s"===m?ru[8+Xa/3]:"")+M+(k&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var A=h.length+t.length+M.length,S=A<p?new Array(p-A+1).join(e):"";switch(g&&d&&(t=r(S+t,S.length?p-M.length:1/0),S=""),n){case"<":t=h+t+M+S;break;case"=":t=h+S+t+M;break;case"^":t=S.slice(0,A=S.length>>1)+h+t+M+S.slice(A);break;default:t=S+h+t+M}return u(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=$a(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Wa(e)/3))),i=Math.pow(10,-r),o=ru[8+r/3];return function(t){return n(i*t)+o}}}}function ou(e){return eu=iu(e),t.format=eu.format,t.formatPrefix=eu.formatPrefix,eu}function au(t){return Math.max(0,-Wa(Math.abs(t)))}function uu(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wa(e)/3)))-Wa(Math.abs(t)))}function cu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wa(e)-Wa(t))+1}ou({thousands:",",grouping:[3],currency:["$",""]});var su=1e-6,lu=1e-12,fu=Math.PI,hu=fu/2,du=fu/4,pu=2*fu,gu=180/fu,yu=fu/180,vu=Math.abs,mu=Math.atan,bu=Math.atan2,_u=Math.cos,wu=Math.ceil,xu=Math.exp,Mu=Math.hypot,ku=Math.log,Au=Math.pow,Su=Math.sin,Tu=Math.sign||function(t){return t>0?1:t<0?-1:0},Eu=Math.sqrt,Cu=Math.tan;function Pu(t){return t>1?0:t<-1?fu:Math.acos(t)}function Nu(t){return t>1?hu:t<-1?-hu:Math.asin(t)}function Iu(t){return(t=Su(t/2))*t}function Du(){}function Ru(t,e){t&&Bu.hasOwnProperty(t.type)&&Bu[t.type](t,e)}var Ou={Feature:function(t,e){Ru(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ru(n[r].geometry,e)}},Bu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){zu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)zu(n[r],e,0)},Polygon:function(t,e){Lu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Lu(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ru(n[r],e)}};function zu(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Lu(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)zu(t[n],e,1);e.polygonEnd()}function Fu(t,e){t&&Ou.hasOwnProperty(t.type)?Ou[t.type](t,e):Ru(t,e)}var qu,Uu,ju,Gu,Hu,Vu,Yu,Wu,Xu,Qu,$u,Zu,Ku,Ju,tc,ec,nc=new g,rc=new g,ic={point:Du,lineStart:Du,lineEnd:Du,polygonStart:function(){nc=new g,ic.lineStart=oc,ic.lineEnd=ac},polygonEnd:function(){var t=+nc;rc.add(t<0?pu+t:t),this.lineStart=this.lineEnd=this.point=Du},sphere:function(){rc.add(pu)}};function oc(){ic.point=uc}function ac(){cc(qu,Uu)}function uc(t,e){ic.point=cc,qu=t,Uu=e,ju=t*=yu,Gu=_u(e=(e*=yu)/2+du),Hu=Su(e)}function cc(t,e){var n=(t*=yu)-ju,r=n>=0?1:-1,i=r*n,o=_u(e=(e*=yu)/2+du),a=Su(e),u=Hu*a,c=Gu*o+u*_u(i),s=u*r*Su(i);nc.add(bu(s,c)),ju=t,Gu=o,Hu=a}function sc(t){return[bu(t[1],t[0]),Nu(t[2])]}function lc(t){var e=t[0],n=t[1],r=_u(n);return[r*_u(e),r*Su(e),Su(n)]}function fc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function hc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function dc(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function pc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function gc(t){var e=Eu(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var yc,vc,mc,bc,_c,wc,xc,Mc,kc,Ac,Sc,Tc,Ec,Cc,Pc,Nc,Ic={point:Dc,lineStart:Oc,lineEnd:Bc,polygonStart:function(){Ic.point=zc,Ic.lineStart=Lc,Ic.lineEnd=Fc,Ju=new g,ic.polygonStart()},polygonEnd:function(){ic.polygonEnd(),Ic.point=Dc,Ic.lineStart=Oc,Ic.lineEnd=Bc,nc<0?(Vu=-(Wu=180),Yu=-(Xu=90)):Ju>su?Xu=90:Ju<-1e-6&&(Yu=-90),ec[0]=Vu,ec[1]=Wu},sphere:function(){Vu=-(Wu=180),Yu=-(Xu=90)}};function Dc(t,e){tc.push(ec=[Vu=t,Wu=t]),e<Yu&&(Yu=e),e>Xu&&(Xu=e)}function Rc(t,e){var n=lc([t*yu,e*yu]);if(Ku){var r=hc(Ku,n),i=hc([r[1],-r[0],0],r);gc(i),i=sc(i);var o,a=t-Qu,u=a>0?1:-1,c=i[0]*gu*u,s=vu(a)>180;s^(u*Qu<c&&c<u*t)?(o=i[1]*gu)>Xu&&(Xu=o):s^(u*Qu<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*gu)<Yu&&(Yu=o):(e<Yu&&(Yu=e),e>Xu&&(Xu=e)),s?t<Qu?qc(Vu,t)>qc(Vu,Wu)&&(Wu=t):qc(t,Wu)>qc(Vu,Wu)&&(Vu=t):Wu>=Vu?(t<Vu&&(Vu=t),t>Wu&&(Wu=t)):t>Qu?qc(Vu,t)>qc(Vu,Wu)&&(Wu=t):qc(t,Wu)>qc(Vu,Wu)&&(Vu=t)}else tc.push(ec=[Vu=t,Wu=t]);e<Yu&&(Yu=e),e>Xu&&(Xu=e),Ku=n,Qu=t}function Oc(){Ic.point=Rc}function Bc(){ec[0]=Vu,ec[1]=Wu,Ic.point=Dc,Ku=null}function zc(t,e){if(Ku){var n=t-Qu;Ju.add(vu(n)>180?n+(n>0?360:-360):n)}else $u=t,Zu=e;ic.point(t,e),Rc(t,e)}function Lc(){ic.lineStart()}function Fc(){zc($u,Zu),ic.lineEnd(),vu(Ju)>su&&(Vu=-(Wu=180)),ec[0]=Vu,ec[1]=Wu,Ku=null}function qc(t,e){return(e-=t)<0?e+360:e}function Uc(t,e){return t[0]-e[0]}function jc(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Gc={sphere:Du,point:Hc,lineStart:Yc,lineEnd:Qc,polygonStart:function(){Gc.lineStart=$c,Gc.lineEnd=Zc},polygonEnd:function(){Gc.lineStart=Yc,Gc.lineEnd=Qc}};function Hc(t,e){t*=yu;var n=_u(e*=yu);Vc(n*_u(t),n*Su(t),Su(e))}function Vc(t,e,n){mc+=(t-mc)/++yc,bc+=(e-bc)/yc,_c+=(n-_c)/yc}function Yc(){Gc.point=Wc}function Wc(t,e){t*=yu;var n=_u(e*=yu);Cc=n*_u(t),Pc=n*Su(t),Nc=Su(e),Gc.point=Xc,Vc(Cc,Pc,Nc)}function Xc(t,e){t*=yu;var n=_u(e*=yu),r=n*_u(t),i=n*Su(t),o=Su(e),a=bu(Eu((a=Pc*o-Nc*i)*a+(a=Nc*r-Cc*o)*a+(a=Cc*i-Pc*r)*a),Cc*r+Pc*i+Nc*o);vc+=a,wc+=a*(Cc+(Cc=r)),xc+=a*(Pc+(Pc=i)),Mc+=a*(Nc+(Nc=o)),Vc(Cc,Pc,Nc)}function Qc(){Gc.point=Hc}function $c(){Gc.point=Kc}function Zc(){Jc(Tc,Ec),Gc.point=Hc}function Kc(t,e){Tc=t,Ec=e,t*=yu,e*=yu,Gc.point=Jc;var n=_u(e);Cc=n*_u(t),Pc=n*Su(t),Nc=Su(e),Vc(Cc,Pc,Nc)}function Jc(t,e){t*=yu;var n=_u(e*=yu),r=n*_u(t),i=n*Su(t),o=Su(e),a=Pc*o-Nc*i,u=Nc*r-Cc*o,c=Cc*i-Pc*r,s=Mu(a,u,c),l=Nu(s),f=s&&-l/s;kc.add(f*a),Ac.add(f*u),Sc.add(f*c),vc+=l,wc+=l*(Cc+(Cc=r)),xc+=l*(Pc+(Pc=i)),Mc+=l*(Nc+(Nc=o)),Vc(Cc,Pc,Nc)}function ts(t){return function(){return t}}function es(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function ns(t,e){return[vu(t)>fu?t+Math.round(-t/pu)*pu:t,e]}function rs(t,e,n){return(t%=pu)?e||n?es(os(t),as(e,n)):os(t):e||n?as(e,n):ns}function is(t){return function(e,n){return[(e+=t)>fu?e-pu:e<-fu?e+pu:e,n]}}function os(t){var e=is(t);return e.invert=is(-t),e}function as(t,e){var n=_u(t),r=Su(t),i=_u(e),o=Su(e);function a(t,e){var a=_u(e),u=_u(t)*a,c=Su(t)*a,s=Su(e),l=s*n+u*r;return[bu(c*i-l*o,u*n-s*r),Nu(l*i+c*o)]}return a.invert=function(t,e){var a=_u(e),u=_u(t)*a,c=Su(t)*a,s=Su(e),l=s*i-c*o;return[bu(c*i+s*o,u*n+l*r),Nu(l*n-u*r)]},a}function us(t){function e(e){return(e=t(e[0]*yu,e[1]*yu))[0]*=gu,e[1]*=gu,e}return t=rs(t[0]*yu,t[1]*yu,t.length>2?t[2]*yu:0),e.invert=function(e){return(e=t.invert(e[0]*yu,e[1]*yu))[0]*=gu,e[1]*=gu,e},e}function cs(t,e,n,r,i,o){if(n){var a=_u(e),u=Su(e),c=r*n;null==i?(i=e+r*pu,o=e-c/2):(i=ss(a,i),o=ss(a,o),(r>0?i<o:i>o)&&(i+=r*pu));for(var s,l=i;r>0?l>o:l<o;l-=c)s=sc([a,-u*_u(l),-u*Su(l)]),t.point(s[0],s[1])}}function ss(t,e){(e=lc(e))[0]-=t,gc(e);var n=Pu(-e[1]);return((-e[2]<0?-n:n)+pu-su)%pu}function ls(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Du,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function fs(t,e){return vu(t[0]-e[0])<su&&vu(t[1]-e[1])<su}function hs(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ds(t,e,n,r,i){var o,a,u=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(fs(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(n=new hs(r,t,null,!0)),c.push(n.o=new hs(r,null,n,!1)),u.push(n=new hs(a,t,null,!1)),c.push(n.o=new hs(a,null,n,!0))}}),u.length){for(c.sort(e),ps(u),ps(c),o=0,a=c.length;o<a;++o)c[o].e=n=!n;for(var s,l,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=s.length;o<a;++o)i.point((l=s[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((l=s[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function ps(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function gs(t){return vu(t[0])<=fu?t[0]:Tu(t[0])*((vu(t[0])+fu)%pu-fu)}function ys(t,e){var n=gs(e),r=e[1],i=Su(r),o=[Su(n),-_u(n),0],a=0,u=0,c=new g;1===i?r=hu+su:-1===i&&(r=-hu-su);for(var s=0,l=t.length;s<l;++s)if(h=(f=t[s]).length)for(var f,h,d=f[h-1],p=gs(d),y=d[1]/2+du,v=Su(y),m=_u(y),b=0;b<h;++b,p=w,v=M,m=k,d=_){var _=f[b],w=gs(_),x=_[1]/2+du,M=Su(x),k=_u(x),A=w-p,S=A>=0?1:-1,T=S*A,E=T>fu,C=v*M;if(c.add(bu(C*S*Su(T),m*k+C*_u(T))),a+=E?A+S*pu:A,E^p>=n^w>=n){var P=hc(lc(d),lc(_));gc(P);var N=hc(o,P);gc(N);var I=(E^A>=0?-1:1)*Nu(N[2]);(r>I||r===I&&(P[0]||P[1]))&&(u+=E^A>=0?1:-1)}}return(a<-1e-6||a<su&&c<-1e-12)^1&u}function vs(t,e,n,r){return function(i){var o,a,u,c=e(i),s=ls(),l=e(s),f=!1,h={point:d,lineStart:g,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=m,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=y,a=Y(a);var t=ys(o,r);a.length?(f||(i.polygonStart(),f=!0),ds(a,bs,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){c.point(t,e)}function g(){h.point=p,c.lineStart()}function y(){h.point=d,c.lineEnd()}function v(t,e){u.push([t,e]),l.point(t,e)}function m(){l.lineStart(),u=[]}function b(){v(u[0][0],u[0][1]),l.lineEnd();var t,e,n,r,c=l.clean(),h=s.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&c){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(ms))}return h}}function ms(t){return t.length>1}function bs(t,e){return((t=t.x)[0]<0?t[1]-hu-su:hu-t[1])-((e=e.x)[0]<0?e[1]-hu-su:hu-e[1])}ns.invert=ns;var _s=vs(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u=o>0?fu:-fu,c=vu(o-n);vu(c-fu)<su?(t.point(n,r=(r+a)/2>0?hu:-hu),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):i!==u&&c>=fu&&(vu(n-i)<su&&(n-=i*su),vu(o-u)<su&&(o-=u*su),r=function(t,e,n,r){var i,o,a=Su(t-n);return vu(a)>su?mu((Su(e)*(o=_u(r))*Su(n)-Su(r)*(i=_u(e))*Su(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=a),i=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*hu,r.point(-fu,i),r.point(0,i),r.point(fu,i),r.point(fu,0),r.point(fu,-i),r.point(0,-i),r.point(-fu,-i),r.point(-fu,0),r.point(-fu,i);else if(vu(t[0]-e[0])>su){var o=t[0]<e[0]?fu:-fu;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-fu,-hu]);function ws(t){var e=_u(t),n=6*yu,r=e>0,i=vu(e)>su;function o(t,n){return _u(t)*_u(n)>e}function a(t,n,r){var i=[1,0,0],o=hc(lc(t),lc(n)),a=fc(o,o),u=o[0],c=a-u*u;if(!c)return!r&&t;var s=e*a/c,l=-e*u/c,f=hc(i,o),h=pc(i,s);dc(h,pc(o,l));var d=f,p=fc(h,d),g=fc(d,d),y=p*p-g*(fc(h,h)-1);if(!(y<0)){var v=Eu(y),m=pc(d,(-p-v)/g);if(dc(m,h),m=sc(m),!r)return m;var b,_=t[0],w=n[0],x=t[1],M=n[1];w<_&&(b=_,_=w,w=b);var k=w-_,A=vu(k-fu)<su;if(!A&&M<x&&(b=x,x=M,M=b),A||k<su?A?x+M>0^m[1]<(vu(m[0]-_)<su?x:M):x<=m[1]&&m[1]<=M:k>fu^(_<=m[0]&&m[0]<=w)){var S=pc(d,(-p+v)/g);return dc(S,h),[m,sc(S)]}}}function u(e,n){var i=r?t:fu-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return vs(o,function(t){var e,n,c,s,l;return{lineStart:function(){s=c=!1,l=1},point:function(f,h){var d,p=[f,h],g=o(f,h),y=r?g?0:u(f,h):g?u(f+(f<0?fu:-fu),h):0;if(!e&&(s=c=g)&&t.lineStart(),g!==c&&(!(d=a(e,p))||fs(e,d)||fs(p,d))&&(p[2]=1),g!==c)l=0,g?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^g){var v;y&n||!(v=a(p,e,!0))||(l=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!g||e&&fs(e,p)||t.point(p[0],p[1]),e=p,c=g,n=y},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return l|(s&&c)<<1}}},function(e,r,i,o){cs(o,t,n,i,e,r)},r?[0,-t]:[-fu,t-fu])}var xs,Ms,ks,As,Ss=1e9,Ts=-Ss;function Es(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,u,s){var l=0,f=0;if(null==i||(l=a(i,u))!==(f=a(o,u))||c(i,o)<0^u>0)do{s.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+u+4)%4)!==f);else s.point(o[0],o[1])}function a(r,i){return vu(r[0]-t)<su?i>0?0:3:vu(r[0]-n)<su?i>0?2:1:vu(r[1]-e)<su?i>0?1:0:i>0?3:2}function u(t,e){return c(t.x,e.x)}function c(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var c,s,l,f,h,d,p,g,y,v,m,b=a,_=ls(),w={point:x,lineStart:function(){w.point=M,s&&s.push(l=[]),v=!0,y=!1,p=g=NaN},lineEnd:function(){c&&(M(f,h),d&&y&&_.rejoin(),c.push(_.result())),w.point=x,y&&b.lineEnd()},polygonStart:function(){b=_,c=[],s=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=s.length;n<i;++n)for(var o,a,u=s[n],c=1,l=u.length,f=u[0],h=f[0],d=f[1];c<l;++c)o=h,a=d,h=(f=u[c])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=m&&e,i=(c=Y(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&ds(c,u,e,o,a),a.polygonEnd()),b=a,c=s=l=null}};function x(t,e){i(t,e)&&b.point(t,e)}function M(o,a){var u=i(o,a);if(s&&l.push([o,a]),v)f=o,h=a,d=u,v=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&y)b.point(o,a);else{var c=[p=Math.max(Ts,Math.min(Ss,p)),g=Math.max(Ts,Math.min(Ss,g))],_=[o=Math.max(Ts,Math.min(Ss,o)),a=Math.max(Ts,Math.min(Ss,a))];!function(t,e,n,r,i,o){var a,u=t[0],c=t[1],s=0,l=1,f=e[0]-u,h=e[1]-c;if(a=n-u,f||!(a>0)){if(a/=f,f<0){if(a<s)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>s&&(s=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>s&&(s=a)}else if(f>0){if(a<s)return;a<l&&(l=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>s&&(s=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<l&&(l=a)}return s>0&&(t[0]=u+s*f,t[1]=c+s*h),l<1&&(e[0]=u+l*f,e[1]=c+l*h),!0}}}}}(c,_,t,e,n,r)?u&&(b.lineStart(),b.point(o,a),m=!1):(y||(b.lineStart(),b.point(c[0],c[1])),b.point(_[0],_[1]),u||b.lineEnd(),m=!1)}p=o,g=a,y=u}return w}}var Cs={sphere:Du,point:Du,lineStart:function(){Cs.point=Ns,Cs.lineEnd=Ps},lineEnd:Du,polygonStart:Du,polygonEnd:Du};function Ps(){Cs.point=Cs.lineEnd=Du}function Ns(t,e){Ms=t*=yu,ks=Su(e*=yu),As=_u(e),Cs.point=Is}function Is(t,e){t*=yu;var n=Su(e*=yu),r=_u(e),i=vu(t-Ms),o=_u(i),a=r*Su(i),u=As*n-ks*r*o,c=ks*n+As*r*o;xs.add(bu(Eu(a*a+u*u),c)),Ms=t,ks=n,As=r}function Ds(t){return xs=new g,Fu(t,Cs),+xs}var Rs=[null,null],Os={type:"LineString",coordinates:Rs};function Bs(t,e){return Rs[0]=t,Rs[1]=e,Ds(Os)}var zs={Feature:function(t,e){return Fs(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Fs(n[r].geometry,e))return!0;return!1}},Ls={Sphere:function(){return!0},Point:function(t,e){return qs(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(qs(n[r],e))return!0;return!1},LineString:function(t,e){return Us(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Us(n[r],e))return!0;return!1},Polygon:function(t,e){return js(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(js(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Fs(n[r],e))return!0;return!1}};function Fs(t,e){return!(!t||!Ls.hasOwnProperty(t.type))&&Ls[t.type](t,e)}function qs(t,e){return 0===Bs(t,e)}function Us(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Bs(t[o],e)))return!0;if(o>0&&(i=Bs(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<lu*i)return!0;n=r}return!1}function js(t,e){return!!ys(t.map(Gs),Hs(e))}function Gs(t){return(t=t.map(Hs)).pop(),t}function Hs(t){return[t[0]*yu,t[1]*yu]}function Vs(t,e,n){var r=X(t,e-su,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Ys(t,e,n){var r=X(t,e-su,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Ws(){var t,e,n,r,i,o,a,u,c,s,l,f,h=10,d=h,p=90,g=360,y=2.5;function v(){return{type:"MultiLineString",coordinates:m()}}function m(){return X(wu(r/p)*p,n,p).map(l).concat(X(wu(u/g)*g,a,g).map(f)).concat(X(wu(e/h)*h,t,h).filter(function(t){return vu(t%p)>su}).map(c)).concat(X(wu(o/d)*d,i,d).filter(function(t){return vu(t%g)>su}).map(s))}return v.lines=function(){return m().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(a).slice(1),l(n).reverse().slice(1),f(u).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),v.precision(y)):[[r,u],[n,a]]},v.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),v.precision(y)):[[e,o],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],v):[p,g]},v.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],v):[h,d]},v.precision=function(h){return arguments.length?(y=+h,c=Vs(o,i,90),s=Ys(e,t,y),l=Vs(u,a,90),f=Ys(r,n,y),v):y},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}var Xs,Qs,$s,Zs,Ks=t=>t,Js=new g,tl=new g,el={point:Du,lineStart:Du,lineEnd:Du,polygonStart:function(){el.lineStart=nl,el.lineEnd=ol},polygonEnd:function(){el.lineStart=el.lineEnd=el.point=Du,Js.add(vu(tl)),tl=new g},result:function(){var t=Js/2;return Js=new g,t}};function nl(){el.point=rl}function rl(t,e){el.point=il,Xs=$s=t,Qs=Zs=e}function il(t,e){tl.add(Zs*t-$s*e),$s=t,Zs=e}function ol(){il(Xs,Qs)}var al,ul,cl,sl,ll=1/0,fl=ll,hl=-ll,dl=hl,pl={point:function(t,e){t<ll&&(ll=t),t>hl&&(hl=t),e<fl&&(fl=e),e>dl&&(dl=e)},lineStart:Du,lineEnd:Du,polygonStart:Du,polygonEnd:Du,result:function(){var t=[[ll,fl],[hl,dl]];return hl=dl=-(fl=ll=1/0),t}},gl=0,yl=0,vl=0,ml=0,bl=0,_l=0,wl=0,xl=0,Ml=0,kl={point:Al,lineStart:Sl,lineEnd:Cl,polygonStart:function(){kl.lineStart=Pl,kl.lineEnd=Nl},polygonEnd:function(){kl.point=Al,kl.lineStart=Sl,kl.lineEnd=Cl},result:function(){var t=Ml?[wl/Ml,xl/Ml]:_l?[ml/_l,bl/_l]:vl?[gl/vl,yl/vl]:[NaN,NaN];return gl=yl=vl=ml=bl=_l=wl=xl=Ml=0,t}};function Al(t,e){gl+=t,yl+=e,++vl}function Sl(){kl.point=Tl}function Tl(t,e){kl.point=El,Al(cl=t,sl=e)}function El(t,e){var n=t-cl,r=e-sl,i=Eu(n*n+r*r);ml+=i*(cl+t)/2,bl+=i*(sl+e)/2,_l+=i,Al(cl=t,sl=e)}function Cl(){kl.point=Al}function Pl(){kl.point=Il}function Nl(){Dl(al,ul)}function Il(t,e){kl.point=Dl,Al(al=cl=t,ul=sl=e)}function Dl(t,e){var n=t-cl,r=e-sl,i=Eu(n*n+r*r);ml+=i*(cl+t)/2,bl+=i*(sl+e)/2,_l+=i,wl+=(i=sl*t-cl*e)*(cl+t),xl+=i*(sl+e),Ml+=3*i,Al(cl=t,sl=e)}function Rl(t){this._context=t}Rl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,pu)}},result:Du};var Ol,Bl,zl,Ll,Fl,ql=new g,Ul={point:Du,lineStart:function(){Ul.point=jl},lineEnd:function(){Ol&&Gl(Bl,zl),Ul.point=Du},polygonStart:function(){Ol=!0},polygonEnd:function(){Ol=null},result:function(){var t=+ql;return ql=new g,t}};function jl(t,e){Ul.point=Gl,Bl=Ll=t,zl=Fl=e}function Gl(t,e){Ll-=t,Fl-=e,ql.add(Eu(Ll*Ll+Fl*Fl)),Ll=t,Fl=e}function Hl(){this._string=[]}function Vl(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Yl(t){return function(e){var n=new Wl;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Wl(){}function Xl(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Fu(n,t.stream(pl)),e(pl.result()),null!=r&&t.clipExtent(r),t}function Ql(t,e,n){return Xl(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,u])},n)}function $l(t,e,n){return Ql(t,[[0,0],e],n)}function Zl(t,e,n){return Xl(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}function Kl(t,e,n){return Xl(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}Hl.prototype={_radius:4.5,_circle:Vl(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Vl(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Wl.prototype={constructor:Wl,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Jl=_u(30*yu);function tf(t,e){return+e?function(t,e){function n(r,i,o,a,u,c,s,l,f,h,d,p,g,y){var v=s-r,m=l-i,b=v*v+m*m;if(b>4*e&&g--){var _=a+h,w=u+d,x=c+p,M=Eu(_*_+w*w+x*x),k=Nu(x/=M),A=vu(vu(x)-1)<su||vu(o-f)<su?(o+f)/2:bu(w,_),S=t(A,k),T=S[0],E=S[1],C=T-r,P=E-i,N=m*C-v*P;(N*N/b>e||vu((v*C+m*P)/b-.5)>.3||a*h+u*d+c*p<Jl)&&(n(r,i,o,a,u,c,T,E,A,_/=M,w/=M,x,g,y),y.point(T,E),n(T,E,A,_,w,x,s,l,f,h,d,p,g,y))}}return function(e){var r,i,o,a,u,c,s,l,f,h,d,p,g={point:y,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){l=NaN,g.point=m,e.lineStart()}function m(r,i){var o=lc([r,i]),a=t(r,i);n(l,f,s,h,d,p,l=a[0],f=a[1],s=r,h=o[0],d=o[1],p=o[2],16,e),e.point(l,f)}function b(){g.point=y,e.lineEnd()}function _(){v(),g.point=w,g.lineEnd=x}function w(t,e){m(r=t,e),i=l,o=f,a=h,u=d,c=p,g.point=m}function x(){n(l,f,s,h,d,p,i,o,r,a,u,c,16,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return Yl({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var ef=Yl({point:function(t,e){this.stream.point(t*yu,e*yu)}});function nf(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=_u(o),u=Su(o),c=a*t,s=u*t,l=a/t,f=u/t,h=(u*n-a*e)/t,d=(u*e+a*n)/t;function p(t,o){return[c*(t*=r)-s*(o*=i)+e,n-s*t-c*o]}return p.invert=function(t,e){return[r*(l*t-f*e+h),i*(d-f*t-l*e)]},p}function rf(t){return of(function(){return t})()}function of(t){var e,n,r,i,o,a,u,c,s,l,f=150,h=480,d=250,p=0,g=0,y=0,v=0,m=0,b=0,_=1,w=1,x=null,M=_s,k=null,A=Ks,S=.5;function T(t){return c(t[0]*yu,t[1]*yu)}function E(t){return(t=c.invert(t[0],t[1]))&&[t[0]*gu,t[1]*gu]}function C(){var t=nf(f,0,0,_,w,b).apply(null,e(p,g)),r=nf(f,h-t[0],d-t[1],_,w,b);return n=rs(y,v,m),u=es(e,r),c=es(n,u),a=tf(u,S),P()}function P(){return s=l=null,T}return T.stream=function(t){return s&&l===t?s:s=ef(function(t){return Yl({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(M(a(A(l=t)))))},T.preclip=function(t){return arguments.length?(M=t,x=void 0,P()):M},T.postclip=function(t){return arguments.length?(A=t,k=r=i=o=null,P()):A},T.clipAngle=function(t){return arguments.length?(M=+t?ws(x=t*yu):(x=null,_s),P()):x*gu},T.clipExtent=function(t){return arguments.length?(A=null==t?(k=r=i=o=null,Ks):Es(k=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),P()):null==k?null:[[k,r],[i,o]]},T.scale=function(t){return arguments.length?(f=+t,C()):f},T.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],C()):[h,d]},T.center=function(t){return arguments.length?(p=t[0]%360*yu,g=t[1]%360*yu,C()):[p*gu,g*gu]},T.rotate=function(t){return arguments.length?(y=t[0]%360*yu,v=t[1]%360*yu,m=t.length>2?t[2]%360*yu:0,C()):[y*gu,v*gu,m*gu]},T.angle=function(t){return arguments.length?(b=t%360*yu,C()):b*gu},T.reflectX=function(t){return arguments.length?(_=t?-1:1,C()):_<0},T.reflectY=function(t){return arguments.length?(w=t?-1:1,C()):w<0},T.precision=function(t){return arguments.length?(a=tf(u,S=t*t),P()):Eu(S)},T.fitExtent=function(t,e){return Ql(T,t,e)},T.fitSize=function(t,e){return $l(T,t,e)},T.fitWidth=function(t,e){return Zl(T,t,e)},T.fitHeight=function(t,e){return Kl(T,t,e)},function(){return e=t.apply(this,arguments),T.invert=e.invert&&E,C()}}function af(t){var e=0,n=fu/3,r=of(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*yu,n=t[1]*yu):[e*gu,n*gu]},i}function uf(t,e){var n=Su(t),r=(n+Su(e))/2;if(vu(r)<su)return function(t){var e=_u(t);function n(t,n){return[t*e,Su(n)/e]}return n.invert=function(t,n){return[t/e,Nu(n*e)]},n}(t);var i=1+n*(2*r-n),o=Eu(i)/r;function a(t,e){var n=Eu(i-2*r*Su(e))/r;return[n*Su(t*=r),o-n*_u(t)]}return a.invert=function(t,e){var n=o-e,a=bu(t,vu(n))*Tu(n);return n*r<0&&(a-=fu*Tu(t)*Tu(n)),[a/r,Nu((i-(t*t+n*n)*r*r)/(2*r))]},a}function cf(){return af(uf).scale(155.424).center([0,33.6442])}function sf(){return cf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function lf(t){return function(e,n){var r=_u(e),i=_u(n),o=t(r*i);return o===1/0?[2,0]:[o*i*Su(e),o*Su(n)]}}function ff(t){return function(e,n){var r=Eu(e*e+n*n),i=t(r),o=Su(i),a=_u(i);return[bu(e*o,r*a),Nu(r&&n*o/r)]}}var hf=lf(function(t){return Eu(2/(1+t))});hf.invert=ff(function(t){return 2*Nu(t/2)});var df=lf(function(t){return(t=Pu(t))&&t/Su(t)});function pf(t,e){return[t,ku(Cu((hu+e)/2))]}function gf(t){var e,n,r,i=rf(t),o=i.center,a=i.scale,u=i.translate,c=i.clipExtent,s=null;function l(){var o=fu*a(),u=i(us(i.rotate()).invert([0,0]));return c(null==s?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===pf?[[Math.max(u[0]-o,s),e],[Math.min(u[0]+o,n),r]]:[[s,Math.max(u[1]-o,e)],[n,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(u(t),l()):u()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?s=e=n=r=null:(s=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==s?null:[[s,e],[n,r]]},l()}function yf(t){return Cu((hu+t)/2)}function vf(t,e){var n=_u(t),r=t===e?Su(t):ku(n/_u(e))/ku(yf(e)/yf(t)),i=n*Au(yf(t),r)/r;if(!r)return pf;function o(t,e){i>0?e<-hu+su&&(e=-hu+su):e>hu-su&&(e=hu-su);var n=i/Au(yf(e),r);return[n*Su(r*t),i-n*_u(r*t)]}return o.invert=function(t,e){var n=i-e,o=Tu(r)*Eu(t*t+n*n),a=bu(t,vu(n))*Tu(n);return n*r<0&&(a-=fu*Tu(t)*Tu(n)),[a/r,2*mu(Au(i/o,1/r))-hu]},o}function mf(t,e){return[t,e]}function bf(t,e){var n=_u(t),r=t===e?Su(t):(n-_u(e))/(e-t),i=n/r+t;if(vu(r)<su)return mf;function o(t,e){var n=i-e,o=r*t;return[n*Su(o),i-n*_u(o)]}return o.invert=function(t,e){var n=i-e,o=bu(t,vu(n))*Tu(n);return n*r<0&&(o-=fu*Tu(t)*Tu(n)),[o/r,i-Tu(r)*Eu(t*t+n*n)]},o}df.invert=ff(function(t){return t}),pf.invert=function(t,e){return[t,2*mu(xu(e))-hu]},mf.invert=mf;var _f=1.340264,wf=-.081106,xf=893e-6,Mf=.003796,kf=Eu(3)/2;function Af(t,e){var n=Nu(kf*Su(e)),r=n*n,i=r*r*r;return[t*_u(n)/(kf*(_f+3*wf*r+i*(7*xf+9*Mf*r))),n*(_f+wf*r+i*(xf+Mf*r))]}function Sf(t,e){var n=_u(e),r=_u(t)*n;return[n*Su(t)/r,Su(e)/r]}function Tf(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Ef(t,e){return[_u(e)*Su(t),Su(e)]}function Cf(t,e){var n=_u(e),r=1+_u(t)*n;return[n*Su(t)/r,Su(e)/r]}function Pf(t,e){return[ku(Cu((hu+e)/2)),-t]}function Nf(t,e){return t.parent===e.parent?1:2}function If(t,e){return t+e.x}function Df(t,e){return Math.max(t,e.y)}function Rf(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Of(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=zf)):void 0===e&&(e=Bf);for(var n,r,i,o,a,u=new qf(t),c=[u];n=c.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)c.push(r=i[o]=new qf(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(Ff)}function Bf(t){return t.children}function zf(t){return Array.isArray(t)?t[1]:null}function Lf(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Ff(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function qf(t){this.data=t,this.depth=this.height=0,this.parent=null}function Uf(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&Hf(n,e)?++r:(n=Yf(o=jf(o,e)),r=0);return n}function jf(t,e){var n,r;if(Vf(e,t))return[e];for(n=0;n<t.length;++n)if(Gf(e,t[n])&&Vf(Wf(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Gf(Wf(t[n],t[r]),e)&&Gf(Wf(t[n],e),t[r])&&Gf(Wf(t[r],e),t[n])&&Vf(Xf(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Gf(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Hf(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Vf(t,e){for(var n=0;n<e.length;++n)if(!Hf(t,e[n]))return!1;return!0}function Yf(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Wf(t[0],t[1]);case 3:return Xf(t[0],t[1],t[2])}}function Wf(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,c=o-n,s=a-r,l=u-i,f=Math.sqrt(c*c+s*s);return{x:(n+o+c/f*l)/2,y:(r+a+s/f*l)/2,r:(f+i+u)/2}}function Xf(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,c=e.r,s=n.x,l=n.y,f=n.r,h=r-a,d=r-s,p=i-u,g=i-l,y=c-o,v=f-o,m=r*r+i*i-o*o,b=m-a*a-u*u+c*c,_=m-s*s-l*l+f*f,w=d*p-h*g,x=(p*_-g*b)/(2*w)-r,M=(g*y-p*v)/w,k=(d*b-h*_)/(2*w)-i,A=(h*v-d*y)/w,S=M*M+A*A-1,T=2*(o+x*M+k*A),E=x*x+k*k-o*o,C=-(S?(T+Math.sqrt(T*T-4*S*E))/(2*S):E/T);return{x:r+x+M*C,y:i+k+A*C,r:C}}function Qf(t,e,n){var r,i,o,a,u=t.x-e.x,c=t.y-e.y,s=u*u+c*c;s?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(s+a-i)/(2*s),o=Math.sqrt(Math.max(0,a/s-r*r)),n.x=t.x-r*u-o*c,n.y=t.y-r*c+o*u):(r=(s+i-a)/(2*s),o=Math.sqrt(Math.max(0,i/s-r*r)),n.x=e.x+r*u-o*c,n.y=e.y+r*c+o*u)):(n.x=e.x+n.r,n.y=e.y)}function $f(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Zf(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Kf(t){this._=t,this.next=null,this.previous=null}function Jf(t){if(!(i=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,n,r,i,o,a,u,c,s,l,f;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Qf(n,e,r=t[2]),e=new Kf(e),n=new Kf(n),r=new Kf(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){Qf(e._,n._,r=t[u]),r=new Kf(r),c=n.next,s=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if($f(c._,r._)){n=c,e.next=n,n.previous=e,--u;continue t}l+=c._.r,c=c.next}else{if($f(s._,r._)){(e=s).next=n,n.previous=e,--u;continue t}f+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Zf(e);(r=r.next)!==n;)(a=Zf(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Uf(e),u=0;u<i;++u)(e=t[u]).x-=r.x,e.y-=r.y;return r.r}function th(t){if("function"!=typeof t)throw new Error;return t}function eh(){return 0}function nh(t){return function(){return t}}function rh(t){return Math.sqrt(t.value)}function ih(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function oh(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=Jf(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function ah(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function uh(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ch(t,e,n,r,i){for(var o,a=t.children,u=-1,c=a.length,s=t.value&&(r-e)/t.value;++u<c;)(o=a[u]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*s}Af.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(_f+wf*i+o*(xf+Mf*i))-e)/(_f+3*wf*i+o*(7*xf+9*Mf*i)))*r)*i*i,!(vu(n)<lu));++a);return[kf*t*(_f+3*wf*i+o*(7*xf+9*Mf*i))/_u(r),Nu(Su(r)/kf)]},Sf.invert=ff(mu),Tf.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(vu(n)>su&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Ef.invert=ff(Nu),Cf.invert=ff(function(t){return 2*mu(t)}),Pf.invert=function(t,e){return[-e,2*mu(xu(t))-hu]},qf.prototype=Of.prototype={constructor:qf,count:function(){return this.eachAfter(Rf)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],u=[],c=-1;o=a.pop();)if(u.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=u.pop();)t.call(e,o,++c,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Of(this).eachBefore(Lf)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};var sh={depth:-1},lh={};function fh(t){return t.id}function hh(t){return t.parentId}function dh(t,e){return t.parent===e.parent?1:2}function ph(t){var e=t.children;return e?e[0]:t.t}function gh(t){var e=t.children;return e?e[e.length-1]:t.t}function yh(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function vh(t,e,n){return t.a.parent===e.parent?t.a:n}function mh(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function bh(t,e,n,r,i){for(var o,a=t.children,u=-1,c=a.length,s=t.value&&(i-n)/t.value;++u<c;)(o=a[u]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*s}mh.prototype=Object.create(qf.prototype);var _h=(1+Math.sqrt(5))/2;function wh(t,e,n,r,i,o){for(var a,u,c,s,l,f,h,d,p,g,y,v=[],m=e.children,b=0,_=0,w=m.length,x=e.value;b<w;){c=i-n,s=o-r;do{l=m[_++].value}while(!l&&_<w);for(f=h=l,y=l*l*(g=Math.max(s/c,c/s)/(x*t)),p=Math.max(h/y,y/f);_<w;++_){if(l+=u=m[_].value,u<f&&(f=u),u>h&&(h=u),y=l*l*g,(d=Math.max(h/y,y/f))>p){l-=u;break}p=d}v.push(a={value:l,dice:c<s,children:m.slice(b,_)}),a.dice?ch(a,n,r,i,x?r+=s*l/x:o):bh(a,n,r,x?n+=c*l/x:i,o),x-=l,b=_}return v}var xh=function t(e){function n(t,n,r,i,o){wh(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(_h),Mh=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,u,c,s,l,f=-1,h=a.length,d=t.value;++f<h;){for(c=(u=a[f]).children,s=u.value=0,l=c.length;s<l;++s)u.value+=c[s].value;u.dice?ch(u,n,r,i,d?r+=(o-r)*u.value/d:o):bh(u,n,r,d?n+=(i-n)*u.value/d:i,o),d-=u.value}else t._squarify=a=wh(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(_h);function kh(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Ah(t,e){return t[0]-e[0]||t[1]-e[1]}function Sh(t){const e=t.length,n=[0,1];let r,i=2;for(r=2;r<e;++r){for(;i>1&&kh(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}var Th=Math.random,Eh=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Th),Ch=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(Th),Ph=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Th),Nh=function t(e){var n=Ph.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(Th),Ih=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(Th),Dh=function t(e){var n=Ih.source(e);function r(t){if(0==(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(Th),Rh=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(Th),Oh=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(Th),Bh=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(Th),zh=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(Th),Lh=function t(e){var n=Ph.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),a=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),u=1+o*t}while(u<=0);u*=u*u;var c=1-e()}while(c>=1-.0331*t*t*t*t&&Math.log(c)>=.5*t*t+i*(1-u+Math.log(u)));return i*u*a()*r}}return r.source=t,r}(Th),Fh=function t(e){var n=Lh.source(e);function r(t,e){var r=n(t),i=n(e);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(Th),qh=function t(e){var n=zh.source(e),r=Fh.source(e);function i(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var i=0,o=t,a=e;o*a>16&&o*(1-a)>16;){var u=Math.floor((o+1)*a),c=r(u,o-u+1)();c<=a?(i+=u,o-=u,a=(a-c)/(1-c)):(o=u-1,a/=c)}for(var s=a<.5,l=n(s?a:1-a),f=l(),h=0;f<=o;++h)f+=l();return i+(s?h:o-h)}}return i.source=t,i}(Th),Uh=function t(e){function n(t,n,r){var i;return 0==(t=+t)?i=(t=>-Math.log(t)):(t=1/t,i=(e=>Math.pow(e,t))),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-e()))}}return n.source=t,n}(Th),jh=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(Th),Gh=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(Th),Hh=function t(e){var n=Lh.source(e),r=qh.source(e);function i(t){return function(){for(var i=0,o=t;o>16;){var a=Math.floor(.875*o),u=n(a)();if(u>o)return i+r(a-1,o/u)();i+=a,o-=u}for(var c=-Math.log1p(-e()),s=0;c<=o;++s)c-=Math.log1p(-e());return i+s}}return i.source=t,i}(Th);const Vh=1/4294967296;function Yh(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Wh(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Xh=Symbol("implicit");function Qh(){var t=new Map,e=[],n=[],r=Xh;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Xh)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Qh(e,n).unknown(r)},Yh.apply(i,arguments),i}function $h(){var t,e,n=Qh().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,u=!1,c=0,s=0,l=.5;function f(){var n=r().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,n-c+2*s),u&&(t=Math.floor(t)),h+=(d-h-t*(n-c))*l,e=t*(1-c),u&&(h=Math.round(h),e=Math.round(e));var p=X(n).map(function(e){return h+t*e});return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,u=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(u=!!t,f()):u},n.padding=function(t){return arguments.length?(c=Math.min(1,s=+t),f()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),f()):c},n.paddingOuter=function(t){return arguments.length?(s=+t,f()):s},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),f()):l},n.copy=function(){return $h(r(),[o,a]).round(u).paddingInner(c).paddingOuter(s).align(l)},Yh.apply(f(),arguments)}function Zh(t){return+t}var Kh=[0,1];function Jh(t){return t}function td(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ed(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=td(i,r),o=n(a,o)):(r=td(r,i),o=n(o,a)),function(t){return o(r(t))}}function nd(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)i[u]=td(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(e){var n=o(t,e,1,r)-1;return a[n](i[n](e))}}function rd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function id(){var t,e,n,r,i,o,a=Kh,u=Kh,c=Gn,s=Jh;function l(){var t=Math.min(a.length,u.length);return s!==Jh&&(s=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?nd:ed,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,c)))(t(s(e)))}return f.invert=function(n){return s(e((o||(o=r(u,a.map(t),Ln)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Zh),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),c=Hn,l()},f.clamp=function(t){return arguments.length?(s=!!t||Jh,l()):s!==Jh},f.interpolate=function(t){return arguments.length?(c=t,l()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function od(){return id()(Jh,Jh)}function ad(e,n,r,i){var o,a=O(e,n,r);switch((i=$a(null==i?",f":i)).type){case"s":var u=Math.max(Math.abs(e),Math.abs(n));return null!=i.precision||isNaN(o=uu(a,u))||(i.precision=o),t.formatPrefix(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=cu(a,Math.max(Math.abs(e),Math.abs(n))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=au(a))||(i.precision=o-2*("%"===i.type))}return t.format(i)}function ud(t){var e=t.domain;return t.ticks=function(t){var n=e();return D(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ad(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,u=o.length-1,c=o[a],s=o[u],l=10;for(s<c&&(i=c,c=s,s=i,i=a,a=u,u=i);l-- >0;){if((i=R(c,s,n))===r)return o[a]=c,o[u]=s,e(o);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function cd(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function sd(t){return Math.log(t)}function ld(t){return Math.exp(t)}function fd(t){return-Math.log(-t)}function hd(t){return-Math.exp(-t)}function dd(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pd(t){return function(e){return-t(-e)}}function gd(e){var n,r,i=e(sd,ld),o=i.domain,a=10;function u(){return n=(t=a)===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t}),r=function(t){return 10===t?dd:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),o()[0]<0?(n=pd(n),r=pd(r),e(fd,hd)):e(sd,ld),i;var t}return i.base=function(t){return arguments.length?(a=+t,u()):a},i.domain=function(t){return arguments.length?(o(t),u()):o()},i.ticks=function(t){var e,i=o(),u=i[0],c=i[i.length-1];(e=c<u)&&(h=u,u=c,c=h);var s,l,f,h=n(u),d=n(c),p=null==t?10:+t,g=[];if(!(a%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(l=1,s=r(h);l<a;++l)if(!((f=s*l)<u)){if(f>c)break;g.push(f)}}else for(;h<=d;++h)for(l=a-1,s=r(h);l>=1;--l)if(!((f=s*l)<u)){if(f>c)break;g.push(f)}2*g.length<p&&(g=D(u,c,p))}else g=D(h,d,Math.min(d-h,p)).map(r);return e?g.reverse():g},i.tickFormat=function(e,o){if(null==o&&(o=10===a?".0e":","),"function"!=typeof o&&(o=t.format(o)),e===1/0)return o;null==e&&(e=10);var u=Math.max(1,a*e/i.ticks().length);return function(t){var e=t/r(Math.round(n(t)));return e*a<a-.5&&(e*=a),e<=u?o(t):""}},i.nice=function(){return o(cd(o(),{floor:function(t){return r(Math.floor(n(t)))},ceil:function(t){return r(Math.ceil(n(t)))}}))},i}function yd(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vd(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function md(t){var e=1,n=t(yd(e),vd(e));return n.constant=function(n){return arguments.length?t(yd(e=+n),vd(e)):e},ud(n)}function bd(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _d(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wd(t){return t<0?-t*t:t*t}function xd(t){var e=t(Jh,Jh),n=1;function r(){return 1===n?t(Jh,Jh):.5===n?t(_d,wd):t(bd(n),bd(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},ud(e)}function Md(){var t=xd(id());return t.copy=function(){return rd(t,Md()).exponent(t.exponent())},Yh.apply(t,arguments),t}function kd(t){return Math.sign(t)*t*t}var Ad=new Date,Sd=new Date;function Td(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return Td(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return Ad.setTime(+e),Sd.setTime(+r),t(Ad),t(Sd),Math.floor(n(Ad,Sd))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Ed=Td(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Ed.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Td(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Ed:null};var Cd=Ed.range,Pd=6e4,Nd=6048e5,Id=Td(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Dd=Id.range,Rd=Td(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*Pd)},function(t,e){return(e-t)/Pd},function(t){return t.getMinutes()}),Od=Rd.range,Bd=Td(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Pd)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),zd=Bd.range,Ld=Td(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pd)/864e5,t=>t.getDate()-1),Fd=Ld.range;function qd(t){return Td(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pd)/Nd})}var Ud=qd(0),jd=qd(1),Gd=qd(2),Hd=qd(3),Vd=qd(4),Yd=qd(5),Wd=qd(6),Xd=Ud.range,Qd=jd.range,$d=Gd.range,Zd=Hd.range,Kd=Vd.range,Jd=Yd.range,tp=Wd.range,ep=Td(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),np=ep.range,rp=Td(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});rp.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Td(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var ip=rp.range,op=Td(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Pd)},function(t,e){return(e-t)/Pd},function(t){return t.getUTCMinutes()}),ap=op.range,up=Td(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),cp=up.range,sp=Td(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),lp=sp.range;function fp(t){return Td(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Nd})}var hp=fp(0),dp=fp(1),pp=fp(2),gp=fp(3),yp=fp(4),vp=fp(5),mp=fp(6),bp=hp.range,_p=dp.range,wp=pp.range,xp=gp.range,Mp=yp.range,kp=vp.range,Ap=mp.range,Sp=Td(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Tp=Sp.range,Ep=Td(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Ep.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Td(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Cp=Ep.range;function Pp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Np(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ip(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Dp(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,s=Up(i),l=jp(i),f=Up(o),h=jp(o),d=Up(a),p=jp(a),g=Up(u),y=jp(u),v=Up(c),m=jp(c),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:sg,e:sg,f:pg,g:Ag,G:Tg,H:lg,I:fg,j:hg,L:dg,m:gg,M:yg,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:$g,s:Zg,S:vg,u:mg,U:bg,V:wg,w:xg,W:Mg,x:null,X:null,y:kg,Y:Sg,Z:Eg,"%":Qg},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Cg,e:Cg,f:Rg,g:Vg,G:Wg,H:Pg,I:Ng,j:Ig,L:Dg,m:Og,M:Bg,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:$g,s:Zg,S:zg,u:Lg,U:Fg,V:Ug,w:jg,W:Gg,x:null,X:null,y:Hg,Y:Yg,Z:Xg,"%":Qg},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:Jp,e:Jp,f:og,g:Qp,G:Xp,H:eg,I:eg,j:tg,L:ig,m:Kp,M:ng,p:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:Zp,Q:ug,s:cg,S:rg,u:Hp,U:Vp,V:Yp,w:Gp,W:Wp,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:Qp,Y:Xp,Z:$p,"%":ag};function x(t,e){return function(n){var r,i,o,a=[],u=-1,c=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=Op[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function M(t,e){return function(n){var r,i,o=Ip(1900,void 0,1);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Np(Ip(o.y,0,1))).getUTCDay(),r=i>4||0===i?dp.ceil(r):dp(r),r=sp.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Pp(Ip(o.y,0,1))).getDay(),r=i>4||0===i?jd.ceil(r):jd(r),r=Ld.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Np(Ip(o.y,0,1)).getUTCDay():Pp(Ip(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Np(o)):Pp(o)}}function k(t,e,n,r){for(var i,o,a=0,u=e.length,c=n.length;a<u;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in Op?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}var Rp,Op={"-":"",_:" ",0:"0"},Bp=/^\s*\d+/,zp=/^%/,Lp=/[\\^$*+?|[\]().{}]/g;function Fp(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function qp(t){return t.replace(Lp,"\\$&")}function Up(t){return new RegExp("^(?:"+t.map(qp).join("|")+")","i")}function jp(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function Gp(t,e,n){var r=Bp.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Hp(t,e,n){var r=Bp.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Vp(t,e,n){var r=Bp.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Yp(t,e,n){var r=Bp.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Wp(t,e,n){var r=Bp.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Xp(t,e,n){var r=Bp.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qp(t,e,n){var r=Bp.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $p(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zp(t,e,n){var r=Bp.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Kp(t,e,n){var r=Bp.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Jp(t,e,n){var r=Bp.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tg(t,e,n){var r=Bp.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function eg(t,e,n){var r=Bp.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ng(t,e,n){var r=Bp.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rg(t,e,n){var r=Bp.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ig(t,e,n){var r=Bp.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function og(t,e,n){var r=Bp.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ag(t,e,n){var r=zp.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ug(t,e,n){var r=Bp.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function cg(t,e,n){var r=Bp.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function sg(t,e){return Fp(t.getDate(),e,2)}function lg(t,e){return Fp(t.getHours(),e,2)}function fg(t,e){return Fp(t.getHours()%12||12,e,2)}function hg(t,e){return Fp(1+Ld.count(rp(t),t),e,3)}function dg(t,e){return Fp(t.getMilliseconds(),e,3)}function pg(t,e){return dg(t,e)+"000"}function gg(t,e){return Fp(t.getMonth()+1,e,2)}function yg(t,e){return Fp(t.getMinutes(),e,2)}function vg(t,e){return Fp(t.getSeconds(),e,2)}function mg(t){var e=t.getDay();return 0===e?7:e}function bg(t,e){return Fp(Ud.count(rp(t)-1,t),e,2)}function _g(t){var e=t.getDay();return e>=4||0===e?Vd(t):Vd.ceil(t)}function wg(t,e){return t=_g(t),Fp(Vd.count(rp(t),t)+(4===rp(t).getDay()),e,2)}function xg(t){return t.getDay()}function Mg(t,e){return Fp(jd.count(rp(t)-1,t),e,2)}function kg(t,e){return Fp(t.getFullYear()%100,e,2)}function Ag(t,e){return Fp((t=_g(t)).getFullYear()%100,e,2)}function Sg(t,e){return Fp(t.getFullYear()%1e4,e,4)}function Tg(t,e){var n=t.getDay();return Fp((t=n>=4||0===n?Vd(t):Vd.ceil(t)).getFullYear()%1e4,e,4)}function Eg(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fp(e/60|0,"0",2)+Fp(e%60,"0",2)}function Cg(t,e){return Fp(t.getUTCDate(),e,2)}function Pg(t,e){return Fp(t.getUTCHours(),e,2)}function Ng(t,e){return Fp(t.getUTCHours()%12||12,e,2)}function Ig(t,e){return Fp(1+sp.count(Ep(t),t),e,3)}function Dg(t,e){return Fp(t.getUTCMilliseconds(),e,3)}function Rg(t,e){return Dg(t,e)+"000"}function Og(t,e){return Fp(t.getUTCMonth()+1,e,2)}function Bg(t,e){return Fp(t.getUTCMinutes(),e,2)}function zg(t,e){return Fp(t.getUTCSeconds(),e,2)}function Lg(t){var e=t.getUTCDay();return 0===e?7:e}function Fg(t,e){return Fp(hp.count(Ep(t)-1,t),e,2)}function qg(t){var e=t.getUTCDay();return e>=4||0===e?yp(t):yp.ceil(t)}function Ug(t,e){return t=qg(t),Fp(yp.count(Ep(t),t)+(4===Ep(t).getUTCDay()),e,2)}function jg(t){return t.getUTCDay()}function Gg(t,e){return Fp(dp.count(Ep(t)-1,t),e,2)}function Hg(t,e){return Fp(t.getUTCFullYear()%100,e,2)}function Vg(t,e){return Fp((t=qg(t)).getUTCFullYear()%100,e,2)}function Yg(t,e){return Fp(t.getUTCFullYear()%1e4,e,4)}function Wg(t,e){var n=t.getUTCDay();return Fp((t=n>=4||0===n?yp(t):yp.ceil(t)).getUTCFullYear()%1e4,e,4)}function Xg(){return"+0000"}function Qg(){return"%"}function $g(t){return+t}function Zg(t){return Math.floor(+t/1e3)}function Kg(e){return Rp=Dp(e),t.timeFormat=Rp.format,t.timeParse=Rp.parse,t.utcFormat=Rp.utcFormat,t.utcParse=Rp.utcParse,Rp}Kg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Jg="%Y-%m-%dT%H:%M:%S.%LZ",ty=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(Jg),ey=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse(Jg),ny=1e3,ry=6e4,iy=36e5,oy=864e5,ay=2592e6,uy=31536e6;function cy(t){return new Date(t)}function sy(t){return t instanceof Date?+t:+new Date(+t)}function ly(t,e,r,i,o,a,u,c,s){var l=od(),f=l.invert,h=l.domain,d=s(".%L"),p=s(":%S"),g=s("%I:%M"),y=s("%I %p"),v=s("%a %d"),m=s("%b %d"),b=s("%B"),_=s("%Y"),w=[[u,1,ny],[u,5,5e3],[u,15,15e3],[u,30,3e4],[a,1,ry],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,iy],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,oy],[i,2,1728e5],[r,1,6048e5],[e,1,ay],[e,3,7776e6],[t,1,uy]];function x(n){return(u(n)<n?d:a(n)<n?p:o(n)<n?g:i(n)<n?y:e(n)<n?r(n)<n?v:m:t(n)<n?b:_)(n)}function M(e,r,i){if(null==e&&(e=10),"number"==typeof e){var o,a=Math.abs(i-r)/e,u=n(function(t){return t[2]}).right(w,a);return u===w.length?(o=O(r/uy,i/uy,e),e=t):u?(o=(u=w[a/w[u-1][2]<w[u][2]/a?u-1:u])[1],e=u[0]):(o=Math.max(O(r,i,e),1),e=c),e.every(o)}return e}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(Array.from(t,sy)):h().map(cy)},l.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=(e=M(t,r,i))?e.range(r,i+1):[],o?e.reverse():e},l.tickFormat=function(t,e){return null==e?x:s(e)},l.nice=function(t){var e=h();return(t=M(t,e[0],e[e.length-1]))?h(cd(e,t)):l},l.copy=function(){return rd(l,ly(t,e,r,i,o,a,u,c,s))},l}function fy(){var t,e,n,r,i,o=0,a=1,u=Jh,c=!1;function s(e){return isNaN(e=+e)?i:u(0===n?.5:(e=(r(e)-t)*n,c?Math.max(0,Math.min(1,e)):e))}function l(t){return function(e){var n,r;return arguments.length?([n,r]=e,u=t(n,r),s):[u(0),u(1)]}}return s.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),s):[o,a]},s.clamp=function(t){return arguments.length?(c=!!t,s):c},s.interpolator=function(t){return arguments.length?(u=t,s):u},s.range=l(Gn),s.rangeRound=l(Hn),s.unknown=function(t){return arguments.length?(i=t,s):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),s}}function hy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dy(){var t=xd(fy());return t.copy=function(){return hy(t,dy()).exponent(t.exponent())},Wh.apply(t,arguments)}function py(){var t,e,n,r,i,o,a,u=0,c=.5,s=1,l=1,f=Jh,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=sr(t,[n,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([u,c,s]=a,t=o(u=+u),e=o(c=+c),n=o(s=+s),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d):[u,c,s]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(Gn),d.rangeRound=p(Hn),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(u),e=a(c),n=a(s),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d}}function gy(){var t=xd(py());return t.copy=function(){return hy(t,gy()).exponent(t.exponent())},Wh.apply(t,arguments)}function yy(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}var vy=yy("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),my=yy("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),by=yy("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),_y=yy("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),wy=yy("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),xy=yy("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),My=yy("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ky=yy("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Ay=yy("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Sy=yy("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ty=t=>In(t[t.length-1]),Ey=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(yy),Cy=Ty(Ey),Py=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(yy),Ny=Ty(Py),Iy=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(yy),Dy=Ty(Iy),Ry=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(yy),Oy=Ty(Ry),By=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(yy),zy=Ty(By),Ly=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(yy),Fy=Ty(Ly),qy=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(yy),Uy=Ty(qy),jy=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(yy),Gy=Ty(jy),Hy=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(yy),Vy=Ty(Hy),Yy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(yy),Wy=Ty(Yy),Xy=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(yy),Qy=Ty(Xy),$y=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(yy),Zy=Ty($y),Ky=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(yy),Jy=Ty(Ky),tv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(yy),ev=Ty(tv),nv=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(yy),rv=Ty(nv),iv=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(yy),ov=Ty(iv),av=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(yy),uv=Ty(av),cv=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(yy),sv=Ty(cv),lv=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(yy),fv=Ty(lv),hv=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(yy),dv=Ty(hv),pv=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(yy),gv=Ty(pv),yv=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(yy),vv=Ty(yv),mv=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(yy),bv=Ty(mv),_v=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(yy),wv=Ty(_v),xv=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(yy),Mv=Ty(xv),kv=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(yy),Av=Ty(kv),Sv=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(yy),Tv=Ty(Sv),Ev=cr(wn(300,.5,0),wn(-240,.5,1)),Cv=cr(wn(-100,.75,.35),wn(80,1.5,.8)),Pv=cr(wn(260,.75,.35),wn(80,1.5,.8)),Nv=wn(),Iv=Fe(),Dv=Math.PI/3,Rv=2*Math.PI/3;function Ov(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Bv=Ov(yy("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),zv=Ov(yy("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Lv=Ov(yy("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Fv=Ov(yy("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function qv(t){return function(){return t}}var Uv=Math.abs,jv=Math.atan2,Gv=Math.cos,Hv=Math.max,Vv=Math.min,Yv=Math.sin,Wv=Math.sqrt,Xv=1e-12,Qv=Math.PI,$v=Qv/2,Zv=2*Qv;function Kv(t){return t>=1?$v:t<=-1?-$v:Math.asin(t)}function Jv(t){return t.innerRadius}function tm(t){return t.outerRadius}function em(t){return t.startAngle}function nm(t){return t.endAngle}function rm(t){return t&&t.padAngle}function im(t,e,n,r,i,o,a){var u=t-n,c=e-r,s=(a?o:-o)/Wv(u*u+c*c),l=s*c,f=-s*u,h=t+l,d=e+f,p=n+l,g=r+f,y=(h+p)/2,v=(d+g)/2,m=p-h,b=g-d,_=m*m+b*b,w=i-o,x=h*g-p*d,M=(b<0?-1:1)*Wv(Hv(0,w*w*_-x*x)),k=(x*b-m*M)/_,A=(-x*m-b*M)/_,S=(x*b+m*M)/_,T=(-x*m+b*M)/_,E=k-y,C=A-v,P=S-y,N=T-v;return E*E+C*C>P*P+N*N&&(k=S,A=T),{cx:k,cy:A,x01:-l,y01:-f,x11:k*(i/w-1),y11:A*(i/w-1)}}var om=Array.prototype.slice;function am(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function um(t){this._context=t}function cm(t){return new um(t)}function sm(t){return t[0]}function lm(t){return t[1]}function fm(t,e){var n=qv(!0),r=null,i=cm,o=null;function a(a){var u,c,s,l=(a=am(a)).length,f=!1;for(null==r&&(o=i(s=ro())),u=0;u<=l;++u)!(u<l&&n(c=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,u,a),+e(c,u,a));if(s)return o=null,s+""||null}return t="function"==typeof t?t:void 0===t?sm:qv(t),e="function"==typeof e?e:void 0===e?lm:qv(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:qv(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:qv(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:qv(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function hm(t,e,n){var r=null,i=qv(!0),o=null,a=cm,u=null;function c(c){var s,l,f,h,d,p=(c=am(c)).length,g=!1,y=new Array(p),v=new Array(p);for(null==o&&(u=a(d=ro())),s=0;s<=p;++s){if(!(s<p&&i(h=c[s],s,c))===g)if(g=!g)l=s,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=s-1;f>=l;--f)u.point(y[f],v[f]);u.lineEnd(),u.areaEnd()}g&&(y[s]=+t(h,s,c),v[s]=+e(h,s,c),u.point(r?+r(h,s,c):y[s],n?+n(h,s,c):v[s]))}if(d)return u=null,d+""||null}function s(){return fm().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?sm:qv(+t),e="function"==typeof e?e:qv(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?lm:qv(+n),c.x=function(e){return arguments.length?(t="function"==typeof e?e:qv(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:qv(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:qv(+t),c):r},c.y=function(t){return arguments.length?(e="function"==typeof t?t:qv(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"==typeof t?t:qv(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:qv(+t),c):n},c.lineX0=c.lineY0=function(){return s().x(t).y(e)},c.lineY1=function(){return s().x(t).y(n)},c.lineX1=function(){return s().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:qv(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),c):o},c}function dm(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function pm(t){return t}um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var gm=vm(cm);function ym(t){this._curve=t}function vm(t){function e(e){return new ym(t(e))}return e._curve=t,e}function mm(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(vm(t)):e()._curve},t}function bm(){return mm(fm().curve(gm))}function _m(){var t=hm().curve(gm),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return mm(n())},delete t.lineX0,t.lineEndAngle=function(){return mm(r())},delete t.lineX1,t.lineInnerRadius=function(){return mm(i())},delete t.lineY0,t.lineOuterRadius=function(){return mm(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(vm(t)):e()._curve},t}function wm(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function xm(t){return t.source}function Mm(t){return t.target}function km(t){var e=xm,n=Mm,r=sm,i=lm,o=null;function a(){var a,u=om.call(arguments),c=e.apply(this,u),s=n.apply(this,u);if(o||(o=a=ro()),t(o,+r.apply(this,(u[0]=c,u)),+i.apply(this,u),+r.apply(this,(u[0]=s,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:qv(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:qv(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function Am(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Sm(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Tm(t,e,n,r,i){var o=wm(e,n),a=wm(e,n=(n+i)/2),u=wm(r,n),c=wm(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],c[0],c[1])}ym.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Em={draw:function(t,e){var n=Math.sqrt(e/Qv);t.moveTo(n,0),t.arc(0,0,n,0,Zv)}},Cm={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Pm=Math.sqrt(1/3),Nm=2*Pm,Im={draw:function(t,e){var n=Math.sqrt(e/Nm),r=n*Pm;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Dm=Math.sin(Qv/10)/Math.sin(7*Qv/10),Rm=Math.sin(Zv/10)*Dm,Om=-Math.cos(Zv/10)*Dm,Bm={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Rm*n,i=Om*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Zv*o/5,u=Math.cos(a),c=Math.sin(a);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},zm={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Lm=Math.sqrt(3),Fm={draw:function(t,e){var n=-Math.sqrt(e/(3*Lm));t.moveTo(0,2*n),t.lineTo(-Lm*n,-n),t.lineTo(Lm*n,-n),t.closePath()}},qm=-.5,Um=Math.sqrt(3)/2,jm=1/Math.sqrt(12),Gm=3*(jm/2+1),Hm={draw:function(t,e){var n=Math.sqrt(e/Gm),r=n/2,i=n*jm,o=r,a=n*jm+n,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(qm*r-Um*i,Um*r+qm*i),t.lineTo(qm*o-Um*a,Um*o+qm*a),t.lineTo(qm*u-Um*c,Um*u+qm*c),t.lineTo(qm*r+Um*i,qm*i-Um*r),t.lineTo(qm*o+Um*a,qm*a-Um*o),t.lineTo(qm*u+Um*c,qm*c-Um*u),t.closePath()}},Vm=[Em,Cm,Im,zm,Bm,Fm,Hm];function Ym(){}function Wm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Xm(t){this._context=t}function Qm(t){this._context=t}function $m(t){this._context=t}function Zm(t,e){this._basis=new Xm(t),this._beta=e}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wm(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Qm.prototype={areaStart:Ym,areaEnd:Ym,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wm(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},$m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wm(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Zm.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*e[c]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Km=function t(e){function n(t){return 1===e?new Xm(t):new Zm(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Jm(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function tb(t,e){this._context=t,this._k=(1-e)/6}tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Jm(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Jm(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var eb=function t(e){function n(t){return new tb(t,e)}return n.tension=function(e){return t(+e)},n}(0);function nb(t,e){this._context=t,this._k=(1-e)/6}nb.prototype={areaStart:Ym,areaEnd:Ym,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Jm(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rb=function t(e){function n(t){return new nb(t,e)}return n.tension=function(e){return t(+e)},n}(0);function ib(t,e){this._context=t,this._k=(1-e)/6}ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jm(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ob=function t(e){function n(t){return new ib(t,e)}return n.tension=function(e){return t(+e)},n}(0);function ab(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Xv){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Xv){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*s+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function ub(t,e){this._context=t,this._alpha=e}ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ab(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cb=function t(e){function n(t){return e?new ub(t,e):new tb(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function sb(t,e){this._context=t,this._alpha=e}sb.prototype={areaStart:Ym,areaEnd:Ym,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ab(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var lb=function t(e){function n(t){return e?new sb(t,e):new nb(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function fb(t,e){this._context=t,this._alpha=e}fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ab(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var hb=function t(e){function n(t){return e?new fb(t,e):new ib(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function db(t){this._context=t}function pb(t){return t<0?-1:1}function gb(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(pb(o)+pb(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function yb(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vb(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function mb(t){this._context=t}function bb(t){this._context=new _b(t)}function _b(t){this._context=t}function wb(t){this._context=t}function xb(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Mb(t,e){this._context=t,this._t=e}function kb(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],u=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Ab(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Sb(t,e){return t[e]}function Tb(t){const e=[];return e.key=t,e}function Eb(t){var e=t.map(Cb);return Ab(t).sort(function(t,n){return e[t]-e[n]})}function Cb(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function Pb(t){var e=t.map(Nb);return Ab(t).sort(function(t,n){return e[t]-e[n]})}function Nb(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}db.prototype={areaStart:Ym,areaEnd:Ym,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vb(this,this._t0,yb(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vb(this,yb(this,n=gb(this,t,e)),n);break;default:vb(this,this._t0,n=gb(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(bb.prototype=Object.create(mb.prototype)).point=function(t,e){mb.prototype.point.call(this,e,t)},_b.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=xb(t),i=xb(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Ib=t=>()=>t;function Db(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Rb(t,e,n){this.k=t,this.x=e,this.y=n}Rb.prototype={constructor:Rb,scale:function(t){return 1===t?this:new Rb(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Rb(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ob=new Rb(1,0,0);function Bb(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Ob;return t.__zoom}function zb(t){t.stopImmediatePropagation()}function Lb(t){t.preventDefault(),t.stopImmediatePropagation()}function Fb(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function qb(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Ub(){return this.__zoom||Ob}function jb(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Gb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hb(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}Bb.prototype=Rb.prototype,t.Adder=g,t.Delaunay=Yo,t.FormatSpecifier=Za,t.InternMap=y,t.InternSet=class extends Set{constructor(t=[],e=_){super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}});for(const e of t)this.add(e)}has(t){return super.has(v(this,t))}add(t){return super.add(m(this,t))}delete(t){return super.delete(b(this,t))}},t.Voronoi=jo,t.active=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new Ur([[t]],gi,e,+r);return null},t.arc=function(){var t=Jv,e=tm,n=qv(0),r=null,i=em,o=nm,a=rm,u=null;function c(){var c,s,l=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-$v,d=o.apply(this,arguments)-$v,p=Uv(d-h),g=d>h;if(u||(u=c=ro()),f<l&&(s=f,f=l,l=s),f>Xv)if(p>Zv-Xv)u.moveTo(f*Gv(h),f*Yv(h)),u.arc(0,0,f,h,d,!g),l>Xv&&(u.moveTo(l*Gv(d),l*Yv(d)),u.arc(0,0,l,d,h,g));else{var y,v,m=h,b=d,_=h,w=d,x=p,M=p,k=a.apply(this,arguments)/2,A=k>Xv&&(r?+r.apply(this,arguments):Wv(l*l+f*f)),S=Vv(Uv(f-l)/2,+n.apply(this,arguments)),T=S,E=S;if(A>Xv){var C=Kv(A/l*Yv(k)),P=Kv(A/f*Yv(k));(x-=2*C)>Xv?(_+=C*=g?1:-1,w-=C):(x=0,_=w=(h+d)/2),(M-=2*P)>Xv?(m+=P*=g?1:-1,b-=P):(M=0,m=b=(h+d)/2)}var N=f*Gv(m),I=f*Yv(m),D=l*Gv(w),R=l*Yv(w);if(S>Xv){var O,B=f*Gv(b),z=f*Yv(b),L=l*Gv(_),F=l*Yv(_);if(p<Qv&&(O=function(t,e,n,r,i,o,a,u){var c=n-t,s=r-e,l=a-i,f=u-o,h=f*c-l*s;if(!(h*h<Xv))return[t+(h=(l*(e-o)-f*(t-i))/h)*c,e+h*s]}(N,I,L,F,B,z,D,R))){var q=N-O[0],U=I-O[1],j=B-O[0],G=z-O[1],H=1/Yv(function(t){return t>1?0:t<-1?Qv:Math.acos(t)}((q*j+U*G)/(Wv(q*q+U*U)*Wv(j*j+G*G)))/2),V=Wv(O[0]*O[0]+O[1]*O[1]);T=Vv(S,(l-V)/(H-1)),E=Vv(S,(f-V)/(H+1))}}M>Xv?E>Xv?(y=im(L,F,N,I,f,E,g),v=im(B,z,D,R,f,E,g),u.moveTo(y.cx+y.x01,y.cy+y.y01),E<S?u.arc(y.cx,y.cy,E,jv(y.y01,y.x01),jv(v.y01,v.x01),!g):(u.arc(y.cx,y.cy,E,jv(y.y01,y.x01),jv(y.y11,y.x11),!g),u.arc(0,0,f,jv(y.cy+y.y11,y.cx+y.x11),jv(v.cy+v.y11,v.cx+v.x11),!g),u.arc(v.cx,v.cy,E,jv(v.y11,v.x11),jv(v.y01,v.x01),!g))):(u.moveTo(N,I),u.arc(0,0,f,m,b,!g)):u.moveTo(N,I),l>Xv&&x>Xv?T>Xv?(y=im(D,R,B,z,l,-T,g),v=im(N,I,L,F,l,-T,g),u.lineTo(y.cx+y.x01,y.cy+y.y01),T<S?u.arc(y.cx,y.cy,T,jv(y.y01,y.x01),jv(v.y01,v.x01),!g):(u.arc(y.cx,y.cy,T,jv(y.y01,y.x01),jv(y.y11,y.x11),!g),u.arc(0,0,l,jv(y.cy+y.y11,y.cx+y.x11),jv(v.cy+v.y11,v.cx+v.x11),g),u.arc(v.cx,v.cy,T,jv(v.y11,v.x11),jv(v.y01,v.x01),!g))):u.arc(0,0,l,w,_,g):u.lineTo(D,R)}else u.moveTo(0,0);if(u.closePath(),c)return u=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Qv/2;return[Gv(r)*n,Yv(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:qv(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:qv(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:qv(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:qv(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:qv(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:qv(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:qv(+t),c):a},c.context=function(t){return arguments.length?(u=null==t?null:t,c):u},c},t.area=hm,t.areaRadial=_m,t.ascending=e,t.autoType=function(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ga&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t},t.axisBottom=function(t){return ct(3,t)},t.axisLeft=function(t){return ct(4,t)},t.axisRight=function(t){return ct(2,t)},t.axisTop=function(t){return ct(1,t)},t.bin=L,t.bisect=o,t.bisectCenter=u,t.bisectLeft=a,t.bisectRight=o,t.bisector=n,t.blob=function(t,e){return fetch(t,e).then(ya)},t.brush=function(){return Ui(Pi)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},t.brushX=function(){return Ui(Ei)},t.brushY=function(){return Ui(Ci)},t.buffer=function(t,e){return fetch(t,e).then(va)},t.chord=function(){return Zi(!1,!1)},t.chordDirected=function(){return Zi(!0,!1)},t.chordTranspose=function(){return Zi(!1,!0)},t.cluster=function(){var t=Nf,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(If,0)/t.length}(n),e.y=1+n.reduce(Df,0)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)});var u=function(t){for(var e;e=t.children;)t=e[0];return t}(i),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),s=u.x-t(u,c)/2,l=c.x+t(c,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-s)/(l-s)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},t.color=Oe,t.contourDensity=function(){var t=So,e=To,n=Eo,r=960,i=500,o=20,a=2,u=3*o,c=r+2*u>>a,s=i+2*u>>a,l=vo(20);function f(r){var i=new Float32Array(c*s),f=new Float32Array(c*s);r.forEach(function(r,o,l){var f=+t(r,o,l)+u>>a,h=+e(r,o,l)+u>>a,d=+n(r,o,l);f>=0&&f<c&&h>=0&&h<s&&(i[f+h*c]+=d)}),ko({width:c,height:s,data:i},{width:c,height:s,data:f},o>>a),Ao({width:c,height:s,data:f},{width:c,height:s,data:i},o>>a),ko({width:c,height:s,data:i},{width:c,height:s,data:f},o>>a),Ao({width:c,height:s,data:f},{width:c,height:s,data:i},o>>a),ko({width:c,height:s,data:i},{width:c,height:s,data:f},o>>a),Ao({width:c,height:s,data:f},{width:c,height:s,data:i},o>>a);var d=l(i);if(!Array.isArray(d)){var p=F(i);d=O(0,p,d),(d=X(0,Math.floor(p/d)*d,d)).shift()}return Mo().thresholds(d).size([c,s])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function y(){return c=r+2*(u=3*o)>>a,s=i+2*u>>a,f}return f.x=function(e){return arguments.length?(t="function"==typeof e?e:vo(+e),f):t},f.y=function(t){return arguments.length?(e="function"==typeof t?t:vo(+t),f):e},f.weight=function(t){return arguments.length?(n="function"==typeof t?t:vo(+t),f):n},f.size=function(t){if(!arguments.length)return[r,i];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return r=e,i=n,y()},f.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),y()},f.thresholds=function(t){return arguments.length?(l="function"==typeof t?t:Array.isArray(t)?vo(go.call(t)):vo(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),y()},f},t.contours=Mo,t.count=c,t.create=function(t){return ne(vt(t).call(document.documentElement))},t.creator=vt,t.cross=function(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(f)).map(s),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(l))return o;for(;;){o.push(i.map((e,n)=>t[n][e]));let a=r;for(;++i[a]===n[a];){if(0===a)return e?o.map(e):o;i[a--]=0}}},t.csv=wa,t.csvFormat=na,t.csvFormatBody=ra,t.csvFormatRow=oa,t.csvFormatRows=ia,t.csvFormatValue=aa,t.csvParse=ta,t.csvParseRows=ea,t.cubehelix=wn,t.cumsum=function(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)},t.curveBasis=function(t){return new Xm(t)},t.curveBasisClosed=function(t){return new Qm(t)},t.curveBasisOpen=function(t){return new $m(t)},t.curveBundle=Km,t.curveCardinal=eb,t.curveCardinalClosed=rb,t.curveCardinalOpen=ob,t.curveCatmullRom=cb,t.curveCatmullRomClosed=lb,t.curveCatmullRomOpen=hb,t.curveLinear=cm,t.curveLinearClosed=function(t){return new db(t)},t.curveMonotoneX=function(t){return new mb(t)},t.curveMonotoneY=function(t){return new bb(t)},t.curveNatural=function(t){return new wb(t)},t.curveStep=function(t){return new Mb(t,.5)},t.curveStepAfter=function(t){return new Mb(t,1)},t.curveStepBefore=function(t){return new Mb(t,0)},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=d,t.difference=function(t,...e){t=new Set(t);for(const n of e)for(const e of n)t.delete(e);return t},t.disjoint=function(t,e){const n=e[Symbol.iterator](),r=new Set;for(const e of t){if(r.has(e))return!1;let t,i;for(;({value:t,done:i}=n.next())&&!i;){if(Object.is(e,t))return!1;r.add(t)}}return!0},t.dispatch=lt,t.drag=function(){var t,e,n,r,i=pe,o=ge,a=ye,u=ve,c={},s=lt("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(u).on("touchstart.drag",y).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,u){if(!r&&i.call(this,a,u)){var c=b(this,o.call(this,a,u),a,u,"mouse");c&&(ne(a.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),le(a.view),ce(a),n=!1,t=a.clientX,e=a.clientY,c("start",a))}}function p(r){if(se(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>f}c.mouse("drag",r)}function g(t){ne(t.view).on("mousemove.drag mouseup.drag",null),fe(t.view,n),se(t),c.mouse("end",t)}function y(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,u=o.call(this,t,e),c=a.length;for(n=0;n<c;++n)(r=b(this,u,t,e,a[n].identifier,a[n]))&&(ce(t),r("start",t,a[n]))}}function v(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=c[r[e].identifier])&&(se(t),n("drag",t,r[e]))}function m(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),e=0;e<o;++e)(n=c[i[e].identifier])&&(ce(t),n("end",t,i[e]))}function b(t,e,n,r,i,o){var u,f,d,p=s.copy(),g=ue(o||n,e);if(null!=(d=a.call(t,new de("beforestart",{sourceEvent:n,target:h,identifier:i,active:l,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return u=d.x-g[0]||0,f=d.y-g[1]||0,function n(o,a,s){var y,v=g;switch(o){case"start":c[i]=n,y=l++;break;case"end":delete c[i],--l;case"drag":g=ue(s||a,e),y=l}p.call(o,t,new de(o,{sourceEvent:a,subject:d,target:h,identifier:i,active:y,x:g[0]+u,y:g[1]+f,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:he(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:he(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:he(t),h):a},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:he(!!t),h):u},h.on=function(){var t=s.on.apply(s,arguments);return t===s?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h},t.dragDisable=le,t.dragEnable=fe,t.dsv=function(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=Ko(t);return ba(e,n).then(function(t){return i.parse(t,r)})},t.dsvFormat=Ko,t.easeBack=ci,t.easeBackIn=ai,t.easeBackInOut=ci,t.easeBackOut=ui,t.easeBounce=ii,t.easeBounceIn=function(t){return 1-ii(1-t)},t.easeBounceInOut=function(t){return((t*=2)<=1?1-ii(1-t):ii(t-1)+1)/2},t.easeBounceOut=ii,t.easeCircle=ei,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleInOut=ei,t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCubic=Yr,t.easeCubicIn=function(t){return t*t*t},t.easeCubicInOut=Yr,t.easeCubicOut=function(t){return--t*t*t+1},t.easeElastic=fi,t.easeElasticIn=li,t.easeElasticInOut=hi,t.easeElasticOut=fi,t.easeExp=ti,t.easeExpIn=function(t){return Jr(1-+t)},t.easeExpInOut=ti,t.easeExpOut=function(t){return 1-Jr(t)},t.easeLinear=(t=>+t),t.easePoly=Qr,t.easePolyIn=Wr,t.easePolyInOut=Qr,t.easePolyOut=Xr,t.easeQuad=Vr,t.easeQuadIn=function(t){return t*t},t.easeQuadInOut=Vr,t.easeQuadOut=function(t){return t*(2-t)},t.easeSin=Kr,t.easeSinIn=function(t){return 1==+t?1:1-Math.cos(t*Zr)},t.easeSinInOut=Kr,t.easeSinOut=function(t){return Math.sin(t*Zr)},t.every=function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0},t.extent=p,t.filter=function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n},t.forceCenter=function(t,e){var n,r=1;function i(){var i,o,a=n.length,u=0,c=0;for(i=0;i<a;++i)u+=(o=n[i]).x,c+=o.y;for(u=(u/a-t)*r,c=(c/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=u,o.y-=c}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i},t.forceCollide=function(t){var e,n,r,i=1,o=1;function a(){for(var t,a,c,s,l,f,h,d=e.length,p=0;p<o;++p)for(a=Ia(e,La,Fa).visitAfter(u),t=0;t<d;++t)c=e[t],f=n[c.index],h=f*f,s=c.x+c.vx,l=c.y+c.vy,a.visit(g);function g(t,e,n,o,a){var u=t.data,d=t.r,p=f+d;if(!u)return e>s+p||o<s-p||n>l+p||a<l-p;if(u.index>c.index){var g=s-u.x-u.vx,y=l-u.y-u.vy,v=g*g+y*y;v<p*p&&(0===g&&(v+=(g=za(r))*g),0===y&&(v+=(y=za(r))*y),v=(p-(v=Math.sqrt(v)))/v*i,c.vx+=(g*=v)*(p=(d*=d)/(h+d)),c.vy+=(y*=v)*p,u.vx-=g*(p=1-p),u.vy-=y*p)}}}function u(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function c(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Ba(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,c()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ba(+e),c(),a):t},a},t.forceLink=function(t){var e,n,r,i,o,a,u=qa,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=Ba(30),l=1;function f(r){for(var i=0,u=t.length;i<l;++i)for(var c,s,f,h,d,p,g,y=0;y<u;++y)s=(c=t[y]).source,h=(f=c.target).x+f.vx-s.x-s.vx||za(a),d=f.y+f.vy-s.y-s.vy||za(a),h*=p=((p=Math.sqrt(h*h+d*d))-n[y])/p*r*e[y],d*=p,f.vx-=h*(g=o[y]),f.vy-=d*g,s.vx+=h*(g=1-g),s.vy+=d*g}function h(){if(r){var a,c,s=r.length,l=t.length,f=new Map(r.map((t,e)=>[u(t,e,r),t]));for(a=0,i=new Array(s);a<l;++a)(c=t[a]).index=a,"object"!=typeof c.source&&(c.source=Ua(f,c.source)),"object"!=typeof c.target&&(c.target=Ua(f,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,o=new Array(l);a<l;++a)c=t[a],o[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);e=new Array(l),d(),n=new Array(l),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+s(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,a=e,h()},f.links=function(e){return arguments.length?(t=e,h(),f):t},f.id=function(t){return arguments.length?(u=t,f):u},f.iterations=function(t){return arguments.length?(l=+t,f):l},f.strength=function(t){return arguments.length?(c="function"==typeof t?t:Ba(+t),d(),f):c},f.distance=function(t){return arguments.length?(s="function"==typeof t?t:Ba(+t),p(),f):s},f},t.forceManyBody=function(){var t,e,n,r,i,o=Ba(-30),a=1,u=1/0,c=.81;function s(n){var i,o=t.length,a=Ia(t,Ga,Ha).visitAfter(f);for(r=n,i=0;i<o;++i)e=t[i],a.visit(h)}function l(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function f(t){var e,n,r,o,a,u=0,c=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(u+=e.value,c+=n,r+=n*e.x,o+=n*e.y);t.x=r/c,t.y=o/c}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=i[e.data.index]}while(e=e.next)}t.value=u}function h(t,o,s,l){if(!t.value)return!0;var f=t.x-e.x,h=t.y-e.y,d=l-o,p=f*f+h*h;if(d*d/c<p)return p<u&&(0===f&&(p+=(f=za(n))*f),0===h&&(p+=(h=za(n))*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=f*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=u)){(t.data!==e||t.next)&&(0===f&&(p+=(f=za(n))*f),0===h&&(p+=(h=za(n))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=f*d,e.vy+=h*d)}while(t=t.next)}}return s.initialize=function(e,r){t=e,n=r,l()},s.strength=function(t){return arguments.length?(o="function"==typeof t?t:Ba(+t),l(),s):o},s.distanceMin=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.distanceMax=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s.theta=function(t){return arguments.length?(c=t*t,s):Math.sqrt(c)},s},t.forceRadial=function(t,e,n){var r,i,o,a=Ba(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var c=r[a],s=c.x-e||1e-6,l=c.y-n||1e-6,f=Math.sqrt(s*s+l*l),h=(o[a]-f)*i[a]*t/f;c.vx+=s*h,c.vy+=l*h}}function c(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=Ba(+t)),null==e&&(e=0),null==n&&(n=0),u.initialize=function(t){r=t,c()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:Ba(+t),c(),u):a},u.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ba(+e),c(),u):t},u.x=function(t){return arguments.length?(e=+t,u):e},u.y=function(t){return arguments.length?(n=+t,u):n},u},t.forceSimulation=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,c=Mr(f),s=lt("tick","end"),l=function(){let t=1;return()=>(t=(1664525*t+1013904223)%ja)/ja}();function f(){h(),s.call("tick",e),n<r&&(c.stop(),s.call("end",e))}function h(r){var c,s,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,u.forEach(function(t){t(n)}),c=0;c<l;++c)null==(s=t[c]).fx?s.x+=s.vx*=a:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=a:(s.y=s.fy,s.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*Va;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return c.restart(f),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),u.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(l=t,u.forEach(p),e):l},force:function(t,n){return arguments.length>1?(null==n?u.delete(t):u.set(t,p(n)),e):u.get(t)},find:function(e,n,r){var i,o,a,u,c,s=0,l=t.length;for(null==r?r=1/0:r*=r,s=0;s<l;++s)(a=(i=e-(u=t[s]).x)*i+(o=n-u.y)*o)<r&&(c=u,r=a);return c},on:function(t,n){return arguments.length>1?(s.on(t,n),e):s.on(t)}}},t.forceX=function(t){var e,n,r,i=Ba(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Ba(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ba(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Ba(+e),a(),o):t},o},t.forceY=function(t){var e,n,r,i=Ba(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Ba(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ba(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Ba(+e),a(),o):t},o},t.formatDefaultLocale=ou,t.formatLocale=iu,t.formatSpecifier=$a,t.fsum=function(t,e){const n=new g;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n},t.geoAlbers=sf,t.geoAlbersUsa=function(){var t,e,n,r,i,o,a=sf(),u=cf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=cf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,l}return l.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),u.stream(n),c.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),f()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],l=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(s),r=u.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+su,l+.12*e+su],[o-.214*e-su,l+.234*e-su]]).stream(s),i=c.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+su,l+.166*e+su],[o-.115*e-su,l+.234*e-su]]).stream(s),f()},l.fitExtent=function(t,e){return Ql(l,t,e)},l.fitSize=function(t,e){return $l(l,t,e)},l.fitWidth=function(t,e){return Zl(l,t,e)},l.fitHeight=function(t,e){return Kl(l,t,e)},l.scale(1070)},t.geoArea=function(t){return rc=new g,Fu(t,ic),2*rc},t.geoAzimuthalEqualArea=function(){return rf(hf).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=hf,t.geoAzimuthalEquidistant=function(){return rf(df).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=df,t.geoBounds=function(t){var e,n,r,i,o,a,u;if(Xu=Wu=-(Vu=Yu=1/0),tc=[],Fu(t,Ic),n=tc.length){for(tc.sort(Uc),e=1,o=[r=tc[0]];e<n;++e)jc(r,(i=tc[e])[0])||jc(r,i[1])?(qc(r[0],i[1])>qc(r[0],r[1])&&(r[1]=i[1]),qc(i[0],r[1])>qc(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(u=qc(r[1],i[0]))>a&&(a=u,Vu=i[0],Wu=r[1])}return tc=ec=null,Vu===1/0||Yu===1/0?[[NaN,NaN],[NaN,NaN]]:[[Vu,Yu],[Wu,Xu]]},t.geoCentroid=function(t){yc=vc=mc=bc=_c=wc=xc=Mc=0,kc=new g,Ac=new g,Sc=new g,Fu(t,Gc);var e=+kc,n=+Ac,r=+Sc,i=Mu(e,n,r);return i<lu&&(e=wc,n=xc,r=Mc,vc<su&&(e=mc,n=bc,r=_c),(i=Mu(e,n,r))<lu)?[NaN,NaN]:[bu(n,e)*gu,Nu(r/i)*gu]},t.geoCircle=function(){var t,e,n=ts([0,0]),r=ts(90),i=ts(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=gu,n[1]*=gu}};function a(){var a=n.apply(this,arguments),u=r.apply(this,arguments)*yu,c=i.apply(this,arguments)*yu;return t=[],e=rs(-a[0]*yu,-a[1]*yu,0).invert,cs(o,u,c,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:ts([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:ts(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:ts(+t),a):i},a},t.geoClipAntimeridian=_s,t.geoClipCircle=ws,t.geoClipExtent=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Es(r,i,o,a)(e=n)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=e=null,n):[[r,i],[o,a]]}}},t.geoClipRectangle=Es,t.geoConicConformal=function(){return af(vf).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=vf,t.geoConicEqualArea=cf,t.geoConicEqualAreaRaw=uf,t.geoConicEquidistant=function(){return af(bf).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=bf,t.geoContains=function(t,e){return(t&&zs.hasOwnProperty(t.type)?zs[t.type]:Fs)(t,e)},t.geoDistance=Bs,t.geoEqualEarth=function(){return rf(Af).scale(177.158)},t.geoEqualEarthRaw=Af,t.geoEquirectangular=function(){return rf(mf).scale(152.63)},t.geoEquirectangularRaw=mf,t.geoGnomonic=function(){return rf(Sf).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=Sf,t.geoGraticule=Ws,t.geoGraticule10=function(){return Ws()()},t.geoIdentity=function(){var t,e,n,r,i,o,a,u=1,c=0,s=0,l=1,f=1,h=0,d=null,p=1,g=1,y=Yl({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),v=Ks;function m(){return p=u*l,g=u*f,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*g;if(h){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+c,i+s]}return b.invert=function(n){var r=n[0]-c,i=n[1]-s;if(h){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/g]},b.stream=function(t){return o&&a===t?o:o=y(v(a=t))},b.postclip=function(t){return arguments.length?(v=t,d=n=r=i=null,m()):v},b.clipExtent=function(t){return arguments.length?(v=null==t?(d=n=r=i=null,Ks):Es(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),m()):null==d?null:[[d,n],[r,i]]},b.scale=function(t){return arguments.length?(u=+t,m()):u},b.translate=function(t){return arguments.length?(c=+t[0],s=+t[1],m()):[c,s]},b.angle=function(n){return arguments.length?(e=Su(h=n%360*yu),t=_u(h),m()):h*gu},b.reflectX=function(t){return arguments.length?(l=t?-1:1,m()):l<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,m()):f<0},b.fitExtent=function(t,e){return Ql(b,t,e)},b.fitSize=function(t,e){return $l(b,t,e)},b.fitWidth=function(t,e){return Zl(b,t,e)},b.fitHeight=function(t,e){return Kl(b,t,e)},b},t.geoInterpolate=function(t,e){var n=t[0]*yu,r=t[1]*yu,i=e[0]*yu,o=e[1]*yu,a=_u(r),u=Su(r),c=_u(o),s=Su(o),l=a*_u(n),f=a*Su(n),h=c*_u(i),d=c*Su(i),p=2*Nu(Eu(Iu(o-r)+a*c*Iu(i-n))),g=Su(p),y=p?function(t){var e=Su(t*=p)/g,n=Su(p-t)/g,r=n*l+e*h,i=n*f+e*d,o=n*u+e*s;return[bu(i,r)*gu,bu(o,Eu(r*r+i*i))*gu]}:function(){return[n*gu,r*gu]};return y.distance=p,y},t.geoLength=Ds,t.geoMercator=function(){return gf(pf).scale(961/pu)},t.geoMercatorRaw=pf,t.geoNaturalEarth1=function(){return rf(Tf).scale(175.295)},t.geoNaturalEarth1Raw=Tf,t.geoOrthographic=function(){return rf(Ef).scale(249.5).clipAngle(90.000001)},t.geoOrthographicRaw=Ef,t.geoPath=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Fu(t,n(r))),r.result()}return o.area=function(t){return Fu(t,n(el)),el.result()},o.measure=function(t){return Fu(t,n(Ul)),Ul.result()},o.bounds=function(t){return Fu(t,n(pl)),pl.result()},o.centroid=function(t){return Fu(t,n(kl)),kl.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Ks):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new Hl):new Rl(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)},t.geoProjection=rf,t.geoProjectionMutator=of,t.geoRotation=us,t.geoStereographic=function(){return rf(Cf).scale(250).clipAngle(142)},t.geoStereographicRaw=Cf,t.geoStream=Fu,t.geoTransform=function(t){return{stream:Yl(t)}},t.geoTransverseMercator=function(){var t=gf(Pf),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=Pf,t.gray=function(t,e){return new on(t,0,0,null==e?1:e)},t.greatest=function(t,n=e){let r,i=!1;if(1===n.length){let o;for(const a of t){const t=n(a);(i?e(t,o)>0:0===e(t,t))&&(r=a,o=t,i=!0)}}else for(const e of t)(i?n(e,r)>0:0===n(e,e))&&(r=e,i=!0);return r},t.greatestIndex=function(t,n=e){if(1===n.length)return V(t,n);let r,i=-1,o=-1;for(const e of t)++o,(i<0?0===n(e,e):n(e,r)>0)&&(r=e,i=o);return i},t.group=x,t.groupSort=function(t,n,r){return(1===n.length?T(M(t,n,r),([t,n],[r,i])=>e(n,i)||e(t,r)):T(x(t,r),([t,r],[i,o])=>n(r,o)||e(t,i))).map(([t])=>t)},t.groups=function(t,...e){return A(t,Array.from,w,e)},t.hcl=fn,t.hierarchy=Of,t.histogram=L,t.hsl=Ye,t.html=Sa,t.image=function(t,e){return new Promise(function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t})},t.index=function(t,...e){return A(t,w,k,e)},t.indexes=function(t,...e){return A(t,Array.from,k,e)},t.interpolate=Gn,t.interpolateArray=function(t,e){return(On(e)?Rn:Bn)(t,e)},t.interpolateBasis=kn,t.interpolateBasisClosed=An,t.interpolateBlues=vv,t.interpolateBrBG=Cy,t.interpolateBuGn=Wy,t.interpolateBuPu=Qy,t.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},t.interpolateCool=Pv,t.interpolateCubehelix=ur,t.interpolateCubehelixDefault=Ev,t.interpolateCubehelixLong=cr,t.interpolateDate=zn,t.interpolateDiscrete=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},t.interpolateGnBu=Zy,t.interpolateGreens=bv,t.interpolateGreys=wv,t.interpolateHcl=ir,t.interpolateHclLong=or,t.interpolateHsl=er,t.interpolateHslLong=nr,t.interpolateHue=function(t,e){var n=En(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},t.interpolateInferno=Lv,t.interpolateLab=function(t,e){var n=Cn((t=rn(t)).l,(e=rn(e)).l),r=Cn(t.a,e.a),i=Cn(t.b,e.b),o=Cn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}},t.interpolateMagma=zv,t.interpolateNumber=Ln,t.interpolateNumberArray=Rn,t.interpolateObject=Fn,t.interpolateOrRd=Jy,t.interpolateOranges=Tv,t.interpolatePRGn=Ny,t.interpolatePiYG=Dy,t.interpolatePlasma=Fv,t.interpolatePuBu=rv,t.interpolatePuBuGn=ev,t.interpolatePuOr=Oy,t.interpolatePuRd=ov,t.interpolatePurples=Mv,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Nv.h=360*t-100,Nv.s=1.5-1.5*e,Nv.l=.8-.9*e,Nv+""},t.interpolateRdBu=zy,t.interpolateRdGy=Fy,t.interpolateRdPu=uv,t.interpolateRdYlBu=Uy,t.interpolateRdYlGn=Gy,t.interpolateReds=Av,t.interpolateRgb=Pn,t.interpolateRgbBasis=In,t.interpolateRgbBasisClosed=Dn,t.interpolateRound=Hn,t.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,Iv.r=255*(e=Math.sin(t))*e,Iv.g=255*(e=Math.sin(t+Dv))*e,Iv.b=255*(e=Math.sin(t+Rv))*e,Iv+""},t.interpolateSpectral=Vy,t.interpolateString=jn,t.interpolateTransformCss=$n,t.interpolateTransformSvg=Zn,t.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},t.interpolateViridis=Bv,t.interpolateWarm=Cv,t.interpolateYlGn=fv,t.interpolateYlGnBu=sv,t.interpolateYlOrBr=dv,t.interpolateYlOrRd=gv,t.interpolateZoom=Jn,t.interrupt=Or,t.intersection=function(t,...e){t=new Set(t),e=e.map(tt);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t},t.interval=function(t,e,n){var r=new xr,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?_r():+n,r._restart(function o(a){a+=i,r._restart(o,i+=e,n),t(a)},e,n)},r.restart(t,e,n),r)},t.isoFormat=ty,t.isoParse=ey,t.json=function(t,e){return fetch(t,e).then(Ma)},t.lab=rn,t.lch=function(t,e,n,r){return 1===arguments.length?ln(t):new hn(n,e,t,null==r?1:r)},t.least=function(t,n=e){let r,i=!1;if(1===n.length){let o;for(const a of t){const t=n(a);(i?e(t,o)<0:0===e(t,t))&&(r=a,o=t,i=!0)}}else for(const e of t)(i?n(e,r)<0:0===n(e,e))&&(r=e,i=!0);return r},t.leastIndex=Q,t.line=fm,t.lineRadial=bm,t.linkHorizontal=function(){return km(Am)},t.linkRadial=function(){var t=km(Tm);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.linkVertical=function(){return km(Sm)},t.local=ie,t.map=function(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))},t.matcher=Mt,t.max=F,t.maxIndex=V,t.mean=function(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n},t.median=function(t,e){return G(t,.5,e)},t.merge=Y,t.min=q,t.minIndex=W,t.namespace=yt,t.namespaces=gt,t.nice=B,t.now=_r,t.pack=function(){var t=null,e=1,n=1,r=eh;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(ih(t)).eachAfter(oh(r,.5)).eachBefore(ah(1)):i.eachBefore(ih(rh)).eachAfter(oh(eh,1)).eachAfter(oh(r,i.r/Math.min(e,n))).eachBefore(ah(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=function(t){return null==t?null:th(t)}(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:nh(+t),i):r},i},t.packEnclose=Uf,t.packSiblings=function(t){return Jf(t),t},t.pairs=function(t,e=function(t,e){return[t,e]}){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n},t.partition=function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&ch(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,u=r.y1-n;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(e,o)),r&&i.eachBefore(uh),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},t.path=ro,t.permute=S,t.pie=function(){var t=pm,e=dm,n=null,r=qv(0),i=qv(Zv),o=qv(0);function a(a){var u,c,s,l,f,h=(a=am(a)).length,d=0,p=new Array(h),g=new Array(h),y=+r.apply(this,arguments),v=Math.min(Zv,Math.max(-Zv,i.apply(this,arguments)-y)),m=Math.min(Math.abs(v)/h,o.apply(this,arguments)),b=m*(v<0?-1:1);for(u=0;u<h;++u)(f=g[p[u]=u]=+t(a[u],u,a))>0&&(d+=f);for(null!=e?p.sort(function(t,n){return e(g[t],g[n])}):null!=n&&p.sort(function(t,e){return n(a[t],a[e])}),u=0,s=d?(v-h*b)/d:0;u<h;++u,y=l)c=p[u],l=y+((f=g[c])>0?f*s:0)+b,g[c]={data:a[c],index:u,value:f,startAngle:y,endAngle:l,padAngle:m};return g}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:qv(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:qv(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:qv(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:qv(+t),a):o},a},t.piecewise=sr,t.pointRadial=wm,t.pointer=ue,t.pointers=function(t,e){return t.target&&(t=ae(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,t=>ue(t,e))},t.polygonArea=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,u=t[i-1],c=0;++r<i;)e=u,u=t[r],c+=n=e[0]*u[1]-u[0]*e[1],o+=(e[0]+u[0])*n,a+=(e[1]+u[1])*n;return[o/(c*=3),a/c]},t.polygonContains=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],u=e[1],c=o[0],s=o[1],l=!1,f=0;f<i;++f)n=(o=t[f])[0],(r=o[1])>u!=s>u&&a<(c-n)*(u-r)/(s-r)+n&&(l=!l),c=n,s=r;return l},t.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Ah),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Sh(r),a=Sh(i),u=a[0]===o[0],c=a[a.length-1]===o[o.length-1],s=[];for(e=o.length-1;e>=0;--e)s.push(t[r[o[e]][2]]);for(e=+u;e<a.length-c;++e)s.push(t[r[a[e]][2]]);return s},t.polygonLength=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],c=0;++r<i;)e=a,n=u,e-=a=(o=t[r])[0],n-=u=o[1],c+=Math.hypot(e,n);return c},t.precisionFixed=au,t.precisionPrefix=uu,t.precisionRound=cu,t.quadtree=Ia,t.quantile=G,t.quantileSorted=H,t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},t.quickselect=U,t.radialArea=_m,t.radialLine=bm,t.randomBates=Dh,t.randomBernoulli=Bh,t.randomBeta=Fh,t.randomBinomial=qh,t.randomCauchy=jh,t.randomExponential=Rh,t.randomGamma=Lh,t.randomGeometric=zh,t.randomInt=Ch,t.randomIrwinHall=Ih,t.randomLcg=function(t=Math.random()){let e=0|(0<=t&&t<1?t/Vh:Math.abs(t));return()=>(e=1664525*e+1013904223|0,Vh*(e>>>0))},t.randomLogNormal=Nh,t.randomLogistic=Gh,t.randomNormal=Ph,t.randomPareto=Oh,t.randomPoisson=Hh,t.randomUniform=Eh,t.randomWeibull=Uh,t.range=X,t.reduce=function(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++a}for(;({done:i,value:o}=r.next()),!i;)n=e(n,o,++a,t);return n},t.reverse=function(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()},t.rgb=Fe,t.ribbon=function(){return po()},t.ribbonArrow=function(){return po(ho)},t.rollup=M,t.rollups=function(t,e,...n){return A(t,Array.from,e,n)},t.scaleBand=$h,t.scaleDiverging=function t(){var e=ud(py()(Jh));return e.copy=function(){return hy(e,t())},Wh.apply(e,arguments)},t.scaleDivergingLog=function t(){var e=gd(py()).domain([.1,1,10]);return e.copy=function(){return hy(e,t()).base(e.base())},Wh.apply(e,arguments)},t.scaleDivergingPow=gy,t.scaleDivergingSqrt=function(){return gy.apply(null,arguments).exponent(.5)},t.scaleDivergingSymlog=function t(){var e=md(py());return e.copy=function(){return hy(e,t()).constant(e.constant())},Wh.apply(e,arguments)},t.scaleIdentity=function t(e){var n;function r(t){return isNaN(t=+t)?n:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Zh),r):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return t(e).unknown(n)},e=arguments.length?Array.from(e,Zh):[0,1],ud(r)},t.scaleImplicit=Xh,t.scaleLinear=function t(){var e=od();return e.copy=function(){return rd(e,t())},Yh.apply(e,arguments),ud(e)},t.scaleLog=function t(){var e=gd(id()).domain([1,10]);return e.copy=function(){return rd(e,t()).base(e.base())},Yh.apply(e,arguments),e},t.scaleOrdinal=Qh,t.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}($h.apply(null,arguments).paddingInner(1))},t.scalePow=Md,t.scaleQuantile=function t(){var n,r=[],i=[],a=[];function u(){var t=0,e=Math.max(1,i.length);for(a=new Array(e-1);++t<e;)a[t-1]=H(r,t/e);return c}function c(t){return isNaN(t=+t)?n:i[o(a,t)]}return c.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?a[e-1]:r[0],e<a.length?a[e]:r[r.length-1]]},c.domain=function(t){if(!arguments.length)return r.slice();r=[];for(let e of t)null==e||isNaN(e=+e)||r.push(e);return r.sort(e),u()},c.range=function(t){return arguments.length?(i=Array.from(t),u()):i.slice()},c.unknown=function(t){return arguments.length?(n=t,c):n},c.quantiles=function(){return a.slice()},c.copy=function(){return t().domain(r).range(i).unknown(n)},Yh.apply(c,arguments)},t.scaleQuantize=function t(){var e,n=0,r=1,i=1,a=[.5],u=[0,1];function c(t){return t<=t?u[o(a,t,0,i)]:e}function s(){var t=-1;for(a=new Array(i);++t<i;)a[t]=((t+1)*r-(t-i)*n)/(i+1);return c}return c.domain=function(t){return arguments.length?([n,r]=t,n=+n,r=+r,s()):[n,r]},c.range=function(t){return arguments.length?(i=(u=Array.from(t)).length-1,s()):u.slice()},c.invertExtent=function(t){var e=u.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,a[0]]:e>=i?[a[i-1],r]:[a[e-1],a[e]]},c.unknown=function(t){return arguments.length?(e=t,c):c},c.thresholds=function(){return a.slice()},c.copy=function(){return t().domain([n,r]).range(u).unknown(e)},Yh.apply(ud(c),arguments)},t.scaleRadial=function t(){var e,n=od(),r=[0,1],i=!1;function o(t){var r=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(n(t));return isNaN(r)?e:i?Math.round(r):r}return o.invert=function(t){return n.invert(kd(t))},o.domain=function(t){return arguments.length?(n.domain(t),o):n.domain()},o.range=function(t){return arguments.length?(n.range((r=Array.from(t,Zh)).map(kd)),o):r.slice()},o.rangeRound=function(t){return o.range(t).round(!0)},o.round=function(t){return arguments.length?(i=!!t,o):i},o.clamp=function(t){return arguments.length?(n.clamp(t),o):n.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t(n.domain(),r).round(i).clamp(n.clamp()).unknown(e)},Yh.apply(o,arguments),ud(o)},t.scaleSequential=function t(){var e=ud(fy()(Jh));return e.copy=function(){return hy(e,t())},Wh.apply(e,arguments)},t.scaleSequentialLog=function t(){var e=gd(fy()).domain([1,10]);return e.copy=function(){return hy(e,t()).base(e.base())},Wh.apply(e,arguments)},t.scaleSequentialPow=dy,t.scaleSequentialQuantile=function t(){var n=[],r=Jh;function i(t){if(!isNaN(t=+t))return r((o(n,t,1)-1)/(n.length-1))}return i.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(e),i},i.interpolator=function(t){return arguments.length?(r=t,i):r},i.range=function(){return n.map((t,e)=>r(e/(n.length-1)))},i.quantiles=function(t){return Array.from({length:t+1},(e,r)=>G(n,r/t))},i.copy=function(){return t(r).domain(n)},Wh.apply(i,arguments)},t.scaleSequentialSqrt=function(){return dy.apply(null,arguments).exponent(.5)},t.scaleSequentialSymlog=function t(){var e=md(fy());return e.copy=function(){return hy(e,t()).constant(e.constant())},Wh.apply(e,arguments)},t.scaleSqrt=function(){return Md.apply(null,arguments).exponent(.5)},t.scaleSymlog=function t(){var e=md(id());return e.copy=function(){return rd(e,t()).constant(e.constant())},Yh.apply(e,arguments)},t.scaleThreshold=function t(){var e,n=[.5],r=[0,1],i=1;function a(t){return t<=t?r[o(n,t,0,i)]:e}return a.domain=function(t){return arguments.length?(n=Array.from(t),i=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(t){return arguments.length?(r=Array.from(t),i=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return t().domain(n).range(r).unknown(e)},Yh.apply(a,arguments)},t.scaleTime=function(){return Yh.apply(ly(rp,ep,Ud,Ld,Bd,Rd,Id,Ed,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},t.scaleUtc=function(){return Yh.apply(ly(Ep,Sp,hp,sp,up,op,Id,Ed,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},t.scan=function(t,e){const n=Q(t,e);return n<0?void 0:n},t.schemeAccent=my,t.schemeBlues=yv,t.schemeBrBG=Ey,t.schemeBuGn=Yy,t.schemeBuPu=Xy,t.schemeCategory10=vy,t.schemeDark2=by,t.schemeGnBu=$y,t.schemeGreens=mv,t.schemeGreys=_v,t.schemeOrRd=Ky,t.schemeOranges=Sv,t.schemePRGn=Py,t.schemePaired=_y,t.schemePastel1=wy,t.schemePastel2=xy,t.schemePiYG=Iy,t.schemePuBu=nv,t.schemePuBuGn=tv,t.schemePuOr=Ry,t.schemePuRd=iv,t.schemePurples=xv,t.schemeRdBu=By,t.schemeRdGy=Ly,t.schemeRdPu=av,t.schemeRdYlBu=qy,t.schemeRdYlGn=jy,t.schemeReds=kv,t.schemeSet1=My,t.schemeSet2=ky,t.schemeSet3=Ay,t.schemeSpectral=Hy,t.schemeTableau10=Sy,t.schemeYlGn=lv,t.schemeYlGnBu=cv,t.schemeYlOrBr=hv,t.schemeYlOrRd=pv,t.select=ne,t.selectAll=function(t){return"string"==typeof t?new te([document.querySelectorAll(t)],[document.documentElement]):new te([null==t?[]:_t(t)],Jt)},t.selection=ee,t.selector=bt,t.selectorAll=xt,t.shuffle=$,t.shuffler=Z,t.some=function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1},t.sort=T,t.stack=function(){var t=qv([]),e=Ab,n=kb,r=Sb;function i(i){var o,a,u=Array.from(t.apply(this,arguments),Tb),c=u.length,s=-1;for(const t of i)for(o=0,++s;o<c;++o)(u[o][s]=[0,+r(t,u[o].key,s,i)]).data=t;for(o=0,a=am(e(u));o<c;++o)u[a[o]].index=o;return n(u,a),u}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:qv(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:qv(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?Ab:"function"==typeof t?t:qv(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?kb:t,i):n},i},t.stackOffsetDiverging=function(t,e){if((u=t.length)>0)for(var n,r,i,o,a,u,c=0,s=t[e[0]].length;c<s;++c)for(o=a=0,n=0;n<u;++n)(i=(r=t[e[n]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},t.stackOffsetExpand=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}kb(t,e)}},t.stackOffsetNone=kb,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<n;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}kb(t,e)}},t.stackOffsetWiggle=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var u=0,c=0,s=0;u<i;++u){for(var l=t[e[u]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<u;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}c+=f,s+=h*f}n[a-1][1]+=n[a-1][0]=o,c&&(o-=s/c)}n[a-1][1]+=n[a-1][0]=o,kb(t,e)}},t.stackOrderAppearance=Eb,t.stackOrderAscending=Pb,t.stackOrderDescending=function(t){return Pb(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(Nb),o=Eb(t),a=0,u=0,c=[],s=[];for(e=0;e<r;++e)n=o[e],a<u?(a+=i[n],c.push(n)):(u+=i[n],s.push(n));return s.reverse().concat(c)},t.stackOrderNone=Ab,t.stackOrderReverse=function(t){return Ab(t).reverse()},t.stratify=function(){var t=fh,e=hh;function n(n){var r,i,o,a,u,c,s,l=Array.from(n),f=l.length,h=new Map;for(i=0;i<f;++i)r=l[i],u=l[i]=new qf(r),null!=(c=t(r,i,n))&&(c+="")&&(s=u.id=c,h.set(s,h.has(s)?lh:u)),null!=(c=e(r,i,n))&&(c+="")&&(u.parent=c);for(i=0;i<f;++i)if(c=(u=l[i]).parent){if(!(a=h.get(c)))throw new Error("missing: "+c);if(a===lh)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=sh,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(Ff),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=th(e),n):t},n.parentId=function(t){return arguments.length?(e=th(t),n):e},n},t.style=Bt,t.subset=function(t,e){return et(e,t)},t.sum=function(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n},t.superset=et,t.svg=Ta,t.symbol=function(t,e){var n=null;function r(){var r;if(n||(n=r=ro()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"==typeof t?t:qv(t||Em),e="function"==typeof e?e:qv(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"==typeof e?e:qv(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:qv(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},t.symbolCircle=Em,t.symbolCross=Cm,t.symbolDiamond=Im,t.symbolSquare=zm,t.symbolStar=Bm,t.symbolTriangle=Fm,t.symbolWye=Hm,t.symbols=Vm,t.text=ba,t.thresholdFreedmanDiaconis=function(t,e,n){return Math.ceil((n-e)/(2*(G(t,.75)-G(t,.25))*Math.pow(c(t),-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*d(t)*Math.pow(c(t),-1/3)))},t.thresholdSturges=z,t.tickFormat=ad,t.tickIncrement=R,t.tickStep=O,t.ticks=D,t.timeDay=Ld,t.timeDays=Fd,t.timeFormatDefaultLocale=Kg,t.timeFormatLocale=Dp,t.timeFriday=Yd,t.timeFridays=Jd,t.timeHour=Bd,t.timeHours=zd,t.timeInterval=Td,t.timeMillisecond=Ed,t.timeMilliseconds=Cd,t.timeMinute=Rd,t.timeMinutes=Od,t.timeMonday=jd,t.timeMondays=Qd,t.timeMonth=ep,t.timeMonths=np,t.timeSaturday=Wd,t.timeSaturdays=tp,t.timeSecond=Id,t.timeSeconds=Dd,t.timeSunday=Ud,t.timeSundays=Xd,t.timeThursday=Vd,t.timeThursdays=Kd,t.timeTuesday=Gd,t.timeTuesdays=$d,t.timeWednesday=Hd,t.timeWednesdays=Zd,t.timeWeek=Ud,t.timeWeeks=Xd,t.timeYear=rp,t.timeYears=ip,t.timeout=Er,t.timer=Mr,t.timerFlush=kr,t.transition=jr,t.transpose=K,t.tree=function(){var t=dh,e=1,n=1,r=null;function i(i){var c=function(t){for(var e,n,r,i,o,a=new mh(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=e.children[i]=new mh(r[i],i)),n.parent=e;return(a.parent=new mh(null,0)).children=[a],a}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)i.eachBefore(u);else{var s=i,l=i,f=i;i.eachBefore(function(t){t.x<s.x&&(s=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=s===l?1:t(s,l)/2,d=h-s.x,p=e/(l.x+h+d),g=n/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,u=n,c=o.parent.children[0],s=o.m,l=a.m,f=u.m,h=c.m;u=gh(u),o=ph(o),u&&o;)c=ph(c),(a=gh(a)).a=e,(i=u.z+f-o.z-s+t(u._,o._))>0&&(yh(vh(u,e,r),e,i),s+=i,l+=i),f+=u.m,s+=o.m,h+=c.m,l+=a.m;u&&!gh(a)&&(a.t=u,a.m+=f-l),o&&!ph(c)&&(c.t=o,c.m+=s-h,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},t.treemap=function(){var t=xh,e=!1,n=1,r=1,i=[0],o=eh,a=eh,u=eh,c=eh,s=eh;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(uh),t}function f(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),e.x0=r,e.y0=l,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=s(e)-n,l+=a(e)-n,(f-=u(e)-n)<r&&(r=f=(r+f)/2),(h-=c(e)-n)<l&&(l=h=(l+h)/2),t(e,r,l,f,h))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=th(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:nh(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:nh(+t),l):a},l.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:nh(+t),l):u},l.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:nh(+t),l):c},l.paddingLeft=function(t){return arguments.length?(s="function"==typeof t?t:nh(+t),l):s},l},t.treemapBinary=function(t,e,n,r,i){var o,a,u=t.children,c=u.length,s=new Array(c+1);for(s[0]=a=o=0;o<c;++o)s[o+1]=a+=u[o].value;!function t(e,n,r,i,o,a,c){if(e>=n-1){var l=u[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=c)}for(var f=s[e],h=r/2+f,d=e+1,p=n-1;d<p;){var g=d+p>>>1;s[g]<h?d=g+1:p=g}h-s[d-1]<s[d]-h&&e+1<d&&--d;var y=s[d]-f,v=r-y;if(a-i>c-o){var m=r?(i*v+a*y)/r:a;t(e,d,y,i,o,m,c),t(d,n,v,m,o,a,c)}else{var b=r?(o*v+c*y)/r:c;t(e,d,y,i,o,a,b),t(d,n,v,i,b,a,c)}}(0,c,t.value,e,n,r,i)},t.treemapDice=ch,t.treemapResquarify=Mh,t.treemapSlice=bh,t.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?bh:ch)(t,e,n,r,i)},t.treemapSquarify=xh,t.tsv=xa,t.tsvFormat=la,t.tsvFormatBody=fa,t.tsvFormatRow=da,t.tsvFormatRows=ha,t.tsvFormatValue=pa,t.tsvParse=ca,t.tsvParseRows=sa,t.union=function(...t){const e=new Set;for(const n of t)for(const t of n)e.add(t);return e},t.utcDay=sp,t.utcDays=lp,t.utcFriday=vp,t.utcFridays=kp,t.utcHour=up,t.utcHours=cp,t.utcMillisecond=Ed,t.utcMilliseconds=Cd,t.utcMinute=op,t.utcMinutes=ap,t.utcMonday=dp,t.utcMondays=_p,t.utcMonth=Sp,t.utcMonths=Tp,t.utcSaturday=mp,t.utcSaturdays=Ap,t.utcSecond=Id,t.utcSeconds=Dd,t.utcSunday=hp,t.utcSundays=bp,t.utcThursday=yp,t.utcThursdays=Mp,t.utcTuesday=pp,t.utcTuesdays=wp,t.utcWednesday=gp,t.utcWednesdays=xp,t.utcWeek=hp,t.utcWeeks=bp,t.utcYear=Ep,t.utcYears=Cp,t.variance=h,t.version="6.5.0",t.window=Ot,t.xml=Aa,t.zip=function(){return K(arguments)},t.zoom=function(){var t,e,n,r=Fb,i=qb,o=Hb,a=jb,u=Gb,c=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,f=Jn,h=lt("start","zoom","end"),d=500,p=0,g=10;function y(t){t.property("__zoom",Ub).on("wheel.zoom",M).on("mousedown.zoom",k).on("dblclick.zoom",A).filter(u).on("touchstart.zoom",S).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(c[0],Math.min(c[1],e)))===t.k?t:new Rb(e,t.x,t.y)}function m(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Rb(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n,r){t.on("start.zoom",function(){w(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(r).end()}).tween("zoom",function(){var t=this,o=arguments,a=w(t,o).event(r),u=i.apply(t,o),c=null==n?b(u):"function"==typeof n?n.apply(t,o):n,s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),l=t.__zoom,h="function"==typeof e?e.apply(t,o):e,d=f(l.invert(c).concat(s/l.k),h.invert(c).concat(s/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=s/e[2];t=new Rb(n,c[0]-e[0]*n,c[1]-e[1]*n)}a.zoom(null,t)}})}function w(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function M(t,...e){if(r.apply(this,arguments)){var n=w(this,e).event(t),i=this.__zoom,u=Math.max(c[0],Math.min(c[1],i.k*Math.pow(2,a.apply(this,arguments)))),l=ue(t);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=i.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(i.k===u)return;n.mouse=[l,i.invert(l)],Or(this),n.start()}Lb(t),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",o(m(v(i,u),n.mouse[0],n.mouse[1]),n.extent,s))}}function k(t,...e){if(!n&&r.apply(this,arguments)){var i=w(this,e,!0).event(t),a=ne(t.view).on("mousemove.zoom",function(t){if(Lb(t),!i.moved){var e=t.clientX-l,n=t.clientY-f;i.moved=e*e+n*n>p}i.event(t).zoom("mouse",o(m(i.that.__zoom,i.mouse[0]=ue(t,c),i.mouse[1]),i.extent,s))},!0).on("mouseup.zoom",function(t){a.on("mousemove.zoom mouseup.zoom",null),fe(t.view,i.moved),Lb(t),i.event(t).end()},!0),u=ue(t,c),c=t.currentTarget,l=t.clientX,f=t.clientY;le(t.view),zb(t),i.mouse=[u,this.__zoom.invert(u)],Or(this),i.start()}}function A(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=ue(t.changedTouches?t.changedTouches[0]:t,this),u=n.invert(a),c=n.k*(t.shiftKey?.5:2),f=o(m(v(n,c),a,u),i.apply(this,e),s);Lb(t),l>0?ne(this).transition().duration(l).call(_,f,a,t):ne(this).call(y.transform,f,a,t)}}function S(n,...i){if(r.apply(this,arguments)){var o,a,u,c,s=n.touches,l=s.length,f=w(this,i,n.changedTouches.length===l).event(n);for(zb(n),a=0;a<l;++a)c=[c=ue(u=s[a],this),this.__zoom.invert(c),u.identifier],f.touch0?f.touch1||f.touch0[2]===c[2]||(f.touch1=c,f.taps=0):(f.touch0=c,o=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(f.taps<2&&(e=c[0],t=setTimeout(function(){t=null},d)),Or(this),f.start())}}function T(t,...e){if(this.__zooming){var n,r,i,a,u=w(this,e).event(t),c=t.changedTouches,l=c.length;for(Lb(t),n=0;n<l;++n)i=ue(r=c[n],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var f=u.touch0[0],h=u.touch0[1],d=u.touch1[0],p=u.touch1[1],g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g,y=(y=p[0]-h[0])*y+(y=p[1]-h[1])*y;r=v(r,Math.sqrt(g/y)),i=[(f[0]+d[0])/2,(f[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],a=u.touch0[1]}u.zoom("touch",o(m(r,i,a),u.extent,s))}}function E(t,...r){if(this.__zooming){var i,o,a=w(this,r).event(t),u=t.changedTouches,c=u.length;for(zb(t),n&&clearTimeout(n),n=setTimeout(function(){n=null},d),i=0;i<c;++i)o=u[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=ue(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<g)){var s=ne(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return y.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",Ub),t!==i?_(t,e,n,r):i.interrupt().each(function(){w(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},y.scaleBy=function(t,e,n,r){y.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)},n,r)},y.scaleTo=function(t,e,n,r){y.transform(t,function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?b(t):"function"==typeof n?n.apply(this,arguments):n,u=r.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return o(m(v(r,c),a,u),t,s)},n,r)},y.translateBy=function(t,e,n,r){y.transform(t,function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),s)},null,r)},y.translateTo=function(t,e,n,r,a){y.transform(t,function(){var t=i.apply(this,arguments),a=this.__zoom,u=null==r?b(t):"function"==typeof r?r.apply(this,arguments):r;return o(Ob.translate(u[0],u[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,s)},r,a)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=ne(this.that).datum();h.call(t,this.that,new Db(t,{sourceEvent:this.sourceEvent,target:y,type:t,transform:this.that.__zoom,dispatch:h}),e)}},y.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Ib(+t),y):a},y.filter=function(t){return arguments.length?(r="function"==typeof t?t:Ib(!!t),y):r},y.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Ib(!!t),y):u},y.extent=function(t){return arguments.length?(i="function"==typeof t?t:Ib([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):i},y.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],y):[c[0],c[1]]},y.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(t){return arguments.length?(o=t,y):o},y.duration=function(t){return arguments.length?(l=+t,y):l},y.interpolate=function(t){return arguments.length?(f=t,y):f},y.on=function(){var t=h.on.apply(h,arguments);return t===h?y:t},y.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,y):Math.sqrt(p)},y.tapDistance=function(t){return arguments.length?(g=+t,y):g},y},t.zoomIdentity=Ob,t.zoomTransform=Bb,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).Vimeo=t.Vimeo||{},t.Vimeo.Player=e())}(this,function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function n(t,e){return 0===t.indexOf(e.toLowerCase())?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function r(t){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(t)}function i(t){var e,n=0<arguments.length&&void 0!==t?t:{},i=n.id,o=n.url,a=i||o;if(!a)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(e=a,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return"https://vimeo.com/".concat(a);if(r(a))return a.replace("http:","https:");if(i)throw new TypeError("“".concat(i,"” is not a valid video id."));throw new TypeError("“".concat(a,"” is not a vimeo.com url."))}var o=void 0!==Array.prototype.indexOf,a="undefined"!=typeof window&&void 0!==window.postMessage;if(!(e||o&&a))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var u,c,s,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function f(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(s(this,"_id","_WeakMap_"+d()+"."+d()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function h(t,e){if(!p(t)||!c.call(t,"_id"))throw new TypeError(e+" method called on incompatible receiver "+typeof t)}function d(){return Math.random().toString().substring(2)}function p(t){return Object(t)===t}(u="undefined"!=typeof self?self:"undefined"!=typeof window?window:l).WeakMap||(c=Object.prototype.hasOwnProperty,s=function(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:n}):t[e]=n},u.WeakMap=(s(f.prototype,"delete",function(t){if(h(this,"delete"),!p(t))return!1;var e=t[this._id];return!(!e||e[0]!==t||(delete t[this._id],0))}),s(f.prototype,"get",function(t){if(h(this,"get"),p(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}}),s(f.prototype,"has",function(t){if(h(this,"has"),!p(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)}),s(f.prototype,"set",function(t,e){if(h(this,"set"),!p(t))throw new TypeError("Invalid value used as weak map key");var n=t[this._id];return n&&n[0]===t?n[1]=e:s(t,this._id,[t,e]),this}),s(f,"_polyfill",!0),f));var g,y=(function(t){var e,n,r;r=function(){var t,e,n,r,i,o,a=Object.prototype.toString,u="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,n,r){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==r})}}catch(a){t=function(t,e,n){return t[e]=n,t}}function c(t,e){this.fn=t,this.self=e,this.next=void 0}function s(t,r){n.add(t,r),e=e||u(n.drain)}function l(t){var e,n=typeof t;return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e&&e}function f(){for(var t=0;t<this.chain.length;t++)!function(t,e,n){var r,i;try{!1===e?n.reject(t.msg):(r=!0===e?t.msg:e.call(void 0,t.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=l(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(t){n.reject(t)}}(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function h(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,0<e.chain.length&&s(f,e))}function d(t,e,n,r){for(var i=0;i<e.length;i++)!function(i){t.resolve(e[i]).then(function(t){n(i,t)},r)}(i)}function p(t){this.def=t,this.triggered=!1}function g(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new g(this);this.then=function(t,n){var r={success:"function"!=typeof t||t,failure:"function"==typeof n&&n};return r.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");r.resolve=t,r.reject=e}),e.chain.push(r),0!==e.state&&s(f,e),r.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,function(t){(function t(e){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=l(e))?s(function(){var i=new p(r);try{n.call(e,function(){t.apply(i,arguments)},function(){h.apply(i,arguments)})}catch(t){h.call(i,t)}}):(r.msg=e,r.state=1,0<r.chain.length&&s(f,r))}catch(e){h.call(new p(r),e)}}}).call(e,t)},function(t){h.call(e,t)})}catch(t){h.call(e,t)}}var v=t({},"constructor",y,!(n={add:function(t,e){o=new c(t,e),i?i.next=o:r=o,i=o,o=void 0},drain:function(){var t=r;for(r=i=e=void 0;t;)t.fn.call(t.self),t=t.next}}));return t(y.prototype=v,"__NPO__",0,!1),t(y,"resolve",function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),t(y,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),t(y,"all",function(t){var e=this;return"[object Array]"!=a.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=t.length,o=Array(i),a=0;d(e,t,function(t,e){o[t]=e,++a===i&&n(o)},r)})}),t(y,"race",function(t){var e=this;return"[object Array]"!=a.call(t)?e.reject(TypeError("Not an array")):new e(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");d(e,t,function(t,e){n(e)},r)})}),y},(n=l)[e="Promise"]=n[e]||r(),t.exports&&(t.exports=n[e])}(g={exports:{}}),g.exports),v=new WeakMap;function m(t,e,n){var r=v.get(t.element)||{};e in r||(r[e]=[]),r[e].push(n),v.set(t.element,r)}function b(t,e){return(v.get(t.element)||{})[e]||[]}function _(t,e,n){var r=v.get(t.element)||{};if(!r[e])return!0;if(!n)return r[e]=[],v.set(t.element,r),!0;var i=r[e].indexOf(n);return-1!==i&&r[e].splice(i,1),v.set(t.element,r),r[e]&&0===r[e].length}var w=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function x(t,e){var n=1<arguments.length&&void 0!==e?e:{};return w.reduce(function(e,n){var r=t.getAttribute("data-vimeo-".concat(n));return!r&&""!==r||(e[n]=""===r?1:r),e},n)}function M(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,e.appendChild(r.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function k(t,e,n){var i=1<arguments.length&&void 0!==e?e:{},o=2<arguments.length?n:void 0;return new Promise(function(e,n){if(!r(t))throw new TypeError("“".concat(t,"” is not a vimeo.com url."));var a="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(t));for(var u in i)i.hasOwnProperty(u)&&(a+="&".concat(u,"=").concat(encodeURIComponent(i[u])));var c=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);c.open("GET",a,!0),c.onload=function(){if(404!==c.status)if(403!==c.status)try{var r=JSON.parse(c.responseText);if(403===r.domain_status_code)return M(r,o),void n(new Error("“".concat(t,"” is not embeddable.")));e(r)}catch(r){n(r)}else n(new Error("“".concat(t,"” is not embeddable.")));else n(new Error("“".concat(t,"” was not found.")))},c.onerror=function(){var t=c.status?" (".concat(c.status,")"):"";n(new Error("There was an error fetching the embed code from Vimeo".concat(t,".")))},c.send()})}function A(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return console.warn(t),{}}return t}function S(t,e,n){var r,i;t.element.contentWindow&&t.element.contentWindow.postMessage&&(r={method:e},void 0!==n&&(r.value=n),8<=(i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1")))&&i<10&&(r=JSON.stringify(r)),t.element.contentWindow.postMessage(r,t.origin))}var T,E,C,P=new WeakMap,N=new WeakMap,I={},D=function(){function e(t){var n,o,a=this,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),window.jQuery&&t instanceof jQuery&&(1<t.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),n=t,!Boolean(n&&1===n.nodeType&&"nodeName"in n&&n.ownerDocument&&n.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"===t.nodeName||(o=t.querySelector("iframe"))&&(t=o),"IFRAME"===t.nodeName&&!r(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(P.has(t))return P.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var c,s=new y(function(e,n){var o;a._onMessage=function(t){if(r(t.origin)&&a.element.contentWindow===t.source){"*"===a.origin&&(a.origin=t.origin);var i=A(t.data);if(i&&"error"===i.event&&i.data&&"ready"===i.data.method){var o=new Error(i.data.message);return o.name=i.data.name,void n(o)}var u=i&&"ready"===i.event,c=i&&"ping"===i.method;if(u||c)return a.element.setAttribute("data-ready","true"),void e();!function(t,e){var n,r,i=[];(e=A(e)).event?("error"===e.event&&b(t,e.data.method).forEach(function(n){var r=new Error(e.data.message);r.name=e.data.name,n.reject(r),_(t,e.data.method,n)}),i=b(t,"event:".concat(e.event)),n=e.data):!e.method||(r=function(t,e){var n=b(t,e);if(n.length<1)return!1;var r=n.shift();return _(t,e,r),r}(t,e.method))&&(i.push(r),n=e.value),i.forEach(function(e){try{if("function"==typeof e)return void e.call(t,n);e.resolve(n)}catch(e){}})}(a,i)}},a._window.addEventListener("message",a._onMessage),"IFRAME"!==a.element.nodeName&&k(i(o=x(t,u)),o,t).then(function(e){var n,r,i,o=M(e,t);return a.element=o,a._originalElement=t,n=t,r=o,i=v.get(n),v.set(r,i),v.delete(n),P.set(a.element,a),e}).catch(n)});return N.set(this,s),P.set(this.element,this),"IFRAME"===this.element.nodeName&&S(this,"ping"),I.isEnabled&&(c=function(){return I.exit()},I.on("fullscreenchange",function(){(I.isFullscreen?m:_)(a,"event:exitFullscreen",c),a.ready().then(function(){S(a,"fullscreenchange",I.isFullscreen)})})),this}var o,a;return o=e,(a=[{key:"callMethod",value:function(t,e){var n=this,r=1<arguments.length&&void 0!==e?e:{};return new y(function(e,i){return n.ready().then(function(){m(n,t,{resolve:e,reject:i}),S(n,t,r)}).catch(i)})}},{key:"get",value:function(t){var e=this;return new y(function(r,i){return t=n(t,"get"),e.ready().then(function(){m(e,t,{resolve:r,reject:i}),S(e,t)}).catch(i)})}},{key:"set",value:function(t,e){var r=this;return new y(function(i,o){if(t=n(t,"set"),null==e)throw new TypeError("There must be a value to set.");return r.ready().then(function(){m(r,t,{resolve:i,reject:o}),S(r,t,e)}).catch(o)})}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===b(this,"event:".concat(t)).length&&this.callMethod("addEventListener",t).catch(function(){}),m(this,"event:".concat(t),e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");_(this,"event:".concat(t),e)&&this.callMethod("removeEventListener",t).catch(function(t){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=N.get(this)||new y(function(t,e){e(new Error("Unknown player. Probably unloaded."))});return y.resolve(t)}},{key:"addCuePoint",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};return this.callMethod("addCuePoint",{time:t,data:n})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return I.isEnabled?I.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return I.isEnabled?I.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return I.isEnabled?y.resolve(I.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new y(function(e){var n;N.delete(t),P.delete(t.element),t._originalElement&&(P.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),t.element&&"DIV"===t.element.nodeName&&t.element.parentNode&&(t.element.removeAttribute("data-vimeo-initialized"),(n=t.element.querySelector("iframe"))&&n.parentNode&&n.parentNode.removeChild(n)),t._window.removeEventListener("message",t._onMessage),e()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(t){return this.set("cameraProps",t)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(t){return this.set("quality",t)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}])&&t(o.prototype,a),e}();return e||(T=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,r=e.length,i={};n<r;n++)if((t=e[n])&&t[1]in document){for(n=0;n<t.length;n++)i[e[0][n]]=t[n];return i}return!1}(),E={fullscreenchange:T.fullscreenchange,fullscreenerror:T.fullscreenerror},C={request:function(t){return new Promise(function(e,n){function r(){C.off("fullscreenchange",r),e()}C.on("fullscreenchange",r);var i=(t=t||document.documentElement)[T.requestFullscreen]();i instanceof Promise&&i.then(r).catch(n)})},exit:function(){return new Promise(function(t,e){var n,r;C.isFullscreen?(n=function e(){C.off("fullscreenchange",e),t()},C.on("fullscreenchange",n),(r=document[T.exitFullscreen]())instanceof Promise&&r.then(n).catch(e)):t()})},on:function(t,e){var n=E[t];n&&document.addEventListener(n,e)},off:function(t,e){var n=E[t];n&&document.removeEventListener(n,e)}},Object.defineProperties(C,{isFullscreen:{get:function(){return Boolean(document[T.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[T.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[T.fullscreenEnabled])}}}),I=C,function(t){function e(t){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(t))}var n=(arguments.length,document);[].slice.call(n.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var n=x(t);k(i(n),n,t).then(function(e){return M(e,t)}).catch(e)}catch(n){e(n)}})}(),function(t){var e=(arguments.length,document);window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",function(t){if(r(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),i=0;i<n.length;i++)if(n[i].contentWindow===t.source){n[i].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}}))}()),D});